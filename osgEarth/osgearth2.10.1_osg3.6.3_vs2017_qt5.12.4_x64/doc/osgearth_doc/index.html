

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>osgEarth 2.10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/_static/css/theme.css" type="text/css" />
    <link rel="author" title="About these documents" href="index.html#document-about" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.osgearth.org/en/latest/" />

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'index'
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html#document-index" class="icon icon-home"> osgEarth
          

          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-about">About the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#community-resources">Community Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#maintainers">Maintainers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-startup">Building osgEarth</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-the-source-code">Get the Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-the-dependencies">Get the Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#build-it">Build it</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-user/index">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-user/tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-user/earthfiles">Using Earth Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-user/caching">Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-user/spatialreference">Spatial References</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-user/features">Features &amp; Symbology</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-developer/index">Developer Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-developer/maps">Working with Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-developer/utilities">Utilities SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-developer/shader_composition">Shader Composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-developer/coordinate_systems">Coordinate Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-data">Working with Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#where-to-find-data">Where to Find Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tips-for-preparing-your-own-data">Tips for Preparing your own Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-references/index">Reference Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-references/earthfile">Earth File Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-references/drivers/index">Driver Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-references/symbology">Symbology Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-references/colorfilters">Color Filter Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#document-references/envvars">Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-faq">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#common-usage">Common Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-terrain-formats">Other Terrain Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#community-and-support">Community and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#licensing">Licensing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-releasenotes">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-10-november-2018">Version 2.10 (November 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-9-february-2018">Version 2.9 (February 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-8-september-2016">Version 2.8 (September 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-7-july-2015">Version 2.7 (July 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-6-october-2014">Version 2.6 (October 2014)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-5-november-2013">Version 2.5 (November 2013)</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#version-2-4-april-2013">Version 2.4 (April 2013)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-support">osgEarth Priority Support</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html#document-index">osgEarth</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html#document-index">Docs</a> &raquo;</li>
        
      <li>osgEarth 2.10 documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/gwaldron/osgearth/blob/master/docs/source/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="osgearth-a-c-geospatial-sdk">
<h1>osgEarth - a C++ Geospatial SDK<a class="headerlink" href="#osgearth-a-c-geospatial-sdk" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the <a class="reference external" href="http://osgearth.org">osgEarth</a> documentation!</p>
<p>The osgEarth documentation is stored in the git repository alongside the
code. So if you see missing docs, please help by writing and contributing!
Thank you!</p>
<div class="section" id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-about"></span><div class="section" id="about-the-project">
<h3>About the Project<a class="headerlink" href="#about-the-project" title="Permalink to this headline">¶</a></h3>
<div class="section" id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://osgEarth.org">osgEarth</a> is a geospatial SDK and terrain engine for <a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a> applications.</p>
<p>The goals of <a class="reference external" href="http://osgEarth.org">osgEarth</a> are to:</p>
<ul class="simple">
<li>Enable the development of 3D geospatial appliations on top of <a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a>.</li>
<li>Make it as easy as possible to visualize terrian models and imagery directly from source data.</li>
<li>Interoperate with open mapping standards, technologies, and data.</li>
</ul>
<p><strong>So is it for me?</strong></p>
<p>So: does osgEarth replace the need for offline terrain database creation tools? In many cases it does.</p>
<p>Consider using <a class="reference external" href="http://osgEarth.org">osgEarth</a> if you need to:</p>
<blockquote>
<div><ul class="simple">
<li>Get a terrain base map up and running quickly and easily</li>
<li>Access open-standards map data services like WMS or TMS</li>
<li>Integrate locally-stored data with web-service-based imagery</li>
<li>Incorporate new geospatial data layers at run-time</li>
<li>Deal with data that may change over time</li>
<li>Integrate with a commercial data provider</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="community-resources">
<h4>Community Resources<a class="headerlink" href="#community-resources" title="Permalink to this headline">¶</a></h4>
<p>Since <a class="reference external" href="http://osgEarth.org">osgEarth</a> is a free open source SDK, the source code is available to
anyone and we welcome and encourage community participation when it comes
to testing, adding features, and fixing bugs.</p>
<p><strong>Public Forum</strong></p>
<blockquote>
<div><p>The first way to interact with the osgEarth team and the user community is
through the <a class="reference external" href="http://forum.osgearth.osg">support forum</a>. <strong>Please read</strong> and follow these guidelines for
using the forum. FOLLOWING THESE GUIDELINES will make it MUCH MORE LIKELY
that someone will respond and try to help:</p>
<ul class="simple">
<li>Sign up for an account and use your real name. You can participate
anonymously, but using your real name helps build a stronger community.
Sign your posts too!</li>
<li>Limit yourself to <em>one topic</em> per post. Asking multiple questions in one
post makes it too hard to keep track of responses.</li>
<li>Always include as much supporting information as possible. Post an
<em>earth file</em> or <em>short code snippet</em>. Post the output to <code class="docutils literal notranslate"><span class="pre">osgearth_version</span> <span class="pre">--caps</span></code>.
Post the output to <code class="docutils literal notranslate"><span class="pre">gdalinfo</span></code> if you are having trouble with a GeoTIFF
or other data file. List everything you have tried so far.</li>
<li>Be patient!</li>
</ul>
</div></blockquote>
<p><strong>Priority Support</strong></p>
<blockquote>
<div>If you have several questions, or need more in-depth help involving code
review, design, etc., consider purchasing <a class="reference external" href="http://web.pelicanmapping.com/priority-support">Priority Support</a> directly
from Pelican Mapping (the maintainers of osgEarth). Priority Support
gives you tracked, timely, personal email-based assistance!</div></blockquote>
<p><strong>OSG Forum</strong></p>
<blockquote>
<div>Since <a class="reference external" href="http://osgEarth.org">osgEarth</a> is built on top of <a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a>, many questions we get
on the message boards are really OSG questions. We will still try our
best to help. But it’s worth your while to join the <a class="reference external" href="http://lists.openscenegraph.org/listinfo.cgi/osg-users-openscenegraph.org">OSG Mailing List</a> or
read the <a class="reference external" href="http://forum.openscenegraph.org">OSG Forum</a> regularly as well.</div></blockquote>
<p><strong>Social Media</strong></p>
<blockquote>
<div><ul class="simple">
<li>Follow <a class="reference external" href="https://twitter.com/pelicanmapping">&#64;pelicanmapping</a> on twitter for updates.</li>
<li>Add our <a class="reference external" href="https://plus.google.com/b/104014917856468748129/104014917856468748129/posts">Google+ Page</a> to your circles for gallery shots.</li>
</ul>
</div></blockquote>
<p><strong>Professional Services</strong></p>
<blockquote>
<div>The osgEarth team supports its efforts through professional services. At
<a class="reference external" href="http://pelicanmapping.com">Pelican Mapping</a> we do custom software development and integration work
involving <a class="reference external" href="http://osgEarth.org">osgEarth</a> (and geospatial technologies in general).
We are based in the US but we work with clients all over the world.
<a class="reference external" href="http://pelicanmapping.com/?page_id=2">Contact us</a> if you need help!</div></blockquote>
</div>
<div class="section" id="license">
<h4>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://osgEarth.org">osgEarth</a> is licensed under the <a class="reference external" href="http://www.gnu.org/copyleft/lesser.html">LGPL</a> free open source license.</p>
<p>This means that:</p>
<blockquote>
<div><ol class="arabic simple">
<li>You can link to the <a class="reference external" href="http://osgEarth.org">osgEarth</a> SDK in any commercial or non-commercial
application free of charge.</li>
<li>If you make any changes to <a class="reference external" href="http://osgEarth.org">osgEarth</a> <em>itself</em>, you must make those changes
available as free open source software under the LGPL license. (Typically
this means contributing your changes back to the project, but it is
sufficient to host them in a public GitHub clone.)</li>
<li>If you redistribute the <a class="reference external" href="http://osgEarth.org">osgEarth</a> <em>source code</em> in any form, you must
include the associated copyright notices and license information
unaltered and intact.</li>
<li><em>iOS / static linking exception</em>: The LGPL requires that anything statically
linked to an LGPL library (like osgEarth) also be released under the LGPL.
We grant an exception to the LGPL in this case. If you statically link
osgEarth with your proprietary code, you are <em>NOT</em> required to release your
own code under the LGPL.</li>
</ol>
</div></blockquote>
<p>That’s it.</p>
</div>
<div class="section" id="maintainers">
<h4>Maintainers<a class="headerlink" href="#maintainers" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://pelicanmapping.com">Pelican Mapping</a> maintains <a class="reference external" href="http://osgEarth.org">osgEarth</a>.</p>
</div>
</div>
<span id="document-startup"></span><div class="section" id="building-osgearth">
<h3>Building osgEarth<a class="headerlink" href="#building-osgearth" title="Permalink to this headline">¶</a></h3>
<p>osgEarth is a cross-platform library. It uses the <a class="reference external" href="http://www.cmake.org">CMake</a> build system.
You will need <strong>version 2.8</strong> or newer.
(This is the same build system that <a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a> uses.)</p>
<dl class="docutils">
<dt><strong>Platform specific guides</strong></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="index.html#document-vcpkg"><span class="doc">Building osgEarth for Windows using vcpkg</span></a></li>
<li><a class="reference internal" href="index.html#document-ios"><span class="doc">Building osgEarth (and OSG) for iOS</span></a></li>
</ul>
</dd>
</dl>
<div class="section" id="get-the-source-code">
<h4>Get the Source Code<a class="headerlink" href="#get-the-source-code" title="Permalink to this headline">¶</a></h4>
<p><strong>Option 1: use GIT</strong></p>
<blockquote>
<div><p>osgEarth is hosted on <a class="reference external" href="http://github.com/gwaldron/osgearth">GitHub</a>. You will need a <em>git</em> client to access it.
We recommend <a class="reference external" href="http://code.google.com/p/tortoisegit">TortoiseGit</a> for Windows users.</p>
<p>To clone the repository, point your client at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gwaldron</span><span class="o">/</span><span class="n">osgearth</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Option 2: download a tagged version</strong></p>
<blockquote>
<div>To download a tarball or ZIP archive of the source code, visit the
<a class="reference external" href="http://github.com/gwaldron/osgearth/tags">osgEarth Tags</a> and select the one you want. The latest official release
will be at or near the top.</div></blockquote>
</div>
<div class="section" id="get-the-dependencies">
<h4>Get the Dependencies<a class="headerlink" href="#get-the-dependencies" title="Permalink to this headline">¶</a></h4>
<p><strong>Required dependencies</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a> 3.4 or later</li>
<li><a class="reference external" href="http://www.gdal.org/">GDAL</a> 2.0 or later - Geospatial Data Abstraction Layer</li>
<li><a class="reference external" href="http://curl.haxx.se/libcurl/">CURL</a> - HTTP transfer library (comes with <a class="reference external" href="http://openscenegraph.org">OpenSceneGraph</a> 3rd party library distros)</li>
</ul>
</div></blockquote>
<p><strong>Recommended pre-built dependencies</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://downloads.alphapixel.org/">AlphaPixel</a> has pre-built <a class="reference external" href="http://openscenegraph.org">OSG</a> and 3rd-party dependencies for various architectures.</li>
<li>Pre-built <a class="reference external" href="http://www.gisinternals.com/">GDAL binaries</a> for various architectures.</li>
<li>Use <a class="reference external" href="https://github.com/Microsoft/vcpkg">vcpkg</a> to install required dependencies</li>
</ul>
</div></blockquote>
<p><strong>Optional dependencies</strong>: osgEarth will compile without them. Look and decide what you need</p>
<blockquote>
<div><ul>
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/geos/">GEOS</a> 3.2.0 or later - C++ library for topological operations.
osgEarth uses GEOS to perform various geometry operations like buffering and intersections.
If you plan to use vector feature data in osgEarth, you probably want this.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://www.sqlite.org/">SQLite</a> - Self-contained, serverless, zero-configuration, transactional SQL database engine.
Used for accessing sqlite/mbtiles datasets. You may need these tips to create the necessary
.lib file from the .def and .dll files included in the Windows binaries:
<a class="reference external" href="http://eli.thegreenplace.net/2009/09/23/compiling-sqlite-on-windows">http://eli.thegreenplace.net/2009/09/23/compiling-sqlite-on-windows</a></li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a href="#id1"><span class="problematic" id="id2">QT_</span></a> 5.4 or later - Cross-platform UI framework. Used to built the osgEarthQt support library, which is
useful (though not required) for building Qt applications that us osgEarth.  Point the
<code class="docutils literal notranslate"><span class="pre">QT_QMAKE_EXECUTABLE</span></code> CMake variable to the <code class="docutils literal notranslate"><span class="pre">qmake.exe</span></code> you want to use and CMake will
populate all the other QT variables.</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="build-it">
<h4>Build it<a class="headerlink" href="#build-it" title="Permalink to this headline">¶</a></h4>
<p>Make sure you built <a class="reference external" href="http://openscenegraph.org">OSG</a> and all the dependencies first.</p>
<p>osgEarth uses <a class="reference external" href="http://www.cmake.org">CMake</a>, version 2.8 or later. Since <a class="reference external" href="http://openscenegraph.org">OSG</a> uses <a class="reference external" href="http://www.cmake.org">CMake</a> as well,
once you get OSG built the process should be familiar.</p>
<p>Here are a few tips.</p>
<blockquote>
<div><ul class="simple">
<li>Always do an “out-of-source” build with CMake. That is, use a build directory
that is separate from the source code. This makes it easier to maintain separate
versions and to keep GIT updates clean.</li>
<li>For optional dependencies (like <a class="reference external" href="http://trac.osgeo.org/geos/">GEOS</a>), just leave the CMake field blank
if you are not using it.</li>
<li>For the OSG dependencies, just input the <strong>OSG_DIR</strong> variable, and when you generate
CMake will automatically find all the other OSG directories.</li>
<li>As always, check <a class="reference external" href="http://forum.osgearth.org">the forum</a> if you have problems!</li>
</ul>
</div></blockquote>
<p><strong>Good luck!!</strong></p>
</div>
</div>
<span id="document-user/index"></span><div class="section" id="user-guide">
<h3>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-user/tools"></span><div class="section" id="tools">
<h4>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h4>
<p>osgEarth comes with many tools that help you work with earth files and geospatial data.</p>
<div class="section" id="osgearth-viewer">
<h5>osgearth_viewer<a class="headerlink" href="#osgearth-viewer" title="Permalink to this headline">¶</a></h5>
<p>osgearth_viewer can load and display a map from and command line.  The osgEarth EarthManipulator is
used to control the camera and is optimized for viewing geospatial data.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_viewer</span> <span class="n">earthfile</span><span class="o">.</span><span class="n">earth</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--sky</span></code></td>
<td>Installs a SkyNode (sun, moon, stars and atmosphere..globe only)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--kml</span> <span class="pre">[file.kml]</span></code></td>
<td>Loads a KML or KMZ file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--kmlui</span></code></td>
<td>Displays a limited UI for toggling KML placemarks and folders</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--coords</span></code></td>
<td>Displays map coords under mouse</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--ortho</span></code></td>
<td>Installs an orthographic camera projection</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--logdepth</span></code></td>
<td>Activates the logarithmic depth buffer in high-speed mode.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--logdepth2</span></code></td>
<td>Activates the logarithmic depth buffer in high-precision mode.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--uniform</span> <span class="pre">[name]</span> <span class="pre">[min]</span> <span class="pre">[max]</span></code></td>
<td>Installs a uniform and displays an on-screen slider to control its
value. Helpful for debugging.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--ico</span></code></td>
<td>Activates OSG’s IncrementalCompileOperation, which will compile
paged objects over a series of frames (reducing frame breaks).
This is actually an OpenSceneGraph option, but useful for osgEarth</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-version">
<h5>osgearth_version<a class="headerlink" href="#osgearth-version" title="Permalink to this headline">¶</a></h5>
<p><strong>osgearth_version</strong> displays the current version of osgEarth.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--caps</span></code></td>
<td>Print out system capabilities</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--major-number</span></code></td>
<td>Print out major version number only</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--minor-number</span></code></td>
<td>Print out minor version number only</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--patch-number</span></code></td>
<td>Print out patch version number only</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--so-number</span></code></td>
<td>Print out shared object version number only</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--version-number</span></code></td>
<td>Print out version number only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-cache">
<h5>osgearth_cache<a class="headerlink" href="#osgearth-cache" title="Permalink to this headline">¶</a></h5>
<p>osgearth_cache can be used to manage osgEarth’s cache.  See <a class="reference internal" href="index.html#document-user/caching"><span class="doc">Caching</span></a> for more information on caching.
The most common usage of osgearth_cache is to populate a cache in a non-interactive manner using the <code class="docutils literal notranslate"><span class="pre">--seed</span></code> argument.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_cache</span> <span class="o">--</span><span class="n">seed</span> <span class="n">file</span><span class="o">.</span><span class="n">earth</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--list</span></code></td>
<td>Lists info about the cache in a .earth file</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--seed</span></code></td>
<td>Seeds the cache in a .earth file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--estimate</span></code></td>
<td>Print out an estimation of the number of tiles, disk space and
time it will take to perform this seed operation</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--mp</span></code></td>
<td>Use multiprocessing to process the tiles.  Useful for GDAL
sources as this avoids the global GDAL lock</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--mt</span></code></td>
<td>Use multithreading to process the tiles.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--concurrency</span></code></td>
<td>The number of threads or processes to use if –mp or –mt
are provided</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--min-level</span> <span class="pre">level</span></code></td>
<td>Lowest LOD level to seed (default=0)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--max-level</span> <span class="pre">level</span></code></td>
<td>Highest LOD level to seed (default=highest available)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--bounds</span> <span class="pre">xmin</span> <span class="pre">ymin</span> <span class="pre">xmax</span> <span class="pre">ymax</span></code></td>
<td>Geospatial bounding box to seed
(in map coordinates; default=entire map</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--index</span> <span class="pre">shapefile</span></code></td>
<td>Loads a shapefile (.shp) and uses the feature extents to set the
cache seeding bounding box(es). For each feature in the shapefile,
adds a bounding box (similar to <code class="docutils literal notranslate"><span class="pre">--bounds</span></code>) to constrain the
region you wish to cache.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--cache-path</span> <span class="pre">path</span></code></td>
<td>Overrides the cache path in the .earth file</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--cache-type</span> <span class="pre">type</span></code></td>
<td>Overrides the cache type in the .earth file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--purge</span></code></td>
<td>Purges a layer cache in a .earth file</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-conv">
<h5>osgearth_conv<a class="headerlink" href="#osgearth-conv" title="Permalink to this headline">¶</a></h5>
<p>osgearth_conv copies the contents of one TileSource to another. All arguments are Config name/value pairs,
so you need to look in the header file for each driver’s Options structure for options. Of course, the output
driver must support writing (by implementing the ReadWriteTileSource interface). The “in” properties come
from the GDALOptions getConfig method. The “out” properties come from the MBTilesOptions getConfig method.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_conv</span> <span class="o">--</span><span class="ow">in</span> <span class="n">driver</span> <span class="n">gdal</span> <span class="o">--</span><span class="ow">in</span> <span class="n">url</span> <span class="n">world</span><span class="o">.</span><span class="n">tif</span> <span class="o">--</span><span class="n">out</span> <span class="n">driver</span> <span class="n">mbtiles</span> <span class="o">--</span><span class="n">out</span> <span class="n">filename</span> <span class="n">world</span><span class="o">.</span><span class="n">db</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--in</span> <span class="pre">[name]</span> <span class="pre">[value]</span></code></td>
<td>set the value of an input property</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--out</span> <span class="pre">[name]</span> <span class="pre">[value]</span></code></td>
<td>set the value of an output property</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--elevation</span></code></td>
<td>convert as elevation data (instead of image data)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--profile</span> <span class="pre">[profile]</span></code></td>
<td>reproject to the target profile, e.g. “wgs84”</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--min-level</span> <span class="pre">[int]</span></code></td>
<td>min level of detail to copy</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--max-level</span> <span class="pre">[int]</span></code></td>
<td>max level of detail to copy</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--threads</span> <span class="pre">[n]</span></code></td>
<td>threads to use (Careful, may crash. Doesn’t help with GDAL inputs)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--extents</span> <span class="pre">[minLat]</span> <span class="pre">[minLong]</span></code>
<code class="docutils literal notranslate"><span class="pre">[maxLat]</span> <span class="pre">[maxLong]</span></code></td>
<td>Lat/Long extends to copy</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-package">
<h5>osgearth_package<a class="headerlink" href="#osgearth-package" title="Permalink to this headline">¶</a></h5>
<p>osgearth_package creates a redistributable <a class="reference external" href="http://en.wikipedia.org/wiki/Tile_Map_Service">TMS</a> based package from an earth file.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_package</span> <span class="o">--</span><span class="n">tms</span> <span class="n">file</span><span class="o">.</span><span class="n">earth</span> <span class="o">--</span><span class="n">out</span> <span class="n">package</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--tms</span></code></td>
<td>make a TMS repo</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--out</span> <span class="pre">path</span></code></td>
<td>root output folder of the TMS repo (required)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--bounds</span> <span class="pre">xmin</span> <span class="pre">ymin</span> <span class="pre">xmax</span> <span class="pre">ymax</span></code></td>
<td>bounds to package (in map coordinates; default=entire map)
You can provide multiple bounds</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--max-level</span> <span class="pre">level</span></code></td>
<td>max LOD level for tiles (all layers; default=5). Note: you can set
this to a large number to get all available data (e.g., 99). This
works fine for files (like a GeoTIFF). But some data sources do
not report (or have) a maximum data level, so it’s better to
specify a specific maximum.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--out-earth</span> <span class="pre">earthfile</span></code></td>
<td>export an earth file referencing the new repo</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--ext</span> <span class="pre">extension</span></code></td>
<td>overrides the image file extension (e.g. jpg)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--overwrite</span></code></td>
<td>overwrite existing tiles</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--keep-empties</span></code></td>
<td>writes out fully transparent image tiles (normally discarded)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--continue-single-color</span></code></td>
<td>continues to subdivide single color tiles,
subdivision typicall stops on single color images</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--db-options</span></code></td>
<td>db options string to pass to the image writer
in quotes (e.g., “JPEG_QUALITY 60”)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--mp</span></code></td>
<td>Use multiprocessing to process the tiles.  Useful for GDAL
sources as this avoids the global GDAL lock</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--mt</span></code></td>
<td>Use multithreading to process the tiles.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--concurrency</span></code></td>
<td>The number of threads or processes to use if –mp or –mt
are provided</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--alpha-mask</span></code></td>
<td>Mask out imagery that isn’t in the provided extents.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--verbose</span></code></td>
<td>Displays progress of the operation</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-tfs">
<h5>osgearth_tfs<a class="headerlink" href="#osgearth-tfs" title="Permalink to this headline">¶</a></h5>
<p>osgearth_tfs generates a TFS dataset from a feature source such as a shapefile.  By pre-processing your features
into the gridded structure provided by TFS you can significantly increase performance of large datasets.
In addition, the TFS package generated can be served by any standard web server, web enabling your dataset.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_tfs</span> <span class="n">filename</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">filename</span></code></td>
<td>Shapefile (or other feature source data file )</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--first-level</span> <span class="pre">level</span></code></td>
<td>The first level where features will be added to the quadtree</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--max-level</span> <span class="pre">level</span></code></td>
<td>The maximum level of the feature quadtree</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--max-features</span></code></td>
<td>The maximum number of features per tile</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--grid</span></code></td>
<td>Generate a single level grid with the specified resolution.
Default units are meters. (ex. 50, 100km, 200mi)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--out</span></code></td>
<td>The destination directory</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--layer</span></code></td>
<td>The name of the layer to be written to the metadata document</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--description</span></code></td>
<td>The abstract/description of the layer to be written
to the metadata document</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--expression</span></code></td>
<td>The expression to run on the feature source,
specific to the feature source</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--order-by</span></code></td>
<td>Sort the features, if not already included in the expression.
Append DESC for descending order!</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--crop</span></code></td>
<td>Crops features instead of doing a centroid check.
Features can be added to multiple tiles when cropping is enabled</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--dest-srs</span></code></td>
<td>The destination SRS string in any format osgEarth can
understand (wkt, proj4, epsg).
If none is specific the source data SRS will be used.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-backfill">
<h5>osgearth_backfill<a class="headerlink" href="#osgearth-backfill" title="Permalink to this headline">¶</a></h5>
<p>osgearth_backfill is a specialty tool that is used to post-process <a class="reference external" href="http://en.wikipedia.org/wiki/Tile_Map_Service">TMS</a> datasets.  Some web mapping services use different completely different datasets
at different zoom levels.  For example, they may use NASA BlueMarble imagery until they reach level 4, then abruptly switch to LANDSAT data.  This is fine for
2D slippy map visualization but can be visually distracting when viewed in 3D because neighboring tiles at different LODs look completely different.</p>
<p>osgearth_backfill lets you generate a TMS dataset like you normally would (using osgearth_package or another tool) and then “backfill” lower levels of detail from
a specified higher level of detail.  For example, you can specify a max level of 10 and lods 0-9 will be regenerated based on the data found in level 10.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_backfill</span> <span class="n">tms</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--bounds</span> <span class="pre">xmin</span> <span class="pre">ymin</span> <span class="pre">xmax</span> <span class="pre">ymax</span></code></td>
<td>bounds to backfill (in map coordinates; default=entire map</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--min-level</span> <span class="pre">level</span></code></td>
<td>The minimum level to stop backfilling to. (default=0)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--max-level</span> <span class="pre">level</span></code></td>
<td>The level to start backfilling from(default=inf)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--db-options</span></code></td>
<td>db options string to pass to the
image writer in quotes (e.g., “JPEG_QUALITY 60”)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-boundarygen">
<h5>osgearth_boundarygen<a class="headerlink" href="#osgearth-boundarygen" title="Permalink to this headline">¶</a></h5>
<p>osgearth_boundarygen generates boundary geometry that you can use with an osgEarth &lt;mask&gt; layer in order to
stich an external model into the terrain.</p>
<p><strong>Sample Usage</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_boundarygen</span> <span class="n">model_file</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--out</span> <span class="pre">file_name</span></code></td>
<td>output file for boundary geometry (default is boundary.txt)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--no-geocentric</span></code></td>
<td>Skip geocentric reprojection (for flat databases)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--convex-hull</span></code></td>
<td>calculate a convex hull instead of a full boundary</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--verbose</span></code></td>
<td>print progress to console</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--view</span></code></td>
<td>show result in 3D window</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--tolerance</span></code> N</td>
<td>vertices less than this distance apart will be coalesced (0.005)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--precision</span></code> N</td>
<td>output coordinates will have this many significant digits (12)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="osgearth-overlayviewer">
<h5>osgearth_overlayviewer<a class="headerlink" href="#osgearth-overlayviewer" title="Permalink to this headline">¶</a></h5>
<p><strong>osgearth_overlayviewer</strong> is a utility for debugging the overlay decorator capability in osgEarth.  It shows two windows, one with the normal
view of the map and another that shows the bounding frustums that are used for the overlay computations.</p>
</div>
</div>
<span id="document-user/earthfiles"></span><div class="section" id="using-earth-files">
<h4>Using Earth Files<a class="headerlink" href="#using-earth-files" title="Permalink to this headline">¶</a></h4>
<p>An <em>Earth File</em> is an XML description of a map. Creating an <em>earth file</em> is the
easiest way to configure a map and get up and running quickly. In the osgEarth
repository you will find dozens of sample earth files in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder,
covering various topics and demonstrating various features. We encourage you to
explore and try them out!</p>
<blockquote>
<div>Also see: <a class="reference internal" href="index.html#document-references/earthfile"><span class="doc">Earth File Reference</span></a></div></blockquote>
<div class="section" id="contents-of-an-earth-file">
<h5>Contents of an Earth File<a class="headerlink" href="#contents-of-an-earth-file" title="Permalink to this headline">¶</a></h5>
<p>osgEarth uses an XML based file format called an <em>Earth File</em> to specify exactly
how source data turns into an OSG scene graph. An Earth File has a <code class="docutils literal notranslate"><span class="pre">.earth</span></code>
extension, but it is XML.</p>
<p>Fundamentally the Earth File allows you to specify:</p>
<ul class="simple">
<li>The type of map to create (geocentric or projected)</li>
<li>The image, elevation, vector and model sources to use</li>
<li>Where the data will be cached</li>
</ul>
</div>
<div class="section" id="a-simple-earth-file">
<h5>A Simple Earth File<a class="headerlink" href="#a-simple-earth-file" title="Permalink to this headline">¶</a></h5>
<p>Here is a very simple example that reads data from a GeoTIFF file on the local
file system and renders it as a geocentric round Earth scene:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyMap&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;bluemarble&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;gdal&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">world</span><span class="o">.</span><span class="n">tif</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nb">map</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This Earth File creates a geocentric Map named <code class="docutils literal notranslate"><span class="pre">MyMap</span></code> with a single
GeoTIFF image source called <code class="docutils literal notranslate"><span class="pre">bluemarble</span></code>. The <code class="docutils literal notranslate"><span class="pre">driver</span></code> attribute
tells osgEarth which of its plugins to use to use to load the image.
(osgEarth uses a plug-in framework to load different types of data
from different sources.)</p>
<p>Some of the sub-elements (under <code class="docutils literal notranslate"><span class="pre">image</span></code>) are particular to the selected
driver. To learn more about drivers and how to configure each one, please
refer to the <a class="reference external" href="#">Driver Reference Guide</a>.</p>
</div>
<div class="section" id="multiple-image-layers">
<h5>Multiple Image Layers<a class="headerlink" href="#multiple-image-layers" title="Permalink to this headline">¶</a></h5>
<p>osgEarth supports maps with multiple image sources.
This allows you to create maps such as base layer with a transportation
overlay or provide high resolution insets for specific areas that sit
atop a lower resolution base map.</p>
<p>To add multiple images to a Earth File, simply add multiple “image” blocks
to your Earth File:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;map name=&quot;Transportation&quot;&gt;

    &lt;!--Add a base map of the blue marble data--&gt;
    &lt;image name=&quot;bluemarble&quot; driver=&quot;gdal&quot;&gt;
        &lt;url&gt;c:/data/bluemarble.tif&lt;/url&gt;
    &lt;/image&gt;

    &lt;!--Add a high resolution inset of Washington, DC--&gt;
    &lt;image name=&quot;dc&quot; driver=&quot;gdal&quot;&gt;
        &lt;url&gt;c:/data/dc_high_res.tif&lt;/url&gt;
    &lt;/image&gt;

&lt;/map&gt;
</pre></div>
</div>
<p>The above map provides two images from local data sources using the GDAL driver.
Order is important when defining multiple image sources: osgEarth renders them
in the order in which they appear in the Earth File.</p>
<blockquote>
<div><em>Tip: relative paths within an Earth File are interpreted
as being relative to the Earth File itself.</em></div></blockquote>
</div>
<div class="section" id="adding-elevation-data">
<h5>Adding Elevation Data<a class="headerlink" href="#adding-elevation-data" title="Permalink to this headline">¶</a></h5>
<p>Adding elevation data (sometimes called “terrain data”) to an Earth File is
very similar to adding images. Use an <code class="docutils literal notranslate"><span class="pre">elevation</span></code> block like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;map name=&quot;Elevation&quot;&gt;

    &lt;!--Add a base map of the blue marble data--&gt;
    &lt;image name=&quot;bluemarble&quot; driver=&quot;gdal&quot;&gt;
        &lt;url&gt;c:/data/bluemarble.tif&lt;/url&gt;
    &lt;/image&gt;

    &lt;!--Add SRTM data--&gt;
    &lt;elevation name=&quot;srtm&quot; driver=&quot;gdal&quot;&gt;
        &lt;url&gt;c:/data/SRTM.tif&lt;/url&gt;
    &lt;/elevation&gt;

&lt;/map&gt;
</pre></div>
</div>
<p>This Earth File has a base <code class="docutils literal notranslate"><span class="pre">bluemarble</span></code> image as well as a elevation
grid that is loaded from a local GeoTIFF file. You can add as many elevation
layers as you like; osgEarth will combine them into a single mesh.</p>
<p>As with images, order is important - For example, if you have a base
elevation data source with low-resolution coverage of the entire world and
a high-resolution inset of a city, you need specify the base data FIRST,
followed by the high-resolution inset.</p>
<p>Some osgEarth drivers can generate elevation grids as well as imagery.</p>
<blockquote>
<div><em>Note: osgEarth only supports single-channel 16-bit integer or 32-bit
floating point data for use in elevation layers.</em></div></blockquote>
</div>
<div class="section" id="caching">
<h5>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h5>
<p>Since osgEarth renders data on demand, it sometimes needs to do some work in
order to prepare a tile for display. The <em>cache</em> exists so that osgEarth can
save the results of this work for next time, instead of processing the tile
anew each time. This increases performance and avoids multiple downloads of
the same data.</p>
<p>Here’s an example cache setup:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;map name=&quot;TMS Example&quot;&gt;

    &lt;image name=&quot;metacarta blue marble&quot; driver=&quot;tms&quot;&gt;
        &lt;url&gt;http://readymap.org/readymap/tiles/1.0.0/7/&lt;/url&gt;
    &lt;/image&gt;

    &lt;options&gt;
        &lt;!--Specify where to cache the data--&gt;
        &lt;cache type=&quot;filesystem&quot;&gt;
            &lt;path&gt;c:/osgearth_cache&lt;/path&gt;
        &lt;/cache&gt;
    &lt;/options&gt;

&lt;/map&gt;
</pre></div>
</div>
<p>This Earth File shows the most basic way to specify a cache for osgEarth.
This tells osgEarth to enable caching and to cache to the folder <code class="docutils literal notranslate"><span class="pre">c:/osgearth_cache</span></code>.
The cache path can be relative or absolute; relative paths are relative to the
Earth File itself.</p>
<p>There are many ways to configure caching; please refer to the section on <a class="reference internal" href="#caching">Caching</a> for
more details.</p>
</div>
</div>
<span id="document-user/maps"></span><span id="document-user/caching"></span><div class="section" id="caching">
<h4>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h4>
<p>Depending on the nature of the source data, osgEarth may have to perform
some processing on it before it becomes a terrain tile. This may
include downloading, reprojection, cropping, mosacing, or compositing, to
name a few. These operations can become expensive. By setting up a cache,
you can direct osgEarth to store the result of the processing so that it
doesn’t need to do it again the next time the same tile is needed.</p>
<blockquote>
<div>Note! osgEarth’s cache uses an internal data storage representation that
is not intended to be accessed through any public API. It’s intended for
use ONLY as a transient cache and not at a data publication format. The
structure is subject to change at any time. If you want to publish a data
repository, consider the <code class="docutils literal notranslate"><span class="pre">osgearth_package</span></code> utility instead!</div></blockquote>
<div class="section" id="setting-up-a-cache">
<h5>Setting up a Cache<a class="headerlink" href="#setting-up-a-cache" title="Permalink to this headline">¶</a></h5>
<p>You can set up a cache in your <em>earth file</em>. The following setup will
automatically activate caching on all your imagery and elevation layers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">cache</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;filesystem&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="n">folder_name</span><span class="o">&lt;/</span><span class="n">path</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">cache</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In code this would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FileSystemCacheOptions</span> <span class="n">cacheOptions</span><span class="p">;</span>
<span class="n">cacheOptions</span><span class="o">.</span><span class="n">path</span><span class="p">()</span> <span class="o">=</span> <span class="o">...</span><span class="p">;</span>

<span class="n">MapOptions</span> <span class="n">mapOptions</span><span class="p">;</span>
<span class="n">mapOptions</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span> <span class="o">=</span> <span class="n">cacheOptions</span><span class="p">;</span>
</pre></div>
</div>
<p>Or, you can use an environment variable that will apply to all earth files.
Keep in mind that this will <em>override</em> a cache setting in the earth file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">OSGEARTH_CACHE_DRIVER</span><span class="o">=</span><span class="n">leveldb</span>
<span class="nb">set</span> <span class="n">OSGEARTH_CACHE_PATH</span><span class="o">=</span><span class="n">folder_name</span>
</pre></div>
</div>
<p>In code you can set a global cache in the osgEarth resgistry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgEarth</span><span class="p">::</span><span class="n">Registry</span><span class="p">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">setCache</span><span class="p">(</span><span class="o">...</span><span class="p">);</span>
<span class="n">osgEarth</span><span class="p">::</span><span class="n">Registry</span><span class="p">::</span><span class="n">instance</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">setDefaultCachePolicy</span><span class="p">(</span><span class="o">...</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="caching-policies">
<h5>Caching Policies<a class="headerlink" href="#caching-policies" title="Permalink to this headline">¶</a></h5>
<p>Once you have a cache set up, osgEarth will use it by default for all your
imagery and elevation layers. If you want to override this behavior, you can
use a <em>cache policy</em>. A cache policy tells osgEarth if and how a certain object
should utilize the cache.</p>
<p>In an <em>earth file</em> you can do this by using the <code class="docutils literal notranslate"><span class="pre">cache_policy</span></code> block. Here
we apply it to the entire map:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">cache_policy</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;cache_only&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Or you can apply a policy to a single layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">cache_policy</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;no_cache&quot;</span><span class="o">/&gt;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The values for cache policy <em>usage</em> are:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">read_write:</th><td class="field-body">The default. Use a cache if one is configured.</td>
</tr>
<tr class="field-even field"><th class="field-name">no_cache:</th><td class="field-body">Even if a cache is in place, do not use it. Only read
directly from the data source.</td>
</tr>
<tr class="field-odd field"><th class="field-name">cache_only:</th><td class="field-body">If a cache if set up, ONLY use data in the cache; never go
to the data source.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>You can also direct the cache to expire objects. By default, cached data never expires,
but you can use the <code class="docutils literal notranslate"><span class="pre">max_age</span></code> property to tell it how long to treat an object as valid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cache_policy</span> <span class="n">max_age</span><span class="o">=</span><span class="s2">&quot;3600&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Specify the maximum age in seconds. The example above will expire objects that are more
than one hour old.</p>
</div>
<div class="section" id="environment-variables">
<h5>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h5>
<p>Sometimes it’s more convenient to control caching from the environment,
especially during development.</p>
<p>These variables override the cache policy properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_NO_CACHE:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Enables a <code class="docutils literal notranslate"><span class="pre">no_cache</span></code> policy for any osgEarth map. (set to 1)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_CACHE_ONLY:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Enabled a <code class="docutils literal notranslate"><span class="pre">cache_only</span></code> policy for any osgEarth map. (set to 1)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_CACHE_MAX_AGE:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Set the cache to expire objects more than this number of seconds old.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>These are not part of the cache policy, but instead control a particular cache implementation.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_CACHE_PATH:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Root folder for a cache. Setting this will enable caching for
whichever cache driver is active.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_CACHE_DRIVER:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Set the name of the cache driver to use, e.g. <code class="docutils literal notranslate"><span class="pre">filesystem</span></code> or
<code class="docutils literal notranslate"><span class="pre">leveldb</span></code>.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Note</strong>: environment variables <em>override</em> the cache settings in an <em>earth file</em>! See below.</p>
</div>
<div class="section" id="precedence-of-cache-policy-settings">
<h5>Precedence of Cache Policy Settings<a class="headerlink" href="#precedence-of-cache-policy-settings" title="Permalink to this headline">¶</a></h5>
<p>Since you can set caching policies in various places, we need to establish
precedence. Here are the rules.</p>
<ul class="simple">
<li><strong>Map settings</strong>. This is a cache policy set in the <code class="docutils literal notranslate"><span class="pre">Map</span></code> object on in the
<code class="docutils literal notranslate"><span class="pre">&lt;map&gt;&lt;options&gt;</span></code> block in an earth file. This sets the default cache policy for every
layer in the map. This is the weakest policy setting; it can be overridden by any of
the settings below.</li>
<li><strong>Layer settings</strong>. This is a cache policy set in a <code class="docutils literal notranslate"><span class="pre">ImageLayer</span></code> or <code class="docutils literal notranslate"><span class="pre">ElevationLayer</span></code>
object (or in the <code class="docutils literal notranslate"><span class="pre">&lt;map&gt;&lt;image&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;map&gt;&lt;elevation&gt;</span></code> block in an earth file).
This will override the top-level setting in the Map, but it will NOT override a cache
policy set by environment (see below). (It is also the ONLY way to override a driver
policy hint (see below), but it is rare that you every need to do this.)</li>
<li><strong>Environment variables</strong>. These are read and stored in the Registry’s
<code class="docutils literal notranslate"><span class="pre">overrideCachePolicy</span></code> and they will override the settings in the map or in a layer.
They will however NOT override driver policy hints.</li>
<li><strong>Driver policy hints</strong>. Sometimes a driver will tell osgEarth to <em>never</em> cache
data that it provides, and osgEarth obeys. The only way to override this is to
expressly set a caching policy on the layer itself. (You will rarely have to
worry about this.)</li>
</ul>
</div>
<div class="section" id="seeding-the-cache">
<h5>Seeding the Cache<a class="headerlink" href="#seeding-the-cache" title="Permalink to this headline">¶</a></h5>
<p>Sometimes it is useful to pre-seed your cache for a particular area of interest.
osgEarth provides a utility application called <code class="docutils literal notranslate"><span class="pre">osgearth_cache</span></code> to accomplish
this task. <code class="docutils literal notranslate"><span class="pre">osgearth_cache</span></code> will take an Earth file and populate any caches
it finds.</p>
<blockquote>
<div>Type <code class="docutils literal notranslate"><span class="pre">osgearth_cache</span> <span class="pre">--help</span></code> on the command line for usage information.</div></blockquote>
<p><strong>Note</strong>: The cache is a transient, “black box” designed to improve
performance in certain situations. It is not inteded as a distributable data
repository. In many cases you can move a cache folder from one environment to another
and it will work, but osgEarth does not <em>guarantee</em> such behavior.</p>
</div>
</div>
<span id="document-user/spatialreference"></span><div class="section" id="spatial-references">
<h4>Spatial References<a class="headerlink" href="#spatial-references" title="Permalink to this headline">¶</a></h4>
<p>We specify locations on the Earth using <em>coordinates</em>, tuples of numbers that
pinpoint a particular place on the map at some level of precision. But just
knowing the coordinates is not enough; you need to know how to interpret them.</p>
<blockquote>
<div>A <strong>Spatial Reference</strong> (SRS) maps a set of coordinates
to a corresponding real location on the earth.</div></blockquote>
<p>For example, given the coordinates of a location on the earth:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">-</span><span class="mf">121.5</span><span class="p">,</span> <span class="mf">36.8</span><span class="p">,</span> <span class="mf">2000.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Those numbers are meaningless unless you know how to use them.
So combine that with some reference information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Coordinate</span> <span class="n">System</span> <span class="n">Type</span><span class="p">:</span> <span class="n">Geographic</span>
<span class="n">Units</span><span class="p">:</span>                  <span class="n">Degrees</span>
<span class="n">Horizontal</span> <span class="n">datum</span><span class="p">:</span>       <span class="n">WGS84</span>
<span class="n">Vertical</span> <span class="n">datum</span><span class="p">:</span>         <span class="n">EGM96</span>
</pre></div>
</div>
<p>Now you can figure out exactly where the point is on earth, where it is relative to
other points, and how to convert it to other representations.</p>
<div class="section" id="components-of-an-srs">
<h5>Components of an SRS<a class="headerlink" href="#components-of-an-srs" title="Permalink to this headline">¶</a></h5>
<p>A <em>spatial reference</em>, or <em>SRS</em>, contains:</p>
<ul class="simple">
<li><a class="reference internal" href="#coordinate-system-type">Coordinate System Type</a></li>
<li><a class="reference internal" href="#horizontal-datum">Horizontal Datum</a></li>
<li><a class="reference internal" href="#vertical-datum">Vertical Datum</a></li>
<li><a class="reference internal" href="#projection">Projection</a></li>
</ul>
<div class="section" id="coordinate-system-type">
<h6>Coordinate System Type<a class="headerlink" href="#coordinate-system-type" title="Permalink to this headline">¶</a></h6>
<p>osgEarth supports three basic coordinate system types:</p>
<ul class="simple">
<li><strong>Geographic</strong> - A whole-earth, ellipsoidal model. Coordinates are spherical angles
in <em>degrees</em> (longitude and latitude). Examples include WGS84 and NAD83.
(<a class="reference external" href="http://en.wikipedia.org/wiki/Geographic_coordinate_system">Learn more</a>)</li>
<li><strong>Projected</strong> - A local coordinate system takes a limited region of the earth and
“projects” it into a 2D cartesion (X,Y) plane. Examples include UTM, US State Plane,
and Mercator.
(<a class="reference external" href="http://en.wikipedia.org/wiki/Map_projection">Learn more</a>.)</li>
<li><strong>ECEF</strong> - A whole earth, cartesian system. ECEF = Earth Centered Earth Fixed; it is
a 3D cartesion system (X,Y,Z) with the origin (0,0,0) at the earth’s center; the X-axis
intersecting lat/long (0,0), the Y-axis intersecting lat/long (0,-90), and the Z-axis
intersecting the north pole. ECEF is the native system in which osgEarth renders its
graphics. (<a class="reference external" href="http://en.wikipedia.org/wiki/ECEF">Learn more</a>)</li>
</ul>
</div>
<div class="section" id="horizontal-datum">
<h6>Horizontal Datum<a class="headerlink" href="#horizontal-datum" title="Permalink to this headline">¶</a></h6>
<p>A <em>datum</em> is a reference point (or set of points) against which geospatial
measurements are made. The same location on earth can have different coordinates
depending on which datum is in use. There are two classes of datum:</p>
<blockquote>
<div>A <strong>horizontal datum</strong> measures positions on the earth. Since the earth is not
a perfect sphere or even a perfect ellipsoid, particular datums are usually
designed to approximate the shape of the earth in a particular region.
Common datums include <strong>WGS84</strong> and <strong>NAD83</strong> in North America, and <strong>ETR89</strong>
in Europe.</div></blockquote>
</div>
<div class="section" id="vertical-datum">
<h6>Vertical Datum<a class="headerlink" href="#vertical-datum" title="Permalink to this headline">¶</a></h6>
<p>A <strong>vertical datum</strong> measures elevation. There are several classes of vertical
datum; osgEarth supports <em>geodetic</em> (based on an ellipsoid) and <em>geoid</em> (based
on a sample set of elevation points around the planet).</p>
<p>osgEarth has the following vertical datums built in:</p>
<ul class="simple">
<li>Geodetic - the default; osgEarth uses the Horizontal datum ellipsoid as a reference</li>
<li>EGM84 geoid</li>
<li>EGM96 geoid - commonly called <em>MSL</em>; used in DTED and KML</li>
<li>EGM2008 geoid</li>
</ul>
<p>By default, SRS’s in osgEarth use a <em>geodetic</em> vertical datum; i.e., altitude is
measured as “height above ellipsoid (HAE)”.</p>
</div>
<div class="section" id="projection">
<h6>Projection<a class="headerlink" href="#projection" title="Permalink to this headline">¶</a></h6>
<p>A <em>projected</em> SRS will also have a <em>Projection</em>. This is a mathematical formula
for transforming a point on the ellipsoid into a 2D plane (and back).</p>
<p>osgEarth supports thousands of known projections (by way of the GDAL/OGR toolkit).
Notable ones include:</p>
<ul class="simple">
<li>UTM (Universal Transverse Mercator)</li>
<li>Sterographic</li>
<li>LCC (Lambert Conformal Conic)</li>
</ul>
<p>Each has particular characteristics that makes it desirable for certain types of
applications. Please see <a class="reference external" href="http://en.wikipedia.org/wiki/Map_projection">Map Projections</a> on Wikipedia to learn more.</p>
</div>
</div>
<div class="section" id="srs-representations">
<h5>SRS Representations<a class="headerlink" href="#srs-representations" title="Permalink to this headline">¶</a></h5>
<p>There are many ways to define an SRS. osgEarth supports the following.</p>
<div class="section" id="wkt-well-known-text">
<h6>WKT (Well Known Text)<a class="headerlink" href="#wkt-well-known-text" title="Permalink to this headline">¶</a></h6>
<p>WKT is an OGC standard for describing a coordinate system. It is commonly
found in a “.prj” file alongside a piece of geospatial data, like a shapefile
or an image.</p>
<p>Here is the WKT representation for the <em>UTM Zone 15N</em> projection:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROJCS</span><span class="p">[</span><span class="s2">&quot;NAD_1983_UTM_Zone_15N&quot;</span><span class="p">,</span>
    <span class="n">GEOGCS</span><span class="p">[</span><span class="s2">&quot;GCS_North_American_1983&quot;</span><span class="p">,</span>
        <span class="n">DATUM</span><span class="p">[</span><span class="s2">&quot;D_North_American_1983&quot;</span><span class="p">,</span>
            <span class="n">SPHEROID</span><span class="p">[</span><span class="s2">&quot;GRS_1980&quot;</span><span class="p">,</span><span class="mf">6378137.0</span><span class="p">,</span><span class="mf">298.257222101</span><span class="p">]],</span>
        <span class="n">PRIMEM</span><span class="p">[</span><span class="s2">&quot;Greenwich&quot;</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
        <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;Degree&quot;</span><span class="p">,</span><span class="mf">0.0174532925199433</span><span class="p">]],</span>
    <span class="n">PROJECTION</span><span class="p">[</span><span class="s2">&quot;Transverse_Mercator&quot;</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False_Easting&quot;</span><span class="p">,</span><span class="mf">500000.0</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;False_Northing&quot;</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Central_Meridian&quot;</span><span class="p">,</span><span class="o">-</span><span class="mf">93.0</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Scale_Factor&quot;</span><span class="p">,</span><span class="mf">0.9996</span><span class="p">],</span>
    <span class="n">PARAMETER</span><span class="p">[</span><span class="s2">&quot;Latitude_Of_Origin&quot;</span><span class="p">,</span><span class="mf">0.0</span><span class="p">],</span>
    <span class="n">UNIT</span><span class="p">[</span><span class="s2">&quot;Meter&quot;</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="section" id="proj4">
<h6>PROJ4<a class="headerlink" href="#proj4" title="Permalink to this headline">¶</a></h6>
<p><em>PROJ4</em> is a map projections toolkit used by osgEarth and hundreds of other
geospatial applications and toolkits. It has a shorthand represtation for
describing an SRS. Here is the same SRS above, this time in PROJ4 format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">utm</span> <span class="o">+</span><span class="n">zone</span><span class="o">=</span><span class="mi">15</span> <span class="o">+</span><span class="n">ellps</span><span class="o">=</span><span class="n">GRS80</span> <span class="o">+</span><span class="n">units</span><span class="o">=</span><span class="n">m</span> <span class="o">+</span><span class="n">no_defs</span>
</pre></div>
</div>
<p>PROJ4 has data tables for all the common components (like UTM zones and datums)
so you don’t have to explicitly define everything like you do with WKT.</p>
</div>
<div class="section" id="epsg-codes">
<h6>EPSG Codes<a class="headerlink" href="#epsg-codes" title="Permalink to this headline">¶</a></h6>
<p>The EPSG (the now-defunct European Petroleum Survey Group) established a table
of numerical codes for referencing well-known projections. You can browse a list
of there <a class="reference external" href="http://spatialreference.org/ref/epsg">here</a>. osgEarth will accept
EPSG codes; again for the example above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">epsg</span><span class="p">:</span><span class="mi">26915</span>
</pre></div>
</div>
<p>If you know the EPSG code it’s a nice shorthand way to express it. OGR/PROJ4,
which osgEarth requires, includes a large table of EPSG codes.</p>
</div>
<div class="section" id="aliases">
<h6>Aliases<a class="headerlink" href="#aliases" title="Permalink to this headline">¶</a></h6>
<p>The last category is the <em>named SRS</em>. There are some SRS’s that are so common
that we include shorthand notation for them. These include:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">wgs84:</th><td class="field-body">World Geographic Survey 1984 geographic system</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">spherical-mercator:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Spherical mercator (commonly used in web mapping systems)</td>
</tr>
<tr class="field-odd field"><th class="field-name">plate-carre:</th><td class="field-body">WGS84 projected flat (X=longitude, Y=latitude)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
<div class="section" id="using-spatial-references-in-osgearth">
<h5>Using Spatial References in osgEarth<a class="headerlink" href="#using-spatial-references-in-osgearth" title="Permalink to this headline">¶</a></h5>
<p>There are several ways to work with an SRS in osgEarth, but the easiest way it
to use the <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> class. However let’s look at creating an SRS first and
then move on to the class.</p>
<div class="section" id="spatialreference-api">
<h6>SpatialReference API<a class="headerlink" href="#spatialreference-api" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code> class represents an SRS. Lots of classes and functions in
osgEarth require an SRS. Here’s how you create on in code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">SpatialReference</span><span class="o">*</span> <span class="n">srs</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">::</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>That will give you an SRS. The <code class="docutils literal notranslate"><span class="pre">get()</span></code> function will accept any of the SRS
representations we discussed above: WKT, PROJ4, EPSG, or Aliases.</p>
<p>If you need an SRS with a vertical datum, express that as a second parameter.
osgEarth support <code class="docutils literal notranslate"><span class="pre">egm84</span></code>, <code class="docutils literal notranslate"><span class="pre">egm96</span></code>, and <code class="docutils literal notranslate"><span class="pre">egm2008</span></code>. Use it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">srs</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">::</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;epsg:4326&quot;</span><span class="p">,</span> <span class="s2">&quot;egm96&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>It’s sometimes useful to be able to access an SRS’s component types as well. For
example, every <em>projected</em> SRS has a base <em>geographic</em> SRS that it’s based upon.
You can get this by calling:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geoSRS</span> <span class="o">=</span> <span class="n">srs</span><span class="o">-&gt;</span><span class="n">getGeographicSRS</span><span class="p">();</span>
</pre></div>
</div>
<p>If you’re transforming a projected point to latitude/longitude, that’s the output
SRS you will want.</p>
<p>You can also grab a geocentric (ECEF) SRS corresponding to any SRS, like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">geocentricSRS</span> <span class="o">=</span> <span class="n">srs</span><span class="o">-&gt;</span><span class="n">getGeocentricSRS</span><span class="p">();</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code> has lots of functions for doing transformations, etc. Consult
the header file for information on those. But in practice it is usually best to use
classes like <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> instead of using <code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code> directly.</p>
</div>
<div class="section" id="geopoint-api">
<h6>GeoPoint API<a class="headerlink" href="#geopoint-api" title="Permalink to this headline">¶</a></h6>
<p>A <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> is a georeferenced 2D or 3D point. (“Georeferenced” means that the
coordinate values are paired with an SRS - this means all the information necessary
to plot that point on the map is self-contained.) There are other “Geo” classes
including <code class="docutils literal notranslate"><span class="pre">GeoExtent</span></code> (a bounding box) and <code class="docutils literal notranslate"><span class="pre">GeoCircle</span></code> (a bounding circle).</p>
<p>Here is how you create a 2D <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeoPoint</span> <span class="n">point</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also create a 3D <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> with an altitude:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeoPoint</span> <span class="n">point</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">ALTMODE_ABSOLUTE</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ALTMODE_ABSOLUTE</span></code> is the <em>altitude mode</em>, and it required when you specify
a 3D coordinate:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">ALTMODE_ABSOLUTE</span></code>:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Z is relative to the SRS’ vertical datum, i.e.,
height above ellipsoid or height above the geoid.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2"><code class="docutils literal notranslate"><span class="pre">ALTMODE_RELATIVE</span></code>:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Z is relative to the height of the terrain under
the point.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Now that you have your <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> you can do transformations on it. Say you
want to transform it to another SRS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeoPoint</span> <span class="n">point</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="n">GeoPoint</span> <span class="n">newPoint</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">newSRS</span><span class="p">);</span>
</pre></div>
</div>
<p>Here’s a more concrete example. Say you have a point in latitude/longitude (WGS84)
and you need to express it in UTM Zone 15N:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">SpatialReference</span><span class="o">*</span> <span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">::</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wgs84&quot;</span><span class="p">);</span>
<span class="n">const</span> <span class="n">SpatialReference</span><span class="o">*</span> <span class="n">utm15</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">::</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;+proj=utm +zone=15 +ellps=GRS80 +units=m&quot;</span><span class="p">);</span>
<span class="o">...</span>
<span class="n">GeoPoint</span> <span class="n">wgsPoint</span><span class="p">(</span> <span class="n">wgs84</span><span class="p">,</span> <span class="o">-</span><span class="mf">93.0</span><span class="p">,</span> <span class="mf">34.0</span> <span class="p">);</span>
<span class="n">GeoPoint</span> <span class="n">utmPoint</span> <span class="o">=</span> <span class="n">wgsPoint</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span> <span class="n">utm15</span> <span class="p">);</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">utmPoint</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span> <span class="p">)</span>
   <span class="o">//</span> <span class="n">do</span> <span class="n">something</span>
</pre></div>
</div>
<p>Always check <code class="docutils literal notranslate"><span class="pre">isValid()</span></code> because not every point in one SRS can be transformed
into another SRS. UTM Zone 15, for example, is only defined for a 6-degree span
of longitude – values too far outside this range might fail!</p>
</div>
</div>
</div>
<span id="document-user/imagery"></span><span id="document-user/elevation"></span><span id="document-user/features"></span><div class="section" id="features-symbology">
<h4>Features &amp; Symbology<a class="headerlink" href="#features-symbology" title="Permalink to this headline">¶</a></h4>
<div class="section" id="understanding-features">
<h5>Understanding Features<a class="headerlink" href="#understanding-features" title="Permalink to this headline">¶</a></h5>
<p><strong>Features</strong> are vector geometry. Unlike imagery and elevation data (which are <em>rasters</em>),
feature does not have a discrete display resolution. osgEarth can render features at any
level of detail.</p>
<p>A <strong>Feature</strong> is a combination of three components:</p>
<blockquote>
<div><ul class="simple">
<li>Vector geometry (a collection of points, lines, or polygons)</li>
<li>Attributes (a collection of name/value pairs)</li>
<li>Spatial Reference (describing the geometry coordinates)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="creating-a-feature-layer">
<h5>Creating a Feature Layer<a class="headerlink" href="#creating-a-feature-layer" title="Permalink to this headline">¶</a></h5>
<p>osgEarth can render features in two different ways:</p>
<blockquote>
<div><ul class="simple">
<li>Rasterized as an <em>image layer</em></li>
<li>Tessellated as a <em>model layer</em></li>
</ul>
</div></blockquote>
<div class="section" id="rasterization">
<h6>Rasterization<a class="headerlink" href="#rasterization" title="Permalink to this headline">¶</a></h6>
<p><em>Rasterized features</em> are the simplest - osgEarth will “draw” the vectors to an image tile
and then use that image tile in a normal image layer.</p>
<p>osgEarth has one rasterizing feature driver: the <code class="docutils literal notranslate"><span class="pre">agglite</span></code> driver. Here’s an example
that renders an ESRI Shapefile as a rasterized image layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my layer&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;agglite&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;states&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">states</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">states</span> <span class="p">{</span>
                <span class="n">stroke</span><span class="p">:</span>       <span class="c1">#ffff00;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="tessellation">
<h6>Tessellation<a class="headerlink" href="#tessellation" title="Permalink to this headline">¶</a></h6>
<p><em>Tessellated features</em> go through a compilation process that turns the input vectors
into OSG geometry (points, lines, triangles, or substituted 3D models). The primary
feature tessellation plugin is the <code class="docutils literal notranslate"><span class="pre">feature_geom</span></code> driver - you will see this in use
in most of osgEarth’s earth files that demonstrate the use of feature data.</p>
<p>Here is a <em>model layer</em> that renders an ESRI Shapefile as a series of yellow lines,
rendered as OSG line geometry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;boundaries&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;states&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">states</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">states</span> <span class="p">{</span>
                <span class="n">stroke</span><span class="p">:</span>       <span class="c1">#ffff00;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You can also reference your feature data as a separate layer. This is useful if you
have multiple feature layers that use the same dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_source</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;data_layer&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">states</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_source</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;boundaries&quot;</span> <span class="n">feature_source</span><span class="o">=</span><span class="s2">&quot;data_layer&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">states</span> <span class="p">{</span>
                <span class="n">stroke</span><span class="p">:</span>       <span class="c1">#ffff00;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="components-of-a-feature-layer">
<h6>Components of a Feature Layer<a class="headerlink" href="#components-of-a-feature-layer" title="Permalink to this headline">¶</a></h6>
<p>As you can see from the examples above, there are a few necessary components
to any feature layer</p>
<blockquote>
<div><ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">&lt;features&gt;</span></code> block describes the actual feature source; i.e., where osgEarth
should go to find the input data. Alteratively, a <code class="docutils literal notranslate"><span class="pre">&lt;feature_source&gt;</span></code> references
another layer that specifies the feature data.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">&lt;styles&gt;</span></code> block describes how osgEarth should render the features, i.e.,
their appearance in the scene. We call this the <em>stylesheet</em> or the <em>symbology</em>.
The makeup of the <em>stylesheet</em> can radically alter the appearance of the feature
data.</li>
</ul>
</div></blockquote>
<p>Both of these elements are required.</p>
</div>
</div>
<div class="section" id="styling">
<h5>Styling<a class="headerlink" href="#styling" title="Permalink to this headline">¶</a></h5>
<p>In an earth file, you may see a <code class="docutils literal notranslate"><span class="pre">&lt;styles&gt;</span></code> block that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
        <span class="n">buildings</span> <span class="p">{</span>
            <span class="n">altitude</span><span class="o">-</span><span class="n">clamping</span><span class="p">:</span> <span class="n">terrain</span><span class="p">;</span>
            <span class="n">extrusion</span><span class="o">-</span><span class="n">height</span><span class="p">:</span>  <span class="mi">15</span><span class="p">;</span>
            <span class="n">extrusion</span><span class="o">-</span><span class="n">flatten</span><span class="p">:</span> <span class="n">true</span><span class="p">;</span>
            <span class="n">fill</span><span class="p">:</span>              <span class="c1">#ff7f2f;</span>
        <span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>That is a <em>stylesheet</em> block. You will find this inside a <code class="docutils literal notranslate"><span class="pre">&lt;model&gt;</span></code> layer that is
rendering feature data, paired with a <code class="docutils literal notranslate"><span class="pre">&lt;features&gt;</span></code> block. (The <code class="docutils literal notranslate"><span class="pre">&lt;features&gt;</span></code> block
defines the source of the actual content.)</p>
<p>In this case, the <code class="docutils literal notranslate"><span class="pre">&lt;style&gt;</span></code> element holds CSS-formatted data. A CSS style block can
hold multiple styles, each of which has a name. In this case we only have one style:
<code class="docutils literal notranslate"><span class="pre">buildings</span></code>. This style tells the geometry engine to do the following:</p>
<blockquote>
<div><ul class="simple">
<li>Clamp the feature geometry to the terrain elevation data;</li>
<li>Extrude shapes to a height of 15m above the terrain;</li>
<li>Flatten the top of the extruded shape; and</li>
<li>Color the shape orange.</li>
</ul>
</div></blockquote>
<p>osgEarth takes a “model/view” approach to rendering features. It separates the
concepts of <em>content</em> and <em>style</em>, much in the same way that a web application will
use <em>CSS</em> to style the web content.</p>
<p>osgEarth takes each input feature and subjects it to a styling process. The output
will depend entirely on the combination of symbols in the stylesheet. This includes:</p>
<blockquote>
<div><ul class="simple">
<li>Fill and Stroke - whether to draw the data as lines or polygons</li>
<li>Extrusion - extruding 2D geometry into a 3D shape</li>
<li>Substitution - replacing the geometry with external 3D models (e.g., trees) or icons</li>
<li>Altitude - how the geometry interacts with the map’s terrain</li>
<li>Text - controls labeling</li>
<li>Rendering - application of lighting, blending, and depth testing</li>
</ul>
</div></blockquote>
<div class="section" id="stylesheets">
<h6>Stylesheets<a class="headerlink" href="#stylesheets" title="Permalink to this headline">¶</a></h6>
<p>Each feature layer requires a <em>stylesheet</em>. The stylesheet appears as a <code class="docutils literal notranslate"><span class="pre">&lt;styles&gt;</span></code>
block in the earth file. Here’s an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;test&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="n">POLYGON</span><span class="p">(</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span><span class="o">&lt;/</span><span class="n">geometry</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span><span class="k">global</span><span class="o">-</span><span class="n">geodetic</span><span class="o">&lt;/</span><span class="n">profile</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">default</span> <span class="p">{</span>
                <span class="n">fill</span><span class="p">:</span>               <span class="c1">#ff7f009f;</span>
                <span class="n">stroke</span><span class="p">:</span>             <span class="c1">#ffffff;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span>       <span class="mf">2.0</span><span class="p">;</span>
                <span class="n">altitude</span><span class="o">-</span><span class="n">clamping</span><span class="p">:</span>  <span class="n">terrain</span><span class="p">;</span>
                <span class="n">altitude</span><span class="o">-</span><span class="n">technique</span><span class="p">:</span> <span class="n">drape</span><span class="p">;</span>
                <span class="n">render</span><span class="o">-</span><span class="n">lighting</span><span class="p">:</span>    <span class="n">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The <em>stylesheet</em> contains one <em>style</em> called <code class="docutils literal notranslate"><span class="pre">default</span></code>. Since there is only one
style, osgEarth will apply it to all the input features. (To apply different styles
to different features, use <em>selectors</em> - more information below.)</p>
<p>The style contains a set of <em>symbols</em> what describe how osgEarth should render
the feature geometry. In this case:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">fill:</th><td class="field-body">Draw a filled polygon in the specified HTML-style color (orange in this case).</td>
</tr>
<tr class="field-even field"><th class="field-name">stroke:</th><td class="field-body">Outline the polygon in white.</td>
</tr>
<tr class="field-odd field"><th class="field-name">stroke-width:</th><td class="field-body">Draw the outline 2 pixels wide.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">altitude-clamping:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Clamp the polygon to the terrain.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">altitude-technique:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Use a “draping” technique to clamp the polygon (projective texturing).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">render-lighting:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Disable OpenGL lighting on the polygon.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This is only a small sample of available symbology.
For a complete listing, please refer to: <a class="reference internal" href="index.html#document-references/symbology"><span class="doc">Symbology Reference</span></a>.</p>
</div>
<div class="section" id="expressions">
<h6>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h6>
<p>Some symbol properties support <em>expression</em>. An expression is a simple in-line calculation
that uses feature attribute values to calculate a property dynamically.</p>
<p>In an expression, you access a feature attribute value by enclosing its name
in square brackets, like this: <code class="docutils literal notranslate"><span class="pre">[name]</span></code></p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mystyle</span> <span class="p">{</span>
    <span class="n">extrusion</span><span class="o">-</span><span class="n">height</span><span class="p">:</span>  <span class="p">[</span><span class="n">hgt</span><span class="p">]</span><span class="o">*</span><span class="mf">0.3048</span><span class="p">;</span>           <span class="o">-</span> <span class="n">read</span> <span class="n">the</span> <span class="s2">&quot;hgt&quot;</span> <span class="n">attribute</span><span class="p">,</span> <span class="ow">and</span> <span class="n">convert</span> <span class="n">it</span> <span class="kn">from</span> <span class="nn">feet</span> <span class="n">to</span> <span class="n">meters</span>
    <span class="n">altitude</span><span class="o">-</span><span class="n">offset</span><span class="p">:</span>   <span class="nb">max</span><span class="p">([</span><span class="n">base_offset</span><span class="p">],</span> <span class="mi">1</span><span class="p">);</span>  <span class="o">-</span> <span class="n">use</span> <span class="n">the</span> <span class="n">greater</span> <span class="n">of</span> <span class="n">the</span> <span class="s2">&quot;base_offset&quot;</span> <span class="n">attribute</span><span class="p">,</span> <span class="ow">and</span> <span class="mf">1.0</span>
    <span class="n">text</span><span class="o">-</span><span class="n">content</span><span class="p">:</span>      <span class="s2">&quot;Name: [name]&quot;</span><span class="p">;</span>         <span class="o">-</span> <span class="n">sets</span> <span class="n">the</span> <span class="n">text</span> <span class="n">label</span> <span class="n">to</span> <span class="n">the</span> <span class="n">concatenation</span> <span class="n">of</span> <span class="n">a</span> <span class="n">literal</span> <span class="ow">and</span> <span class="n">an</span> <span class="n">attribute</span> <span class="n">value</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The numeric expression evaluator supports basic arithmetic (+, -, <a href="#id1"><span class="problematic" id="id2">*</span></a>, / %), some utility
functions (min, max), and grouping with parentheses. It also works for string values.
There are no operators, but you can still embed attributes.</p>
<p>If simple expressions are not enough, you can use Javascript:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">script</span> <span class="n">language</span><span class="o">=</span><span class="s2">&quot;javascript&quot;</span><span class="o">&gt;</span>
        <span class="n">function</span> <span class="n">getOffset</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">feature</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">base_offset</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
        <span class="n">mystyle</span> <span class="p">{</span>
            <span class="n">extrusion</span><span class="o">-</span><span class="n">height</span><span class="p">:</span> <span class="n">feature</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">hgt</span> <span class="o">*</span> <span class="mf">0.3048</span><span class="p">;</span>
            <span class="n">altitude</span><span class="o">-</span><span class="n">offset</span><span class="p">:</span>  <span class="n">getOffset</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="terrain-following">
<h5>Terrain Following<a class="headerlink" href="#terrain-following" title="Permalink to this headline">¶</a></h5>
<p>It is fairly common for features to interact with the terrain in some way.
Requirements for this include things like:</p>
<blockquote>
<div><ul class="simple">
<li>Streets that follow the contours of the terrain</li>
<li>Trees planted on the ground</li>
<li>Thematic mapping, like coloring a country’s area based on its population</li>
</ul>
</div></blockquote>
<p>osgEarth offers a variety of terrain following approaches, because no single
approach is best for every situation.</p>
<div class="section" id="map-clamping">
<h6>Map Clamping<a class="headerlink" href="#map-clamping" title="Permalink to this headline">¶</a></h6>
<p><em>Map Clamping</em> is the simplest approach. When compiling the features for display,
osgEarth will sample the <em>elevation layers</em> in the map, find the height of the terrian,
and apply that to the resulting feature geometry. It will test each point along the
geometry.</p>
<p>Map clamping results in high-quality rendering; the trade-off is performance:</p>
<blockquote>
<div><ul class="simple">
<li>It can be slow sampling the elevation data in the map, depending on the
resolution you select. For a large number of features, it can be CPU-intensive
and time-consuming.</li>
<li>Sampling is accurate, and done for every point in the geometry. You can opt to
sample at the <em>centroid</em> of each feature to improve compilation speed.</li>
<li>Depending on the resolution of the feature geometry, you may need to tessellate
your data to achieve better quality.</li>
<li>The rendering quality is good compared to other methods.</li>
</ul>
</div></blockquote>
<p>You can activate map clamping in your stylesheet like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">altitude</span><span class="o">-</span><span class="n">clamping</span><span class="p">:</span>   <span class="n">terrain</span><span class="p">;</span>        <span class="o">//</span> <span class="n">terrain</span><span class="o">-</span><span class="n">following</span> <span class="n">on</span>
<span class="n">altitude</span><span class="o">-</span><span class="n">technique</span><span class="p">:</span>  <span class="nb">map</span><span class="p">;</span>            <span class="o">//</span> <span class="n">clamp</span> <span class="n">features</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">map</span> <span class="n">data</span>
<span class="n">altitude</span><span class="o">-</span><span class="n">resolution</span><span class="p">:</span> <span class="mf">0.005</span><span class="p">;</span>          <span class="o">//</span> <span class="p">[</span><span class="n">optional</span><span class="p">]</span> <span class="n">resolution</span> <span class="n">of</span> <span class="nb">map</span> <span class="n">data</span> <span class="n">to</span> <span class="n">clamp</span> <span class="n">to</span>
</pre></div>
</div>
</div>
<div class="section" id="draping">
<h6>Draping<a class="headerlink" href="#draping" title="Permalink to this headline">¶</a></h6>
<p><em>Draping</em> is the process of overlaying compiled geometry on the terrain skin, much
like “draping” a blanket over an uneven surface. osgEarth does this be rendering the
feature to a texture (RTT) and then projecting that texture down onto the terrain.</p>
<p>Draping has its advantages and disadvantages:</p>
<blockquote>
<div><ul class="simple">
<li>Draping will conform features perfectly to the terrain; there is no worrying
about resolution or tessellation.</li>
<li>You may get jagged artificats when rendering lines or polygon edges.
The projected texture is of limited size, and the larger of an area it must
cover, the lower the resolution of the image being projected. This means
that in practice draping is more useful for polygons than for lines.</li>
<li>Unexpected blending artifacts may result from draping many transparent
geometries atop each other.</li>
</ul>
</div></blockquote>
<p>You can activate draping like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">altitude</span><span class="o">-</span><span class="n">clamping</span><span class="p">:</span>   <span class="n">terrain</span><span class="p">;</span>        <span class="o">//</span> <span class="n">terrain</span><span class="o">-</span><span class="n">following</span> <span class="n">on</span>
<span class="n">altitude</span><span class="o">-</span><span class="n">technique</span><span class="p">:</span>  <span class="n">drape</span><span class="p">;</span>          <span class="o">//</span> <span class="n">drape</span> <span class="n">features</span> <span class="k">with</span> <span class="n">a</span> <span class="n">projective</span> <span class="n">texture</span>
</pre></div>
</div>
</div>
<div class="section" id="gpu-clamping">
<h6>GPU Clamping<a class="headerlink" href="#gpu-clamping" title="Permalink to this headline">¶</a></h6>
<p><em>GPU Clamping</em> implements approximate terrain following using GPU shaders. It uses
a two-phase technique: first it uses depth field sampling to clamp each vertex to
the terrain skin in a vertex shader; secondly it applies a depth-offsetting
algorithm in the fragment shader to mitigate z-fighting.</p>
<p>GPU clamping also has its trade-offs:</p>
<blockquote>
<div><ul class="simple">
<li>It is very well suited to lines (or even triangulated lines), but less so
to polygons because it needs to tessellate the interior of a polygon in order
to do a good approximate clamping.</li>
<li>It is fast, happens completely at runtime, and takes advantage of the GPU’s
parallel processing.</li>
<li>There are no jagged-edge effects as there are in draping.</li>
</ul>
</div></blockquote>
<p>Set up GPU clamping like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">altitude</span><span class="o">-</span><span class="n">clamping</span><span class="p">:</span>   <span class="n">terrain</span><span class="p">;</span>        <span class="o">//</span> <span class="n">terrain</span><span class="o">-</span><span class="n">following</span> <span class="n">on</span>
<span class="n">altitude</span><span class="o">-</span><span class="n">technique</span><span class="p">:</span>  <span class="n">gpu</span><span class="p">;</span>            <span class="o">//</span> <span class="n">clamp</span> <span class="ow">and</span> <span class="n">offset</span> <span class="n">feature</span> <span class="n">data</span> <span class="n">on</span> <span class="n">the</span> <span class="n">GPU</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rendering-large-datasets">
<h5>Rendering Large Datasets<a class="headerlink" href="#rendering-large-datasets" title="Permalink to this headline">¶</a></h5>
<p>The simplest way to load feature data into osgEarth is like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;shapes&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;data&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">data</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
   <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
      <span class="n">data</span> <span class="p">{</span>
          <span class="n">fill</span><span class="p">:</span> <span class="c1">#ffff00;</span>
      <span class="p">}</span>
   <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>We just loaded every feature in the shapefile and colored them all yellow.</p>
<p>This works fine up to a point – the point at which osgEarth (and OSG) become
overloaded with too much geometry. Even with the optimizations that osgEarth’s
geometry compiler employs, a large enough dataset can exhaust system resources.</p>
<p>The solution to that is feature tiling and paging. Here is how to configure it.</p>
<div class="section" id="feature-display-layouts">
<h6>Feature display layouts<a class="headerlink" href="#feature-display-layouts" title="Permalink to this headline">¶</a></h6>
<p>The feature display layout activates paging and tiles of feature data.
Let’s modify the previous example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;shapes&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;data&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">data</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
   <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="n">layout</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">tile_size</span><span class="o">&gt;</span><span class="mi">250000</span><span class="o">&lt;/</span><span class="n">tile_size</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">level</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;data&quot;</span> <span class="n">max_range</span><span class="o">=</span><span class="s2">&quot;100000&quot;</span><span class="o">/&gt;</span>
   <span class="o">&lt;/</span><span class="n">layout</span><span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
      <span class="n">data</span> <span class="p">{</span>
          <span class="n">fill</span><span class="p">:</span> <span class="c1">#ffff00;</span>
      <span class="p">}</span>
   <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The mere presence of the <code class="docutils literal notranslate"><span class="pre">&lt;layout&gt;</span></code> element activates paging. This means that
instead of being loaded and compiled at load time, the feature data will load
and compile in the background once the application has started. There may be a
delay before the feature data shows up in the scene, depending on its complexity.</p>
<p>The presence of <code class="docutils literal notranslate"><span class="pre">&lt;level&gt;</span></code> elements within the layout actives tiling and levels of
detail. If you OMIT levels, the data will still load in the background, but it will
all load at once. With one or more levels, osgEarth will break up the feature data
into tiles at one or more levels of detail and page those tiles in individually.
More below.</p>
<p>Paging breaks the data up into tiles. The <code class="docutils literal notranslate"><span class="pre">tile_size</span></code> is the width (in meters)
of each paged tile.</p>
</div>
<div class="section" id="cropping-features">
<h6>Cropping features<a class="headerlink" href="#cropping-features" title="Permalink to this headline">¶</a></h6>
<p>By default, if a feature intersects the tile, it will be included even if it extends outside
extents of the tile.  This is useful for things like extruded buildings where it doesn’t make sense
to try to chop them to fit exactly in the tiles because you don’t want to see half a building page in.
Buildings are also generally small, so the distance that they will extend outside the tile is relatively small.</p>
<p>For things like roads or country borders that are linear features, it might make more sense to crop
them to fit the tile exactly.  Visually a line won’t look that bad if you see part if it page in.
You can enable feature cropping on a layout by setting the <code class="docutils literal notranslate"><span class="pre">crop_features</span></code> attribute to true on the layout.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">feature_model</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;roads&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;roads&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span> <span class="n">build_spatial_index</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">roads</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="n">layout</span> <span class="n">crop_features</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="n">tile_size</span><span class="o">=</span><span class="s2">&quot;1000&quot;</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">level</span> <span class="n">max_range</span><span class="o">=</span><span class="s2">&quot;5000&quot;</span><span class="o">/&gt;</span>
      <span class="o">&lt;/</span><span class="n">layout</span><span class="o">&gt;</span>

      <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
              <span class="n">roads</span> <span class="p">{</span>
                  <span class="n">stroke</span><span class="p">:</span>  <span class="c1">#ffff7f7f;</span>
                <span class="p">}</span>
          <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">feature_model</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="levels">
<h6>Levels<a class="headerlink" href="#levels" title="Permalink to this headline">¶</a></h6>
<p>Each level describes a level of detail. This is a camera range (between <code class="docutils literal notranslate"><span class="pre">min_range</span></code>
and <code class="docutils literal notranslate"><span class="pre">max_range</span></code>) at which tiles in this level of detail are rendered. But how
big is each tile? This is calculated based on the <em>tile range factor</em>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tile_size</span></code> sets the size of a tile (in meters).</p>
<p>Why do you care about tile size? Because the density of your data will affect
how much geometry is in each tile. And since OSG (OpenGL, really) benefits from
sending large batches of similar geometry to the graphics card, tweaking the
tile size can help with performance and throughput. Unfortunately there’s no way
for osgEarth to know exactly what the “best” tile size will be in advance;
so, you have the opportunity to tweak using this setting.</p>
</div>
<div class="section" id="layout-settings">
<h6>Layout Settings<a class="headerlink" href="#layout-settings" title="Permalink to this headline">¶</a></h6>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tile_size:</th><td class="field-body">The size (in one dimension) of each tile of features in the layout
at the maximum range. Maximum range must be set for this to take effect.</td>
</tr>
<tr class="field-even field"><th class="field-name">max_range:</th><td class="field-body">The desired max range for pre-tiled feature sources like TFS.</td>
</tr>
<tr class="field-odd field"><th class="field-name">min_range:</th><td class="field-body">Minimum visibility range for all tiles in the layout.</td>
</tr>
<tr class="field-even field"><th class="field-name">crop_features:</th><td class="field-body">Whether to crop geometry to fit within the cell extents when chopping
a feature level up into grid cells. By default, this is false, meaning
that a feature whose centroid falls within the cell will be included.
Setting this to true means that if any part of the feature falls within
the working cell, it will be cropped to the cell extents and used.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">priority_offset:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Sets the offset that will be applied to the computed paging priority
of tiles in this layout. Adjusting this can affect the priority of this
data with respect to other paged data in the scene (like terrain or other
feature layers).
Default = 0.0</td>
</tr>
<tr class="field-even field"><th class="field-name">priority_scale:</th><td class="field-body">Sets the scale factor to be applied to the computed paging priority
of tiles in this layout. Adjusting this can affect the priority of this
data with respect to other paged data in the scene (like terrain or other
feature layers).
Default = 1.0.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">min_expiry_time:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Minimum time, in second, before a feature tile is eligible for pageout.
Set this to a negative number to disable expiration altogether (i.e., tiles
will never page out).</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
<span id="document-user/annotations"></span></div>
</div>
<span id="document-developer/index"></span><div class="section" id="developer-topics">
<h3>Developer Topics<a class="headerlink" href="#developer-topics" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-developer/maps"></span><div class="section" id="working-with-maps">
<h4>Working with Maps<a class="headerlink" href="#working-with-maps" title="Permalink to this headline">¶</a></h4>
<p>A <strong>map</strong> is the central data model in osgEarth.
It is a container for image, elevation, and feature layers.</p>
<div class="section" id="loading-a-map-from-an-earth-file">
<h5>Loading a Map from an Earth File<a class="headerlink" href="#loading-a-map-from-an-earth-file" title="Permalink to this headline">¶</a></h5>
<p>The easiest way to render a Map is to load it from an <em>earth file</em>.
Since osgEarth uses OpenSceneGraph plugins, you can do this with a single line of code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osg</span><span class="p">::</span><span class="n">Node</span><span class="o">*</span> <span class="n">globe</span> <span class="o">=</span> <span class="n">osgDB</span><span class="p">::</span><span class="n">readNodeFile</span><span class="p">(</span><span class="s2">&quot;myglobe.earth&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>You now have an <code class="docutils literal notranslate"><span class="pre">osg::Node</span></code> that you can add to your scene graph and display.
Seriously, it really is that simple!</p>
<p>This method of loading a Map is, more often than not, all that an application will
need to do. However if you want to create your Map using the API, read on.</p>
</div>
<div class="section" id="programmatic-map-creation">
<h5>Programmatic Map Creation<a class="headerlink" href="#programmatic-map-creation" title="Permalink to this headline">¶</a></h5>
<p>osgEarth provides an API for creating Maps at runtime.</p>
<p>The basic steps to creating a Map with the API are:</p>
<ol class="arabic simple">
<li>Create a Map object</li>
<li>Add imagery and elevation layers to the Map as you see fit</li>
<li>Create a <code class="docutils literal notranslate"><span class="pre">MapNode</span></code> that will render the Map object</li>
<li>Add your <code class="docutils literal notranslate"><span class="pre">MapNode</span></code> to your scene graph.</li>
</ol>
<p>You can add layers to the map at any time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">namespace</span> <span class="n">osgEarth</span><span class="p">;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">osgEarth</span><span class="p">::</span><span class="n">Drivers</span><span class="p">;</span>

<span class="c1">#include &lt;osgEarth/Map&gt;</span>
<span class="c1">#include &lt;osgEarth/MapNode&gt;</span>
<span class="c1">#include &lt;osgEarthDrivers/tms/TMSOptions&gt;</span>
<span class="c1">#include &lt;osgEarthDrivers/gdal/GDALOptions&gt;</span>

<span class="n">using</span> <span class="n">namespace</span> <span class="n">osgEarth</span><span class="p">;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">osgEarth</span><span class="p">::</span><span class="n">Drivers</span><span class="p">;</span>
<span class="o">...</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">Map</span> <span class="ow">and</span> <span class="nb">set</span> <span class="n">it</span> <span class="n">to</span> <span class="n">Geocentric</span> <span class="n">to</span> <span class="n">display</span> <span class="n">a</span> <span class="n">globe</span>
<span class="n">Map</span><span class="o">*</span> <span class="nb">map</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Map</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Add</span> <span class="n">an</span> <span class="n">imagery</span> <span class="n">layer</span> <span class="p">(</span><span class="n">blue</span> <span class="n">marble</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">TMS</span> <span class="n">source</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">TMSOptions</span> <span class="n">tms</span><span class="p">;</span>
    <span class="n">tms</span><span class="o">.</span><span class="n">url</span><span class="p">()</span> <span class="o">=</span> <span class="s2">&quot;http://labs.metacarta.com/wms-c/Basic.py/1.0.0/satellite/&quot;</span><span class="p">;</span>
    <span class="n">ImageLayer</span><span class="o">*</span> <span class="n">layer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ImageLayer</span><span class="p">(</span> <span class="s2">&quot;NASA&quot;</span><span class="p">,</span> <span class="n">tms</span> <span class="p">);</span>
    <span class="nb">map</span><span class="o">-&gt;</span><span class="n">addImageLayer</span><span class="p">(</span> <span class="n">layer</span> <span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Add</span> <span class="n">an</span> <span class="n">elevationlayer</span> <span class="p">(</span><span class="n">SRTM</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">local</span> <span class="n">GeoTiff</span> <span class="n">file</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">GDALOptions</span> <span class="n">gdal</span><span class="p">;</span>
    <span class="n">gdal</span><span class="o">.</span><span class="n">url</span><span class="p">()</span> <span class="o">=</span> <span class="s2">&quot;c:/data/srtm.tif&quot;</span><span class="p">;</span>
    <span class="n">ElevationLayer</span><span class="o">*</span> <span class="n">layer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ElevationLayer</span><span class="p">(</span> <span class="s2">&quot;SRTM&quot;</span><span class="p">,</span> <span class="n">gdal</span> <span class="p">);</span>
    <span class="nb">map</span><span class="o">-&gt;</span><span class="n">addElevationLayer</span><span class="p">(</span> <span class="n">layer</span> <span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">MapNode</span> <span class="n">to</span> <span class="n">render</span> <span class="n">this</span> <span class="nb">map</span><span class="p">:</span>
<span class="n">MapNode</span><span class="o">*</span> <span class="n">mapNode</span> <span class="o">=</span> <span class="n">new</span> <span class="n">MapNode</span><span class="p">(</span> <span class="nb">map</span> <span class="p">);</span>
<span class="o">...</span>

<span class="n">viewer</span><span class="o">-&gt;</span><span class="n">setSceneData</span><span class="p">(</span> <span class="n">mapNode</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-a-mapnode-at-runtime">
<h5>Working with a MapNode at Runtime<a class="headerlink" href="#working-with-a-mapnode-at-runtime" title="Permalink to this headline">¶</a></h5>
<p>A <code class="docutils literal notranslate"><span class="pre">MapNode</span></code> is the scene graph node that renders a <code class="docutils literal notranslate"><span class="pre">Map</span></code>. Whether you loaded your
map from an Earth File or created it using the API, you can access the Map and its
<code class="docutils literal notranslate"><span class="pre">MapNode</span></code> at runtime to make changes. If you did not explicitly create a <code class="docutils literal notranslate"><span class="pre">MapNode</span></code>
using the API, you will first need to get a reference to the <code class="docutils literal notranslate"><span class="pre">MapNode</span></code> to work with.
Use the static <code class="docutils literal notranslate"><span class="pre">get</span></code> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Load</span> <span class="n">the</span> <span class="nb">map</span>
<span class="n">osg</span><span class="p">::</span><span class="n">Node</span><span class="o">*</span> <span class="n">loadedModel</span> <span class="o">=</span> <span class="n">osgDB</span><span class="p">::</span><span class="n">readNodeFile</span><span class="p">(</span><span class="s2">&quot;mymap.earth&quot;</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Find</span> <span class="n">the</span> <span class="n">MapNode</span>
<span class="n">osgEarth</span><span class="p">::</span><span class="n">MapNode</span><span class="o">*</span> <span class="n">mapNode</span> <span class="o">=</span> <span class="n">MapNode</span><span class="p">::</span><span class="n">get</span><span class="p">(</span> <span class="n">loadedModel</span> <span class="p">);</span>
</pre></div>
</div>
<p>Once you have a reference to the <code class="docutils literal notranslate"><span class="pre">MapNode</span></code>, you can get to the map:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Add</span> <span class="n">an</span> <span class="n">OpenStreetMap</span> <span class="n">image</span> <span class="n">source</span>
<span class="n">TMSOptions</span> <span class="n">driverOpt</span><span class="p">;</span>
<span class="n">driverOpt</span><span class="o">.</span><span class="n">url</span><span class="p">()</span> <span class="o">=</span> <span class="s2">&quot;http://tile.openstreetmap.org/&quot;</span><span class="p">;</span>
<span class="n">driverOpt</span><span class="o">.</span><span class="n">tmsType</span><span class="p">()</span> <span class="o">=</span> <span class="s2">&quot;google&quot;</span><span class="p">;</span>

<span class="n">ImageLayerOptions</span> <span class="n">layerOpt</span><span class="p">(</span> <span class="s2">&quot;OSM&quot;</span><span class="p">,</span> <span class="n">driverOpt</span> <span class="p">);</span>
<span class="n">layerOpt</span><span class="o">.</span><span class="n">profile</span><span class="p">()</span> <span class="o">=</span> <span class="n">ProfileOptions</span><span class="p">(</span> <span class="s2">&quot;global-mercator&quot;</span> <span class="p">);</span>

<span class="n">ImageLayer</span><span class="o">*</span> <span class="n">osmLayer</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ImageLayer</span><span class="p">(</span> <span class="n">layerOpt</span> <span class="p">);</span>
<span class="n">mapNode</span><span class="o">-&gt;</span><span class="n">getMap</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">addImageLayer</span><span class="p">(</span> <span class="n">osmLayer</span> <span class="p">);</span>
</pre></div>
</div>
<p>You can also remove or re-order layers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Remove</span> <span class="n">a</span> <span class="n">layer</span> <span class="kn">from</span> <span class="nn">the</span> <span class="nb">map</span><span class="o">.</span>  <span class="n">All</span> <span class="n">other</span> <span class="n">layers</span> <span class="n">are</span> <span class="n">repositioned</span> <span class="n">accordingly</span>
<span class="n">mapNode</span><span class="o">-&gt;</span><span class="n">getMap</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">removeImageLayer</span><span class="p">(</span> <span class="n">layer</span> <span class="p">);</span>

<span class="o">//</span> <span class="n">Move</span> <span class="n">a</span> <span class="n">layer</span> <span class="n">to</span> <span class="n">position</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">image</span> <span class="n">stack</span>
<span class="n">mapNode</span><span class="o">-&gt;</span><span class="n">getMap</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">moveImageLayer</span><span class="p">(</span> <span class="n">layer</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-layers">
<h5>Working with Layers<a class="headerlink" href="#working-with-layers" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">Map</span></code> contains <code class="docutils literal notranslate"><span class="pre">ImageLayer</span></code> and <code class="docutils literal notranslate"><span class="pre">ElevationLayer</span></code> objects.
These contain some properties that you can adjust at runtime.
For example, you can toggle a layer on or off or adjust an <code class="docutils literal notranslate"><span class="pre">ImageLayer</span></code> opacity using the API:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ImageLayer</span><span class="o">*</span> <span class="n">layer</span><span class="p">;</span>
<span class="o">...</span>
<span class="n">layer</span><span class="o">-&gt;</span><span class="n">setOpacity</span><span class="p">(</span> <span class="mf">0.5</span> <span class="p">);</span>  <span class="o">//</span> <span class="n">makes</span> <span class="n">the</span> <span class="n">layer</span> <span class="n">partially</span> <span class="n">transparent</span>
</pre></div>
</div>
</div>
</div>
<span id="document-developer/utilities"></span><div class="section" id="utilities-sdk">
<h4>Utilities SDK<a class="headerlink" href="#utilities-sdk" title="Permalink to this headline">¶</a></h4>
<p>The osgEarth <em>Utils</em> namespace includes a variety of useful classes for interacting
with the map. None of these are strictly necessary for using osgEarth, but they do
make it easier to perform some common operations.</p>
<div class="section" id="logarithmic-depth-buffer">
<h5>Logarithmic Depth Buffer<a class="headerlink" href="#logarithmic-depth-buffer" title="Permalink to this headline">¶</a></h5>
<p>In whole-earth applications it’s common that you want to see something up close (like
an aircraft at altitude) while seeing the Earth and its horizon off in the distance.
This poses a problem for modern graphic hardware because the standard depth buffer
precision heavily favors objects closer to the camera, and viewing such a wide range
of objects leads to “z-fighting” artifacts.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">LogarithmicDepthBuffer</span></code> is one way to solve this problem. It uses a shader to
re-map the GPU’s depth buffer values so they can be put to better use in this type
of scenario.</p>
<p>It’s easy to install:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LogarithmicDepthBuffer</span> <span class="n">logdepth</span><span class="p">;</span>
<span class="n">logdepth</span><span class="o">-&gt;</span><span class="n">install</span><span class="p">(</span> <span class="n">view</span><span class="o">-&gt;</span><span class="n">getCamera</span><span class="p">()</span> <span class="p">);</span>
</pre></div>
</div>
<p>Or you can activate it from <code class="docutils literal notranslate"><span class="pre">osgearth_viewer</span></code> or other examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_viewer</span> <span class="o">--</span><span class="n">logdepth</span> <span class="o">...</span>
</pre></div>
</div>
<p>Since it does alter the projection-space coordinates of your geometry at draw time,
you do need to be careful that you aren’t doing anything ELSE in clip space in your
own custom shaders that would conflict with this.</p>
<p>(10-Jul-2014: Some osgEarth features are incompatible with the log depth buffer;
namely, GPU clamping and Shadowing. Depth Offset works correctly though.)</p>
</div>
<div class="section" id="formatters">
<h5>Formatters<a class="headerlink" href="#formatters" title="Permalink to this headline">¶</a></h5>
<p>Use <em>Formatters</em> to format geospatial coordinates as a string. There are two stock formatters,
the <code class="docutils literal notranslate"><span class="pre">LatLongFormatter</span></code> and the <code class="docutils literal notranslate"><span class="pre">MGRSFormatter</span></code>. A formatter takes a <code class="docutils literal notranslate"><span class="pre">GeoPoint</span></code> and
returns a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">LatLongFormatter</span> <span class="n">formatter</span><span class="p">;</span>
<span class="n">GeoPoint</span> <span class="n">point</span><span class="p">;</span>
<span class="o">....</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="o">=</span> <span class="n">formatter</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">point</span> <span class="p">);</span>
</pre></div>
</div>
<div class="section" id="latlongformatter">
<h6>LatLongFormatter<a class="headerlink" href="#latlongformatter" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">LatLongFormatter</span></code> takes coordinates and generates a string. It supports the following
formats:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">FORMAT_DECIMAL_DEGREES:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">34.04582</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">FORMAT_DEGREES_DECIMAL_MINUTES:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">34.20:30</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">FORMAT_DEGREES_MINUTES_SECONDS:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">34:14:30</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>You can also specify options for the output string:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">USE_SYMBOLS:</th><td class="field-body">Use the degrees, minutes and seconds symbology</td>
</tr>
<tr class="field-even field"><th class="field-name">USE_COLONS:</th><td class="field-body">Use colons between the components</td>
</tr>
<tr class="field-odd field"><th class="field-name">USE_SPACES:</th><td class="field-body">Use spaces between the components</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="mgrsformatter">
<h6>MGRSFormatter<a class="headerlink" href="#mgrsformatter" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">MGRSFormatter</span></code> constructs a string according to the <a class="reference external" href="http://en.wikipedia.org/wiki/Military_grid_reference_system">Military Grid Reference System</a>.
Technically, an MGRS coordinate represents a <em>region</em> rather than an exact point, so you
have to specify a <em>precision</em> qualifier to control the size of the represented region.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MGRSFormatter</span> <span class="n">mgrs</span><span class="p">(</span> <span class="n">MGRFormatter</span><span class="p">::</span><span class="n">PRECISION_1000M</span> <span class="p">);</span>
<span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">mgrs</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="n">geopoint</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mousecoordstool">
<h5>MouseCoordsTool<a class="headerlink" href="#mousecoordstool" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">MouseCoordsTool</span></code> reports the map coordinates under the mouse (or other pointing device).
Install a callback to respond to the reports. <code class="docutils literal notranslate"><span class="pre">MouseCoordsTool</span></code> is an <code class="docutils literal notranslate"><span class="pre">osgGA::GUIEventHandler</span></code>
that you can install on a <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> or any <code class="docutils literal notranslate"><span class="pre">Node</span></code>, like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MouseCoordsTool</span><span class="o">*</span> <span class="n">tool</span> <span class="o">=</span> <span class="n">new</span> <span class="n">MouseCoordsTool</span><span class="p">();</span>
<span class="n">tool</span><span class="o">-&gt;</span><span class="n">addCallback</span><span class="p">(</span> <span class="n">new</span> <span class="n">MyCallback</span><span class="p">()</span> <span class="p">);</span>
<span class="n">viewer</span><span class="o">.</span><span class="n">addEventHandler</span><span class="p">(</span> <span class="n">tool</span> <span class="p">);</span>
</pre></div>
</div>
<p>Create your own callback to respond to reports. Here is an example that prints the X,Y under the
mouse to a <em>Qt</em> status bar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">struct</span> <span class="n">PrintCoordsToStatusBar</span> <span class="p">:</span> <span class="n">public</span> <span class="n">MouseCoordsTool</span><span class="p">::</span><span class="n">Callback</span>
<span class="p">{</span>
<span class="n">public</span><span class="p">:</span>
    <span class="n">PrintCoordsToStatusBar</span><span class="p">(</span><span class="n">QStatusBar</span><span class="o">*</span> <span class="n">sb</span><span class="p">)</span> <span class="p">:</span> <span class="n">_sb</span><span class="p">(</span><span class="n">sb</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="n">void</span> <span class="nb">set</span><span class="p">(</span><span class="n">const</span> <span class="n">GeoPoint</span><span class="o">&amp;</span> <span class="n">p</span><span class="p">,</span> <span class="n">osg</span><span class="p">::</span><span class="n">View</span><span class="o">*</span> <span class="n">view</span><span class="p">,</span> <span class="n">MapNode</span><span class="o">*</span> <span class="n">mapNode</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">osgEarth</span><span class="p">::</span><span class="n">Stringify</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;, &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">();</span>
        <span class="n">_sb</span><span class="o">-&gt;</span><span class="n">showMessage</span><span class="p">(</span> <span class="n">QString</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">c_str</span><span class="p">())</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="n">void</span> <span class="n">reset</span><span class="p">(</span><span class="n">osg</span><span class="p">::</span><span class="n">View</span><span class="o">*</span> <span class="n">view</span><span class="p">,</span> <span class="n">MapNode</span><span class="o">*</span> <span class="n">mapNode</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_sb</span><span class="o">-&gt;</span><span class="n">showMessage</span><span class="p">(</span> <span class="n">QString</span><span class="p">(</span><span class="s2">&quot;out of range&quot;</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="n">QStatusBar</span><span class="o">*</span> <span class="n">_sb</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>For your convenience, <code class="docutils literal notranslate"><span class="pre">MouseCoordsTool</span></code> also comes with a stock callback that will
print the coords to <code class="docutils literal notranslate"><span class="pre">osgEarthUtil::Controls::LabelControl</span></code>. You can even pass a
<code class="docutils literal notranslate"><span class="pre">LabelControl</span></code> to the constructor to make it even easier.</p>
</div>
</div>
<span id="document-developer/shader_composition"></span><div class="section" id="shader-composition">
<h4>Shader Composition<a class="headerlink" href="#shader-composition" title="Permalink to this headline">¶</a></h4>
<p>osgEarth uses GLSL shaders in several of its rendering modes. By default
osgEarth will detect the capabilities of your graphics hardware and
automatically select an appropriate mode to use.</p>
<p>Since osgEarth relies on shaders, you as a developer may wish to customize
the rendering or add your own effects and features in GLSL. Anyone who has
worked with shaders has run into the same challenges:</p>
<ul class="simple">
<li>Shader programs are monolithic. Adding new shader code requires you to
copy, modify, and replace the existing code so you don’t lose its
functionality.</li>
<li>Keeping your changes in sync with changes to the original code’s
shaders is a maintenance nightmare.</li>
<li>Maintaining multiple versions of shader main()s is cumbersome and
difficult.</li>
<li>Maintaining the dreaded “uber shader” becomes unmanageable as the
GLSL code base grows in complexity and you add more features.</li>
</ul>
<p><em>Shader Composition</em> solves these problems by <em>modularizing</em> the shader
pipeline. You can add and remove <em>functions</em> at any point in the program
without copying, pasting, or hacking other people’s GLSL code.</p>
<p>Next we will discuss the structure of osgEarth’s shader composition framework.</p>
<div class="section" id="framework-basics">
<h5>Framework Basics<a class="headerlink" href="#framework-basics" title="Permalink to this headline">¶</a></h5>
<p>The Shader Composition framework provides the main() functions automatically.
You do not need to write them. Instead, you write modular functions and tell the
framework when and where to execute them.</p>
<p>Below you can see the main() functions that osgEarth creates.
The <code class="docutils literal notranslate"><span class="pre">LOCATION_*</span></code> designators allow you to inject functions at
various points in the shader’s execution pipeline.</p>
<p>Here is the pseudo-code for osgEarth’s built-in shaders mains:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">VERTEX</span> <span class="n">SHADER</span><span class="p">:</span>

<span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">vec4</span> <span class="n">vertex</span> <span class="o">=</span> <span class="n">gl_Vertex</span><span class="p">;</span>

    <span class="o">//</span> <span class="s2">&quot;LOCATION_VERTEX_MODEL&quot;</span> <span class="n">user</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">called</span> <span class="n">here</span><span class="p">:</span>
    <span class="n">model_func_1</span><span class="p">(</span><span class="n">vertex</span><span class="p">);</span>
    <span class="n">model_func_2</span><span class="p">(</span><span class="n">vertex</span><span class="p">);</span>
    <span class="o">...</span>

    <span class="n">vertex</span> <span class="o">=</span> <span class="n">gl_ModelViewMatrix</span> <span class="o">*</span> <span class="n">vertex</span><span class="p">;</span>

    <span class="o">//</span> <span class="s2">&quot;LOCATION_VERTEX_VIEW&quot;</span> <span class="n">user</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">called</span> <span class="n">here</span><span class="p">:</span>
    <span class="n">view_func_1</span><span class="p">(</span><span class="n">vertex</span><span class="p">);</span>
    <span class="o">...</span>

    <span class="n">vertex</span> <span class="o">=</span> <span class="n">gl_ProjectionMatrix</span> <span class="o">*</span> <span class="n">vertex</span><span class="p">;</span>

    <span class="o">//</span> <span class="s2">&quot;LOCATION_VERTEX_CLIP&quot;</span> <span class="n">user</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">called</span> <span class="n">last</span><span class="p">:</span>
    <span class="n">clip_func_1</span><span class="p">(</span><span class="n">vertex</span><span class="p">);</span>
    <span class="o">...</span>

    <span class="n">gl_Position</span> <span class="o">=</span> <span class="n">vertex</span><span class="p">;</span>
<span class="p">}</span>


<span class="o">//</span> <span class="n">FRAGMENT</span> <span class="n">SHADER</span><span class="p">:</span>

<span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">vec4</span> <span class="n">color</span> <span class="o">=</span> <span class="n">gl_Color</span><span class="p">;</span>
    <span class="o">...</span>

    <span class="o">//</span> <span class="s2">&quot;LOCATION_FRAGMENT_COLORING&quot;</span> <span class="n">user</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">called</span> <span class="n">here</span><span class="p">:</span>
    <span class="n">coloring_func_1</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
    <span class="o">...</span>

    <span class="o">//</span> <span class="s2">&quot;LOCATION_FRAGMENT_LIGHTING&quot;</span> <span class="n">user</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">called</span> <span class="n">here</span><span class="p">:</span>
    <span class="n">lighting_func_1</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
    <span class="o">...</span>

    <span class="n">gl_FragColor</span> <span class="o">=</span> <span class="n">color</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see, we have made the design decision to designate function
injection points that make sense for <em>most</em> applications. That is not to say
that they are perfect for everything, rather that we believe this approach
makes the Framework easy to use and not too “low-level”.</p>
<p><em>Important</em>: The Shader Composition Framework at this time only supports VERTEX and FRAGMENT
shaders. It does not support GEOMETRY or TESSELLATION shaders yet. We are planning
to add this in the future.</p>
</div>
<div class="section" id="virtualprogram">
<h5>VirtualProgram<a class="headerlink" href="#virtualprogram" title="Permalink to this headline">¶</a></h5>
<p>osgEarth introduces a new OSG state attribute called <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code> that performs
the runtime shader composition. Since <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code> is an <code class="docutils literal notranslate"><span class="pre">osg::StateAttribute</span></code>,
you can attach one to any node in the scene graph. Shaders that belong to a
<code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code> can override shaders higher up in the scene graph.
In this way you can add, combine, and override individual shader functions in osgEarth.</p>
<p>At run time, a <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code> will look at the current state and assemble a full
<code class="docutils literal notranslate"><span class="pre">osg::Program</span></code> that uses the built-in main()s and calls all the functions that you
have injected via <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code>.</p>
<div class="section" id="adding-functions">
<h6>Adding Functions<a class="headerlink" href="#adding-functions" title="Permalink to this headline">¶</a></h6>
<p>From the generated mains we saw earlier, osgEarth calls into user functions.
These don’t exist in the default shaders that osgEarth generates;
rather, they represent code that you as the developer can “inject”
into various locations in the shader pipeline.</p>
<p>For example, let’s use user functions to create a simple “haze” effect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">haze_vertex</span><span class="p">:</span>
<span class="n">out</span> <span class="n">vec3</span> <span class="n">v_pos</span><span class="p">;</span>
<span class="n">void</span> <span class="n">setup_haze</span><span class="p">(</span><span class="n">inout</span> <span class="n">vec4</span> <span class="n">vertexView</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">v_pos</span> <span class="o">=</span> <span class="n">vertexView</span><span class="o">.</span><span class="n">xyz</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">haze_fragment</span><span class="p">:</span>
<span class="ow">in</span> <span class="n">vec3</span> <span class="n">v_pos</span><span class="p">;</span>
<span class="n">void</span> <span class="n">apply_haze</span><span class="p">(</span><span class="n">inout</span> <span class="n">vec4</span> <span class="n">color</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">float</span> <span class="n">dist</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span> <span class="n">length</span><span class="p">(</span><span class="n">v_pos</span><span class="p">)</span><span class="o">/</span><span class="mf">10000000.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.75</span> <span class="p">);</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">mix</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">vec4</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">dist</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">C</span><span class="o">++</span><span class="p">:</span>
<span class="n">VirtualProgram</span><span class="o">*</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">VirtualProgram</span><span class="p">::</span><span class="n">getOrCreate</span><span class="p">(</span> <span class="n">stateSet</span> <span class="p">);</span>

<span class="n">vp</span><span class="o">-&gt;</span><span class="n">setFunction</span><span class="p">(</span> <span class="s2">&quot;setup_haze&quot;</span><span class="p">,</span> <span class="n">haze_vertex</span><span class="p">,</span>   <span class="n">ShaderComp</span><span class="p">::</span><span class="n">LOCATION_VERTEX_VIEW</span><span class="p">);</span>
<span class="n">vp</span><span class="o">-&gt;</span><span class="n">setFunction</span><span class="p">(</span> <span class="s2">&quot;apply_haze&quot;</span><span class="p">,</span> <span class="n">haze_fragment</span><span class="p">,</span> <span class="n">ShaderComp</span><span class="p">::</span><span class="n">LOCATION_FRAGMENT_LIGHTING</span><span class="p">);</span>
</pre></div>
</div>
<p>In this example, the function <code class="docutils literal notranslate"><span class="pre">setup_haze</span></code> is called from the built-in vertex shader
main() after the built-in vertex functions. The <code class="docutils literal notranslate"><span class="pre">apply_haze</span></code> function gets called from
the core fragment shader main() after the built-in fragment functions.</p>
<p>There are SIX injection points, as follows:</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="16%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Location</th>
<th class="head">Shader Type</th>
<th class="head">Signature</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ShaderComp::LOCATION_VERTEX_MODEL</td>
<td>VERTEX</td>
<td>void func(inout vec4 vertex)</td>
</tr>
<tr class="row-odd"><td>ShaderComp::LOCATION_VERTEX_VIEW</td>
<td>VERTEX</td>
<td>void func(inout vec4 vertex)</td>
</tr>
<tr class="row-even"><td>ShaderComp::LOCATION_VERTEX_CLIP</td>
<td>VERTEX</td>
<td>void func(inout vec4 vertex)</td>
</tr>
<tr class="row-odd"><td>ShaderComp::LOCATION_FRAGMENT_COLORING</td>
<td>FRAGMENT</td>
<td>void func(inout vec4 color)</td>
</tr>
<tr class="row-even"><td>ShaderComp::LOCATION_FRAGMENT_LIGHTING</td>
<td>FRAGMENT</td>
<td>void func(inout vec4 color)</td>
</tr>
<tr class="row-odd"><td>ShaderComp::LOCATION_FRAGMENT_OUTPUT</td>
<td>FRAGMENT</td>
<td>void func(inout vec4 color)</td>
</tr>
</tbody>
</table>
<p>Each VERTEX locations let you operate on the vertex in a particular <em>coordinate space</em>.
You can alter the vertex, but you <em>must</em> leave it in the same space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">MODEL:</th><td class="field-body">Vertex is the raw, untransformed values from the geometry.</td>
</tr>
<tr class="field-even field"><th class="field-name">VIEW:</th><td class="field-body">Vertex is relative to the eyepoint, which lies at the origin (0,0,0) and
points down the -Z axis. In VIEW space, the original vertex has been
transformed by <code class="docutils literal notranslate"><span class="pre">gl_ModelViewMatrix</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">CLIP:</th><td class="field-body">Post-projected clip space. CLIP space lies in the [-w..w] range along all
three axis, and is the result of transforming the original vertex by
<code class="docutils literal notranslate"><span class="pre">gl_ModelViewProjectionMatrix</span></code>.</td>
</tr>
</tbody>
</table>
<p>The FRAGMENT locations are as follows.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">COLORING:</th><td class="field-body">Functions here are called when resolving the fragment color before
lighting is applied. Texturing or color adjustments typically
happen during this stage.</td>
</tr>
<tr class="field-even field"><th class="field-name">LIGHTING:</th><td class="field-body">Functions here affect the lighting applied to a fragment color. This is
where things like sun lighting, bump mapping or normal mapping would
typically occur.</td>
</tr>
<tr class="field-odd field"><th class="field-name">OUTPUT:</th><td class="field-body">This is where gl_FragColor is set. By default, the built-in fragment
main() will set it for you. But you can set an OUTPUT shader to
replace this behavior with your own. A typical reason to do this would
be to implement MRT rendering (see the osgearth_mrt example).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="shader-packages">
<h5>Shader Packages<a class="headerlink" href="#shader-packages" title="Permalink to this headline">¶</a></h5>
<p>Earlier we showed you how to inject functions using <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code>.
The Shader Composition Framework also provides the concept of a <code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code> that supports
more advanced methods of shader management. We will talk about some of those now.</p>
<div class="section" id="virtualprogram-metadata">
<h6>VirtualProgram Metadata<a class="headerlink" href="#virtualprogram-metadata" title="Permalink to this headline">¶</a></h6>
<p>As we have seen, when you add a shader function to the pipeline using <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code>
you need to tell osgEarth the name of the GLSL function to call, and the location in
the pipeline at which to call it, like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VirtualProgram</span><span class="o">*</span> <span class="n">vp</span><span class="p">;</span>
<span class="o">....</span>
<span class="n">vp</span><span class="o">-&gt;</span><span class="n">setFunction</span><span class="p">(</span> <span class="s2">&quot;color_it_red&quot;</span><span class="p">,</span> <span class="n">shaderSource</span><span class="p">,</span> <span class="n">ShaderComp</span><span class="p">::</span><span class="n">LOCATION_FRAGMENT_COLORING</span> <span class="p">);</span>
</pre></div>
</div>
<p>That works. But if the function name or the inject location changes, you need to remember
to keep the GLSL code in sync with the <code class="docutils literal notranslate"><span class="pre">setFunction()</span></code> parameters.</p>
<p>It would be easier to specify this all in once place. A <code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code> lets you do just that.
Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#version 110</span>

<span class="c1">#pragma vp_entryPoint  color_it_red</span>
<span class="c1">#pragma vp_location    fragment_coloring</span>
<span class="c1">#pragma vp_order       1.0</span>

<span class="n">void</span> <span class="n">color_it_red</span><span class="p">(</span><span class="n">inout</span> <span class="n">vec4</span> <span class="n">color</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">color</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now instead of calling <code class="docutils literal notranslate"><span class="pre">VirtualProgram::setFunction()</span></code> directory, you can create a
<code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code>, add your code, and call load to create the function on the <code class="docutils literal notranslate"><span class="pre">VirtualProgram</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ShaderPackage</span> <span class="n">package</span><span class="p">;</span>
<span class="n">package</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="n">shaderFileName</span><span class="p">,</span> <span class="n">shaderSource</span> <span class="p">);</span>
<span class="n">package</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="n">virtualProgram</span><span class="p">,</span> <span class="n">shaderFileName</span> <span class="p">);</span>
</pre></div>
</div>
<p>It takes a “file name” because the shader can be in an external file.
But that is not a requirement. Read on for more details.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">vp_location</span></code> values follow the code-based values, and are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vertex_model</span>
<span class="n">vertex_view</span>
<span class="n">vertex_clip</span>
<span class="n">fragment_coloring</span>
<span class="n">fragment_lighting</span>
<span class="n">fragment_output</span>
</pre></div>
</div>
</div>
<div class="section" id="external-glsl-files">
<h6>External GLSL Files<a class="headerlink" href="#external-glsl-files" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code> lets you load GLSL code from either a file or a string.
When you call the <code class="docutils literal notranslate"><span class="pre">add</span></code> method as show above, this tells the package to
(a) first look for a file by that name and load from that file; and
(b) if the file doesn’t exist, use the code in the source string.</p>
<p>So let’s look at this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ShaderPackage</span> <span class="n">package</span><span class="p">;</span>
<span class="n">package</span><span class="o">.</span><span class="n">add</span><span class="p">(</span> <span class="s2">&quot;myshader.frag.glsl&quot;</span><span class="p">,</span> <span class="n">backupSourceCode</span> <span class="p">);</span>
<span class="o">...</span>
<span class="n">package</span><span class="o">.</span><span class="n">load</span><span class="p">(</span> <span class="n">virtualProgram</span><span class="p">,</span> <span class="s2">&quot;myshader.frag.glsl&quot;</span> <span class="p">);</span>
</pre></div>
</div>
<p>The package will try to load the shader from the GLSL file. It will search for it in the <code class="docutils literal notranslate"><span class="pre">OSG_FILE_PATH</span></code>.
If it cannot find the file, it will load the shader from the backup source code associated with
that shader in the package.</p>
<p>osgEarth uses this technique internally to “inline” its stock shader code.
That gives you the option of deploying GLSL files with your application OR
keeping them inline – the application will still work either way.</p>
</div>
<div class="section" id="include-files">
<h6>Include Files<a class="headerlink" href="#include-files" title="Permalink to this headline">¶</a></h6>
<p>The <code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code> support the concept if <em>include files</em>. Your GLSL code
can <em>include</em> any other shaders in the same package by referencing their file names.
Use a custom <code class="docutils literal notranslate"><span class="pre">#pragma</span></code> to include another file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#pragma include myCode.vertex.glsl</span>
</pre></div>
</div>
<p>Just as in C++, the <em>include</em> will load the other file (or source code) directly
inline. So the file you are including must be structured as if you had placed it right
in the including file. (That means it cannot have its own <code class="docutils literal notranslate"><span class="pre">#version</span></code> string, for example.)</p>
<p>Again: the <em>includer</em> and the <em>includee</em> must be registered with the same <code class="docutils literal notranslate"><span class="pre">ShaderPackage</span></code>.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="concepts-specific-to-osgearth">
<h5>Concepts Specific to osgEarth<a class="headerlink" href="#concepts-specific-to-osgearth" title="Permalink to this headline">¶</a></h5>
<p>Even though the VirtualProgram framework is included in the osgEarth SDK,
it really has nothing to do with map rendering. In this section we will go over some
of the things that osgEarth does with shader composition.</p>
<div class="section" id="terrain-variables">
<h6>Terrain Variables<a class="headerlink" href="#terrain-variables" title="Permalink to this headline">¶</a></h6>
<p>There are some built-in shader <code class="docutils literal notranslate"><span class="pre">uniforms</span></code> and <code class="docutils literal notranslate"><span class="pre">variables</span></code> that the osgEarth terrain
engine uses and that are available to the developer.</p>
<blockquote>
<div><em>Important: Shader variables starting with the prefix ``oe_`` or ``osgearth_``
are reserved for osgEarth internal use.</em></div></blockquote>
<p>Uniforms:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">oe_tile_key:</th><td class="field-body">(vec4) elements 0-2 hold the x, y, and LOD tile key values;
element 3 holds the tile’s bounding sphere radius (in meters)</td>
</tr>
<tr class="field-even field"><th class="field-name">oe_layer_tex:</th><td class="field-body">(sampler2D) texture applied to the current layer of the current tile</td>
</tr>
<tr class="field-odd field"><th class="field-name">oe_layer_texc:</th><td class="field-body">(vec4) texture coordinates for current tile</td>
</tr>
<tr class="field-even field"><th class="field-name">oe_layer_tilec:</th><td class="field-body">(vec4) unit coordinates for the current tile (0..1 in x and y)</td>
</tr>
<tr class="field-odd field"><th class="field-name">oe_layer_uid:</th><td class="field-body">(int) Unique ID of the active layer</td>
</tr>
<tr class="field-even field"><th class="field-name">oe_layer_order:</th><td class="field-body">(int) Render order of the active layer</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">oe_layer_opacity:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(float) Opacity [0..1] of the active layer</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Vertex attributes:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">oe_terrain_attr:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">(vec4) elements 0-2 hold the unit height vector for a terrain
vertex, and element 3 holds the raw terrain elevation value</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">oe_terrain_attr2:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">(vec4) element 0 holds the <em>parent</em> tile’s elevation value;
elements 1-3 are currently unused.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="shared-image-layers">
<h6>Shared Image Layers<a class="headerlink" href="#shared-image-layers" title="Permalink to this headline">¶</a></h6>
<p>Sometimes you want to access more than one image layer at a time.
For example, you might have a masking layer that indicates land vs. water.
You may not actually want to <em>draw</em> this layer, but you want to use it to modulate
another visible layer.</p>
<p>You can do this using <em>shared image layers</em>. In the <code class="docutils literal notranslate"><span class="pre">Map</span></code>, mark an image layer as
<em>shared</em> (using <code class="docutils literal notranslate"><span class="pre">ImageLayerOptions::shared()</span></code>) and the renderer will make it available
to all the other layers in a secondary sampler.</p>
<blockquote>
<div>Please refer to <code class="docutils literal notranslate"><span class="pre">osgearth_sharedlayer.cpp</span></code> for a usage example!</div></blockquote>
</div>
</div>
</div>
<span id="document-developer/coordinate_systems"></span><div class="section" id="coordinate-systems">
<h4>Coordinate Systems<a class="headerlink" href="#coordinate-systems" title="Permalink to this headline">¶</a></h4>
<p>Between OpenGL, OSG, and osgEarth, there are several different coordinate systems
and reference frames in use and it can get confusing sometimes which is which.
Here we will cover some of the basics.</p>
<div class="section" id="openscenegraph-opengl-coordinate-spaces">
<h5>OpenSceneGraph/OpenGL Coordinate Spaces<a class="headerlink" href="#openscenegraph-opengl-coordinate-spaces" title="Permalink to this headline">¶</a></h5>
<p>Here is a brief explanation of the various coordinate systems used in OpenGL and
OSG. For a more detailed explanation (with pictures!) we direct you to read this
excellent tutorial on the subject:</p>
<blockquote>
<div><a class="reference external" href="http://www.songho.ca/opengl/gl_transform.html">OpenGL Transformation</a></div></blockquote>
<div class="section" id="model-coordinates">
<h6>Model Coordinates<a class="headerlink" href="#model-coordinates" title="Permalink to this headline">¶</a></h6>
<p>Model (or Object) space refers to the actual coordinates in the geometry (like
terrain tiles, an airplane model, etc). In OSG, model coordinates might be absolute
or they might be transformed with an OSG <code class="docutils literal notranslate"><span class="pre">Transform</span></code>.</p>
<p>We will often refer to two types of Model coordinates: <em>world</em> and <em>local</em>.</p>
<p><em>World coordinates</em> are expressed in absolute terms; they are not transformed.
<em>Local coordinates</em> have been transformed to make them relative to some reference
point (in <em>world</em> coordinates).</p>
<p>Why use local coordinates? Because OpenGL hardware can only handle 32-bit values for
vertex locations. But in a system like osgEarth, we need to represent locations with
large values and we cannot do that without exceeding the limits of 32-bit precision.
The solution is to use <em>local coordinates</em>. OSG uses a double-precision <code class="docutils literal notranslate"><span class="pre">MatrixTransform</span></code>
to create a local origin (0,0,0), and then we can express our data relative to that.</p>
</div>
<div class="section" id="view-coordinates">
<h6>View Coordinates<a class="headerlink" href="#view-coordinates" title="Permalink to this headline">¶</a></h6>
<p>View space (sometimes called <em>camera</em> or <em>eye</em> space) express the position of
geometry relative to the camera itself. The camera is at the origin (0,0,0) and
the coordinate axes are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">X</span> <span class="p">:</span> <span class="n">Right</span>
<span class="o">+</span><span class="n">Y</span> <span class="p">:</span> <span class="n">Up</span>
<span class="o">-</span><span class="n">Z</span> <span class="p">:</span> <span class="n">Forward</span> <span class="p">(</span><span class="n">direction</span> <span class="n">the</span> <span class="n">camera</span> <span class="ow">is</span> <span class="n">looking</span><span class="p">)</span>
</pre></div>
</div>
<p>In osgEarth, View space is used quite a bit in <em>vertex shaders</em> – they operate on
the GPU which is limited to 32-bit precision, and View space has a <em>local origin</em>
at the camera.</p>
</div>
<div class="section" id="clip-coordinates">
<h6>Clip Coordinates<a class="headerlink" href="#clip-coordinates" title="Permalink to this headline">¶</a></h6>
<p><em>Clip</em> coordinate are what you get after applying the view volume (also know as the
camera frustum). The frustum defines the limits of what you can see from the eyepoint.
The resulting coordinates are in this system:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">X</span> <span class="p">:</span> <span class="n">Right</span>
<span class="o">+</span><span class="n">Y</span> <span class="p">:</span> <span class="n">Up</span>
<span class="o">+</span><span class="n">Z</span> <span class="p">:</span> <span class="n">Forward</span>
</pre></div>
</div>
<p>Clip spaces uses 4-dimensional homogeneous coordinates. The range of values in clip
space encompasses the camera frustum and is expressed thusly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span><span class="o">..</span><span class="n">w</span><span class="p">]</span> <span class="p">(</span><span class="o">-</span><span class="n">w</span> <span class="o">=</span> <span class="n">left</span><span class="p">,</span>   <span class="o">+</span><span class="n">w</span> <span class="o">=</span> <span class="n">right</span><span class="p">)</span>
<span class="n">Y</span> <span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span><span class="o">..</span><span class="n">w</span><span class="p">]</span> <span class="p">(</span><span class="o">-</span><span class="n">w</span> <span class="o">=</span> <span class="n">bottom</span><span class="p">,</span> <span class="o">+</span><span class="n">w</span> <span class="o">=</span> <span class="n">top</span><span class="p">)</span>
<span class="n">Z</span> <span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="n">w</span><span class="o">..</span><span class="n">w</span><span class="p">]</span> <span class="p">(</span><span class="o">-</span><span class="n">w</span> <span class="o">=</span> <span class="n">near</span><span class="p">,</span>   <span class="o">+</span><span class="n">w</span> <span class="o">=</span> <span class="n">far</span><span class="p">)</span>
<span class="n">W</span> <span class="p">:</span> <span class="n">perspective</span> <span class="n">divisor</span>
</pre></div>
</div>
<p>Note that the Z value, which represents <em>depth</em>, is non-linear. There is much more
precision closer to the near plane.</p>
<p>Clip space is useful in a <em>shader</em> when you need to sample or manipulator <em>depth</em>
information in the scene.</p>
</div>
</div>
</div>
<span id="document-developer/custom_driver"></span><span id="document-developer/qt_integration"></span></div>
</div>
<span id="document-data"></span><div class="section" id="working-with-data">
<h3>Working with Data<a class="headerlink" href="#working-with-data" title="Permalink to this headline">¶</a></h3>
<div class="section" id="where-to-find-data">
<h4>Where to Find Data<a class="headerlink" href="#where-to-find-data" title="Permalink to this headline">¶</a></h4>
<p>Help us add useful sources of Free data to this list.</p>
<p><strong>Raster data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://readymap.org">ReadyMap.org</a> - Free 15m imagery, elevation, and street tiles for osgEarth developers</li>
<li><a class="reference external" href="http://nationalmap.gov/viewer.html">USGS National Map</a> - Elevation, orthoimagery, hydrography, geographic names, boundaries,
transportation, structures, and land cover products for the US.</li>
<li><a class="reference external" href="http://visibleearth.nasa.gov/view_cat.php?categoryID=1484">NASA BlueMarble</a> - NASA’s whole-earth imagery (including topography and bathymetry maps)</li>
<li><a class="reference external" href="http://www.naturalearthdata.com/">Natural Earth</a> - Free vector and raster map data at various scales</li>
<li><a class="reference external" href="http://vterrain.org/Imagery/WholeEarth/">Virtual Terrain Project</a> - Various sources for whole-earth imagery</li>
<li><a class="reference external" href="http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx">Bing Maps</a> - Microsoft’s worldwide imagery and map data ($)</li>
</ul>
</div></blockquote>
<p><strong>Elevation data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://srtm.csi.cgiar.org/">CGIAR</a> - World 90m elevation data derived from SRTM and ETOPO (<a class="reference external" href="ftp://xftp.jrc.it/pub/srtmV4/">CGIAR European mirror</a>)</li>
<li><a class="reference external" href="ftp://topex.ucsd.edu/pub/srtm30_plus/">SRTM30+</a> - Worldwide elevation coverage (including batymetry)</li>
<li><a class="reference external" href="http://glcf.umiacs.umd.edu/data/srtm/">GLCF</a> - UMD’s Global Land Cover Facility (they also have mosaiced LANDSAT data)</li>
<li><a class="reference external" href="http://www.gebco.net/">GEBCO</a> - Genearl Batymetry Chart of the Oceans</li>
</ul>
</div></blockquote>
<p><strong>Feature data</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://openstreetmap.org">OpenStreetMap</a> - Worldwide, community-sources street and land use data (vectors and rasterized tiles)</li>
<li><a class="reference external" href="http://www.naturalearthdata.com/">Natural Earth</a> - Free vector and raster map data at various scales</li>
<li><a class="reference external" href="http://www.diva-gis.org/gData">DIVA-GIS</a> - Free low-resolution vector data for any country</li>
</ul>
</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="tips-for-preparing-your-own-data">
<h4>Tips for Preparing your own Data<a class="headerlink" href="#tips-for-preparing-your-own-data" title="Permalink to this headline">¶</a></h4>
<p><strong>Processing Local Source Data</strong></p>
<blockquote>
<div><p>If you have geospatial data that you would like to view in osgEarth, you can usually use the GDAL driver.
If you plan on doing this, try loading it as-is first.
If you find that it’s too slow, here are some tips for optimizing your data for tiled access.</p>
<p><strong>Reproject your data</strong></p>
<p>osgEarth will reproject your data on-the-fly if it does not have the necessary
coordinate system.  For instance, if you are trying to view a UTM image on a
geodetic globe (epsg:4326).  However, osgEarth will run much faster if your data
is already in the correct coordinate system.  You can use any tool you want to
reproject your data such as GDAL, Global Mapper or ArcGIS.</p>
<p>For example, to reproject a UTM image to geodetic using gdal_warp:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdalwarp</span> <span class="o">-</span><span class="n">t_srs</span> <span class="n">epsg</span><span class="p">:</span><span class="mi">4326</span> <span class="n">my_utm_image</span><span class="o">.</span><span class="n">tif</span> <span class="n">my_gd_image</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p><strong>Build internal tiles</strong></p>
<p>Typically formats such as GeoTiff store their pixel data in scanlines.
However, using a tiled dataset will be more efficient for osgEarth because
of how it uses tiles internally.</p>
<p>To create a tiled GeoTiff using gdal_translate, issue the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_translate</span> <span class="o">-</span><span class="n">of</span> <span class="n">GTiff</span> <span class="o">-</span><span class="n">co</span> <span class="n">TILED</span><span class="o">=</span><span class="n">YES</span> <span class="nb">input</span><span class="o">.</span><span class="n">tif</span> <span class="n">output</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p>Take is a step further and use compression to save space. You can use internal
JPEG compression if your data contains no transparency:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdal_translate</span> <span class="o">-</span><span class="n">of</span> <span class="n">GTiff</span> <span class="o">-</span><span class="n">co</span> <span class="n">TILED</span><span class="o">=</span><span class="n">YES</span> <span class="o">-</span><span class="n">co</span> <span class="n">COMPRESS</span><span class="o">=</span><span class="n">JPG</span> <span class="nb">input</span><span class="o">.</span><span class="n">tif</span> <span class="n">output</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
<p><strong>Build overviews</strong></p>
<p>Adding overviews (also called ‘’pyramids’’ or ‘’rsets’‘) can sometimes increase
the performance of a large data source in osgEarth.  You can use the
<a class="reference external" href="http://gdal.org/gdaladdo.html">gdaladdo</a> utility to add overviews to a dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gdaladdo</span> <span class="o">-</span><span class="n">r</span> <span class="n">average</span> <span class="n">myimage</span><span class="o">.</span><span class="n">tif</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">8</span> <span class="mi">16</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Building tile sets with osgearth_conv</strong></p>
<blockquote>
<div><p>Pre-tiling your imagery can speed up load time dramatically, especially over the network.
In fact, if you want to serve your data over the network, this is the only way!</p>
<p><em>osgearth_conv</em> is a low-level conversion tool that comes with osgEarth. One useful
application of the tool is tile up a large GeoTIFF (or other input) in a tiled format.
Note: this approach only works with drivers that support writing (MBTiles, TMS).</p>
<p>To make a portable MBTiles file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_conv</span> <span class="o">--</span><span class="ow">in</span> <span class="n">driver</span> <span class="n">gdal</span> <span class="o">--</span><span class="ow">in</span> <span class="n">url</span> <span class="n">myLargeFile</span><span class="o">.</span><span class="n">tif</span>
              <span class="o">--</span><span class="n">out</span> <span class="n">driver</span> <span class="n">mbtiles</span> <span class="o">--</span><span class="n">out</span> <span class="n">filename</span> <span class="n">myData</span><span class="o">.</span><span class="n">mbtiles</span>
              <span class="o">--</span><span class="n">out</span> <span class="nb">format</span> <span class="n">jpg</span>
</pre></div>
</div>
<p>If you want to serve tiles from a web server, use TMS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_conv</span> <span class="o">--</span><span class="ow">in</span> <span class="n">driver</span> <span class="n">gdal</span> <span class="o">--</span><span class="ow">in</span> <span class="n">url</span> <span class="n">myLargeData</span><span class="o">.</span><span class="n">tif</span>
              <span class="o">--</span><span class="n">out</span> <span class="n">driver</span> <span class="n">tms</span> <span class="o">--</span><span class="n">out</span> <span class="n">url</span> <span class="n">myLargeData</span><span class="o">/</span><span class="n">tms</span><span class="o">.</span><span class="n">xml</span>
              <span class="o">--</span><span class="n">out</span> <span class="nb">format</span> <span class="n">jpg</span>
</pre></div>
</div>
<p>That will yield a folder (called “myLargeData” in this case) that you can deploy on the web
behind any standard web server (e.g. Apache).</p>
<p><strong>Tip:</strong> If you are tiling elevation data, you will need to add the <code class="docutils literal notranslate"><span class="pre">--elevation</span></code> option.</p>
<p><strong>Tip:</strong> The <code class="docutils literal notranslate"><span class="pre">jpg</span></code> format does NOT support transparency. If your data was an alpha
channel, use <code class="docutils literal notranslate"><span class="pre">png</span></code> instead.</p>
<p>Just type <em>osgearth_conv</em> for a full list of options. The <code class="docutils literal notranslate"><span class="pre">--in</span></code> and <code class="docutils literal notranslate"><span class="pre">--out</span></code> options
correspond directly to properties you would normally include in an Earth file.</p>
</div></blockquote>
<p><strong>Building tile sets with the packager</strong></p>
<blockquote>
<div><p>Another way to speed up imagery and elevation loading in osgEarth is to build tile sets.</p>
<p>This process takes the source data and chops it up into a quad-tree hierarchy of discrete
<em>tiles</em> that osgEarth can load very quickly. Normally, if you load a GeoTIFF (for example),
osgEarth has to create the tiles at runtime in order to build the globe; Doing this beforehand
means less work for osgEarth when you run your application.</p>
<p><strong>osgearth_package</strong></p>
<p><em>osgearth_package</em> is a utility that prepares source data for use in osgEarth.
It is <strong>optional</strong> - you can run osgEarth against your raw source data
and it will work fine - but you can use <em>osgearth_package</em> to build optimized
tile sets that will maximize performance in most cases. Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgearth_package</span> <span class="n">file</span><span class="o">.</span><span class="n">earth</span> <span class="o">--</span><span class="n">tms</span> <span class="o">--</span><span class="n">out</span> <span class="n">output_folder</span>
</pre></div>
</div>
<p>This will load each of the data sources in the earth file
(<code class="docutils literal notranslate"><span class="pre">file.earth</span></code> in this case) and generate a TMS repository for each under the
folder <code class="docutils literal notranslate"><span class="pre">output_folder</span></code>. You can also specify options:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--out <var>path</var></span></kbd></td>
<td>Root output folder of the TMS repo</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--ext <var>extension</var></span></kbd></td>
</tr>
<tr><td>&#160;</td><td>Output file extension</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--max-level <var>level</var></span></kbd></td>
</tr>
<tr><td>&#160;</td><td>Maximum level of detail</td></tr>
</tbody>
</table>
<p>–bounds xmin ymin xmax ymax        Bounds to package (in map coordinates; default=entire map)
–out-earth                         Generate an output earth file referencing the new repo
–overwrite                         Force overwriting of existing files
–keep-empties                      Writes fully transparent image tiles (normally discarded)
–db-options                        An optional OSG options string
–verbose                           Displays progress of the operation</p>
</div></blockquote>
</div></blockquote>
<p><strong>Spatial indexing for feature data</strong></p>
<blockquote>
<div><p>Large vector feature datasets (e.g., shapefiles) will benefit greatly from a spatial index.
Using the <em>ogrinfo</em> tool (included with GDAL/OGR binary distributions) you can create a
spatial index for your vector data like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ogrinfo</span> <span class="o">-</span><span class="n">sql</span> <span class="s2">&quot;CREATE SPATIAL INDEX ON myfile&quot;</span> <span class="n">myfile</span><span class="o">.</span><span class="n">shp</span>
</pre></div>
</div>
<p>For shapefiles, this will generate a “.qix” file that contains the spatial index information.</p>
</div></blockquote>
</div>
</div>
<span id="document-references/index"></span><div class="section" id="reference-guides">
<h3>Reference Guides<a class="headerlink" href="#reference-guides" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<span id="document-references/earthfile"></span><div class="section" id="earth-file-reference">
<h4>Earth File Reference<a class="headerlink" href="#earth-file-reference" title="Permalink to this headline">¶</a></h4>
<div class="section" id="map">
<h5>Map<a class="headerlink" href="#map" title="Permalink to this headline">¶</a></h5>
<p>The <em>map</em> is the top-level element in an earth file.</p>
<pre class="literal-block">
&lt;map name    = &quot;my map&quot;
     type    = &quot;geocentric&quot;
     version = &quot;2&quot; &gt;

    &lt;<a class="reference internal" href="#mapoptions"><span class="std std-ref">options</span></a>&gt;
    &lt;<a class="reference internal" href="#imagelayer"><span class="std std-ref">image</span></a>&gt;
    &lt;<a class="reference internal" href="#elevationlayer"><span class="std std-ref">elevation</span></a>&gt;
    &lt;<a class="reference internal" href="#modellayer"><span class="std std-ref">model</span></a>&gt;
    &lt;<span class="xref std std-ref">mask</span>&gt;
    &lt;<a class="reference internal" href="#libraries"><span class="std std-ref">libraries</span></a>&gt;
</pre>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Readable name. No effect on rendering.</td>
</tr>
<tr class="row-odd"><td>type</td>
<td><dl class="first last docutils">
<dt>Coordinate system type.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">geocentric:</th><td class="field-body">Render an ellipsoidal globe.</td>
</tr>
<tr class="field-even field"><th class="field-name">projected:</th><td class="field-body">Render a “flat”, projected map.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td>version</td>
<td>Earth file version. default = “2”. Set this to load an older earth
file format.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="map-options">
<span id="mapoptions"></span><h5>Map Options<a class="headerlink" href="#map-options" title="Permalink to this headline">¶</a></h5>
<p>These options control both the Map Model and the rendering properties associated with
the entire map.</p>
<pre class="literal-block">
&lt;map&gt;
    &lt;options lighting                 = &quot;true&quot;
             elevation_interpolation  = &quot;bilinear&quot;
             overlay_texture_size     = &quot;4096&quot;
             overlay_blending         = &quot;true&quot;
             overlay_resolution_ratio = &quot;3.0&quot; &gt;

        &lt;<a class="reference internal" href="#profile"><span class="std std-ref">profile</span></a>&gt;
        &lt;<a class="reference internal" href="#proxysettings"><span class="std std-ref">proxy</span></a>&gt;
        &lt;<a class="reference internal" href="#cache"><span class="std std-ref">cache</span></a>&gt;
        &lt;<a class="reference internal" href="#cachepolicy"><span class="std std-ref">cache_policy</span></a>&gt;
        &lt;<a class="reference internal" href="#terrainoptions"><span class="std std-ref">terrain</span></a>&gt;
</pre>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>lighting</td>
<td>Whether to allow lighting shaders to affect the map.</td>
</tr>
<tr class="row-odd"><td>elevation_interpolation</td>
<td><dl class="first last docutils">
<dt>Algorithm to use when resampling elevation source data:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">nearest:</th><td class="field-body">Nearest neighbor</td>
</tr>
<tr class="field-even field"><th class="field-name">average:</th><td class="field-body">Averages the neighoring values</td>
</tr>
<tr class="field-odd field"><th class="field-name">bilinear:</th><td class="field-body">Linear interpolation in both axes</td>
</tr>
<tr class="field-even field"><th class="field-name">triangulate:</th><td class="field-body">Interp follows triangle slope</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td>overlay_texture_size</td>
<td>Sets the texture size to use for draping (projective texturing)</td>
</tr>
<tr class="row-odd"><td>overlay_blending</td>
<td>Whether overlay geometry blends with the terrain during draping
(projective texturing</td>
</tr>
<tr class="row-even"><td>overlay_resolution_ratio</td>
<td>For draped geometry, the ratio of the resolution of the projective
texture near the camera versus the resolution far from the camera.
Increase the value to improve appearance close to the camera while
sacrificing appearance of farther geometry. NOTE: If you’re using
a camera manipulator that support roll, you will probably need to
set this to 1.0; otherwise you will get draping artifacts! This is
a known issue.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="terrain-options">
<span id="terrainoptions"></span><h5>Terrain Options<a class="headerlink" href="#terrain-options" title="Permalink to this headline">¶</a></h5>
<p>These options control the rendering of the terrain surface.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">terrain</span> <span class="n">driver</span>                <span class="o">=</span> <span class="s2">&quot;rex&quot;</span>
                 <span class="n">lighting</span>              <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
                 <span class="n">min_tile_range_factor</span> <span class="o">=</span> <span class="s2">&quot;6&quot;</span>
                 <span class="n">first_lod</span>             <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
                 <span class="n">blending</span>              <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
                 <span class="n">color</span>                 <span class="o">=</span> <span class="s2">&quot;#ffffffff&quot;</span>
                 <span class="n">tile_size</span>             <span class="o">=</span> <span class="s2">&quot;17&quot;</span>
                 <span class="n">normalize_edges</span>       <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
                 <span class="n">compress_normal_maps</span>  <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
                 <span class="n">normal_maps</span>           <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
                 <span class="n">min_expiry_frames</span>     <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
                 <span class="n">min_expiry_time</span>       <span class="o">=</span> <span class="s2">&quot;0&quot;</span> <span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>driver</td>
<td>Terrain engine plugin to load. Default = “rex”.
Please refer to the driver reference guide for properties specific
to each individual plugin.</td>
</tr>
<tr class="row-odd"><td>lighting</td>
<td>Whether the terrain will accept lighting if present. Default=true</td>
</tr>
<tr class="row-even"><td>min_tile_range_factor</td>
<td>Determines how close you need to be to a terrain tile for it to
display. The value is the ratio of a tile’s extent to its
For example, if a tile has a 10km radius, and the MTRF=7, then the
tile will become visible at a range of about 70km. Default=6.0</td>
</tr>
<tr class="row-odd"><td>first_lod</td>
<td>The lowest level of detail at which the terrain will display tiles.
I.e., the terrain will never display a lower LOD than this.</td>
</tr>
<tr class="row-even"><td>blending</td>
<td>Set this to <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable GL blending on the terrain’s
underlying geometry. This lets you make the globe partially
transparent. This is handy for seeing underground objects.</td>
</tr>
<tr class="row-odd"><td>tile_size</td>
<td>The dimensions of each terrain tile. Each terrain tile will have
<code class="docutils literal notranslate"><span class="pre">tile_size</span></code> X <code class="docutils literal notranslate"><span class="pre">tile_size</span></code> vertices. Default=17</td>
</tr>
<tr class="row-even"><td>normalize_edges</td>
<td>Calculate normal vectors along the edges of terrain tiles so that
lighting appears smoother from one tile to the next. Default=false</td>
</tr>
<tr class="row-odd"><td>normal_maps</td>
<td>Whether to generate and use normal maps in place of geometry
normals. Normal maps are used with lighting to create the
appearance of higher-resolution terrain than can be represented
with triangles alone. Default is engine-dependent.</td>
</tr>
<tr class="row-even"><td>compress_normal_maps</td>
<td>Whether to compress normal maps before sending them to the GPU.
You must have the NVIDIA Texture Tools image processor plugin
built in your OpenSceneGraph build.  Default is false</td>
</tr>
<tr class="row-odd"><td>min_expiry_frames</td>
<td>The number of frames that a terrain tile hasn’t been seen before
it can be considered for expiration. Default = 0</td>
</tr>
<tr class="row-even"><td>min_expiry_time</td>
<td>The number of seconds that a terrain tile hasn’t been culled before
it can be considered for expiration. Default = 0</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="image-layer">
<span id="imagelayer"></span><h5>Image Layer<a class="headerlink" href="#image-layer" title="Permalink to this headline">¶</a></h5>
<p>An <em>image layer</em> is a raster image overlaid on the map’s geometry.</p>
<pre class="literal-block">
&lt;map&gt;
    &lt;image name              = &quot;my image layer&quot;
           driver            = &quot;gdal&quot;
           nodata_image      = &quot;<a class="reference external" href="http://readymap.org/nodata.png">http://readymap.org/nodata.png</a>&quot;
           opacity           = &quot;1.0&quot;
           min_range         = &quot;0&quot;
           max_range         = &quot;100000000&quot;
           attenuation_range = &quot;0&quot;
           min_level         = &quot;0&quot;
           max_level         = &quot;23&quot;
           min_resolution    = &quot;100.0&quot;
           max_resolution    = &quot;0.0&quot;
           max_data_level    = &quot;23&quot;
           enabled           = &quot;true&quot;
           visible           = &quot;true&quot;
           shared            = &quot;false&quot;
           shared_sampler    = &quot;string&quot;
           shared_matrix     = &quot;string&quot;
           coverage          = &quot;false&quot;
           min_filter        = &quot;LINEAR&quot;
           mag_filter        = &quot;LINEAR&quot;
           blend             = &quot;interpolate&quot;
           altitude          = &quot;0&quot;
           texture_compression = &quot;none&quot; &gt;

        &lt;<a class="reference internal" href="#cachepolicy"><span class="std std-ref">cache_policy</span></a>&gt;
        &lt;<a class="reference internal" href="#proxysettings"><span class="std std-ref">proxy</span></a>&gt;
</pre>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Readable layer name. Not used in the engine.</td>
</tr>
<tr class="row-odd"><td>driver</td>
<td>Plugin to use to create tiles for this layer.
Please refer to the driver reference guide for properties specific
to each individual plugin.</td>
</tr>
<tr class="row-even"><td>nodata_image</td>
<td>URI of an image that represents “no data” in the source. If
osgEarth matches a tile to this image, it will act as if it found
no data at that location and it will <em>not</em> render the tile.</td>
</tr>
<tr class="row-odd"><td>opacity</td>
<td>The layer’s opacity, [0..1].</td>
</tr>
<tr class="row-even"><td>min_range</td>
<td>Minimum visibility range, in meters from the camera. If the camera
gets closer than this, the tile will not be visible.</td>
</tr>
<tr class="row-odd"><td>max_range</td>
<td>Maximum visibility range, in meters from the camera. The tile will
not be drawn beyond this range.</td>
</tr>
<tr class="row-even"><td>attenuation_range</td>
<td>Distance over which to blend towards min_range or max_range.
(not supported for text or icons, only geometry)</td>
</tr>
<tr class="row-odd"><td>min_level</td>
<td>Minimum visibility level of detail.</td>
</tr>
<tr class="row-even"><td>max_level</td>
<td>Maximum visibility level of detail.</td>
</tr>
<tr class="row-odd"><td>min_resolution</td>
<td>Minimum source data resolution at which to draw tiles. Value is
units per pixel, in the native units of the source data.</td>
</tr>
<tr class="row-even"><td>max_resolution</td>
<td>Maximum source data resolution at which to draw tiles. Value is
units per pixel, in the native units of the source data.</td>
</tr>
<tr class="row-odd"><td>max_data_level</td>
<td>Maximum level of detail at which new source data is available to
this image layer. Usually the driver will report this information.
But you may wish to limit it yourself. This is especially true for
some drivers that have no resolution limit, like a rasterization
driver (agglite) for example.</td>
</tr>
<tr class="row-even"><td>enabled</td>
<td>Whether to include this layer in the map. You can only set this at
load time; it is just an easy way of “commenting out” a layer in
the earth file.</td>
</tr>
<tr class="row-odd"><td>visible</td>
<td>Whether to draw the layer.</td>
</tr>
<tr class="row-even"><td>shared</td>
<td>Generates a secondary, dedicated sampler for this layer so that it
may be accessed globally by custom shaders.</td>
</tr>
<tr class="row-odd"><td>shared_sampler</td>
<td>For a shared layer, the uniform name of the sampler that will be
available in GLSL code.</td>
</tr>
<tr class="row-even"><td>shared_matrix</td>
<td>For a shared layer, the uniform name of the texture matrix that
will be available in GLSL code that you can use to access
the proper texture coordinate for the <code class="docutils literal notranslate"><span class="pre">shared_sampler</span></code> above.</td>
</tr>
<tr class="row-odd"><td>coverage</td>
<td>Indicates that this is a coverage layer, i.e. a layer that conveys
discrete values with particular semantics. An example would be a
“land use” layer in which each pixel holds a value that indicates
whether the area is grassland, desert, etc. Marking a layer as a
coverage disables any interpolation, filtering, or compression as
these will corrupt the sampled data values on the GPU.</td>
</tr>
<tr class="row-even"><td>min_filter</td>
<td>OpenGL texture minification filter to use for this layer.
Options are NEAREST, LINEAR, NEAREST_MIPMAP_NEAREST,
NEAREST_MIPMIP_LINEAR, LINEAR_MIPMAP_NEAREST, LINEAR_MIPMAP_LINEAR</td>
</tr>
<tr class="row-odd"><td>mag_filter</td>
<td>OpenGL texture magnification filter to use for this layer.
Options are the same as for <code class="docutils literal notranslate"><span class="pre">min_filter</span></code> above.</td>
</tr>
<tr class="row-even"><td>texture_compression</td>
<td>“auto” to compress textures on the GPU;
“none” to disable.
“fastdxt” to use the FastDXT real time DXT compressor</td>
</tr>
<tr class="row-odd"><td>blend</td>
<td>“modulate” to multiply pixels with the framebuffer;
“interpolate” to blend with the framebuffer based on alpha (def)</td>
</tr>
<tr class="row-even"><td>altitude</td>
<td>Meters above sea level at which to render this image layer. You
can use this to render a weather or cloud layer above the ground,
for example, as a visual aide. Default=0</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="elevation-layer">
<span id="elevationlayer"></span><h5>Elevation Layer<a class="headerlink" href="#elevation-layer" title="Permalink to this headline">¶</a></h5>
<p>An <em>Elevation Layer</em> provides heightmap grids to the terrain engine. The osgEarth engine
will composite all elevation data into a single heightmap and use that to build a terrain tile.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">elevation</span> <span class="n">name</span>            <span class="o">=</span> <span class="s2">&quot;text&quot;</span>
               <span class="n">driver</span>          <span class="o">=</span> <span class="s2">&quot;gdal&quot;</span>
               <span class="n">min_level</span>       <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
               <span class="n">max_level</span>       <span class="o">=</span> <span class="s2">&quot;23&quot;</span>
               <span class="n">min_resolution</span>  <span class="o">=</span> <span class="s2">&quot;100.0&quot;</span>
               <span class="n">max_resolution</span>  <span class="o">=</span> <span class="s2">&quot;0.0&quot;</span>
               <span class="n">enabled</span>         <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
               <span class="n">offset</span>          <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
               <span class="n">nodata_value</span>    <span class="o">=</span> <span class="s2">&quot;-32768&quot;</span>
               <span class="n">min_valid_value</span> <span class="o">=</span> <span class="s2">&quot;-32768&quot;</span>
               <span class="n">max_valid_value</span> <span class="o">=</span> <span class="s2">&quot;32768&quot;</span>
               <span class="n">nodata_policy</span>   <span class="o">=</span> <span class="s2">&quot;interpolate&quot;</span> <span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Readable layer name. Not used in the engine.</td>
</tr>
<tr class="row-odd"><td>driver</td>
<td>Plugin to use to create tiles for this layer.
Please refer to the driver reference guide for properties specific
to each individual plugin.</td>
</tr>
<tr class="row-even"><td>min_level</td>
<td>Minimum visibility level of detail.</td>
</tr>
<tr class="row-odd"><td>max_level</td>
<td>Maximum visibility level of detail.</td>
</tr>
<tr class="row-even"><td>min_resolution</td>
<td>Minimum source data resolution at which to draw tiles. Value is
units per pixel, in the native units of the source data.</td>
</tr>
<tr class="row-odd"><td>max_resolution</td>
<td>Maximum source data resolution at which to draw tiles. Value is
units per pixel, in the native units of the source data.</td>
</tr>
<tr class="row-even"><td>enabled</td>
<td>Whether to include this layer in the map. You can only set this at
load time; it is just an easy way of “commenting out” a layer in
the earth file.</td>
</tr>
<tr class="row-odd"><td>offset</td>
<td>Indicates that the height values in this layer are relative
offsets rather than true terrain height samples.</td>
</tr>
<tr class="row-even"><td>nodata_policy</td>
<td>What to do with “no data” values. Default is “interpolate” which
will interpolate neighboring values to fill holes. Set it to “msl”
to replace “no data” samples with the current sea level value.</td>
</tr>
<tr class="row-odd"><td>nodata_value</td>
<td>Treat this value as “no data”.</td>
</tr>
<tr class="row-even"><td>min_valid_value</td>
<td>Treat anything less than this value as “no data”.</td>
</tr>
<tr class="row-odd"><td>max_valid_value</td>
<td>Treat anything greater than this value as “no data”.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="model-layer">
<span id="modellayer"></span><h5>Model Layer<a class="headerlink" href="#model-layer" title="Permalink to this headline">¶</a></h5>
<p>A <em>Model Layer</em> renders an external 3D model as a map layer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">model</span> <span class="n">name</span>    <span class="o">=</span> <span class="s2">&quot;my model layer&quot;</span>
           <span class="n">driver</span>  <span class="o">=</span> <span class="s2">&quot;simple&quot;</span> <span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Readable layer name. Not used in the engine.</td>
</tr>
<tr class="row-odd"><td>driver</td>
<td>Plugin to use to create tiles for this layer.
Please refer to the driver reference guide for properties specific
to each individual plugin.</td>
</tr>
</tbody>
</table>
<p>The Model Layer also allows you to define a cut-out mask. The terrain engine will cut a hole
in the terrain surface matching a <em>boundary geometry</em> that you supply. You can use the tool
<em>osgearth_boundarygen</em> to create such a geometry.</p>
<p>This is useful if you have an external terrain model and you want to insert it into the
osgEarth terrain. The model MUST be in the same coordinate system as the terrain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">model</span> <span class="o">...&gt;</span>
        <span class="o">&lt;</span><span class="n">mask</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
                <span class="o">...</span>
</pre></div>
</div>
<p>The Mask can take any polygon feature as input. You can specify masking geometry inline
by using an inline geometry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">features</span> <span class="o">...&gt;</span>
    <span class="o">&lt;</span><span class="n">geometry</span><span class="o">&gt;</span><span class="n">POLYGON</span><span class="p">((</span><span class="mi">120</span> <span class="mi">42</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">121</span> <span class="mi">41</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">121</span> <span class="mi">40</span> <span class="mi">0</span><span class="p">))</span><span class="o">&lt;/</span><span class="n">geometry</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Or you use a shapefile or other feature source, in which case osgEarth will use the
<em>first</em> feature in the source.</p>
<p>Refer to the <em>mask.earth</em> sample for an example.</p>
</div>
<div class="section" id="profile">
<span id="id1"></span><h5>Profile<a class="headerlink" href="#profile" title="Permalink to this headline">¶</a></h5>
<p>The profile tells osgEarth the spatial reference system, the geospatial extents, and the
tiling scheme that it should use to render map tiles.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">profile</span> <span class="n">srs</span>    <span class="o">=</span> <span class="s2">&quot;+proj=utm +zone=17 +ellps=GRS80 +datum=NAD83 +units=m +no_defs&quot;</span>
         <span class="n">vdatum</span> <span class="o">=</span> <span class="s2">&quot;egm96&quot;</span>
         <span class="n">xmin</span>   <span class="o">=</span> <span class="s2">&quot;560725.500&quot;</span>
         <span class="n">xmax</span>   <span class="o">=</span> <span class="s2">&quot;573866.500&quot;</span>
         <span class="n">ymin</span>   <span class="o">=</span> <span class="s2">&quot;4385762.500&quot;</span>
         <span class="n">ymax</span>   <span class="o">=</span> <span class="s2">&quot;4400705.500&quot;</span>
         <span class="n">num_tiles_wide_at_lod_0</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
         <span class="n">num_tiles_high_at_lod_0</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>srs</td>
<td>Spatial reference system of the map. This can be a WKT string, an
EPSG code, a PROJ4 initialization string, or a stock profile name.
Please refer to <a class="reference internal" href="index.html#document-user/spatialreference"><span class="doc">Spatial References</span></a> for details.</td>
</tr>
<tr class="row-odd"><td>vdatum</td>
<td>Vertical datum of the profile, which describes how to treat
Z values. Please refer to <a class="reference internal" href="index.html#document-user/spatialreference"><span class="doc">Spatial References</span></a> for
details.</td>
</tr>
<tr class="row-even"><td>xmin, xmax, ymin, ymax</td>
<td>Geospatial extent of the map. The units are those defined by the
SRS above (usually meters for a projected map, degrees for a
geocentric map).</td>
</tr>
<tr class="row-odd"><td>num_tiles_*_at_lod_0</td>
<td>Size of the tile hierarchy’s top-most level. Default is “1” in both
directions. (<em>optional</em>)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cache">
<span id="id2"></span><h5>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h5>
<p>Configures a cache for tile data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cache</span> <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
       <span class="n">path</span>   <span class="o">=</span> <span class="s2">&quot;c:/osgearth_cache&quot;</span> <span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>driver</td>
<td>Plugin to use for caching, <code class="docutils literal notranslate"><span class="pre">filesystem</span></code> or <code class="docutils literal notranslate"><span class="pre">leveldb</span></code>.</td>
</tr>
<tr class="row-odd"><td>path</td>
<td>Path (relative or absolute) or the cache folder or file.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cachepolicy">
<span id="id3"></span><h5>CachePolicy<a class="headerlink" href="#cachepolicy" title="Permalink to this headline">¶</a></h5>
<p>Policy that determines how a given element will interact with a configured cache.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cache_policy</span> <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;no_cache&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>usage</td>
<td><dl class="first last docutils">
<dt>Policy towards the cache.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">read_write:</th><td class="field-body">Use a cache if one is configured. The default.</td>
</tr>
<tr class="field-even field"><th class="field-name">cache_only:</th><td class="field-body">ONLY read data from the cache, ignoring the actual
data source. This is nice for offline rendering.</td>
</tr>
<tr class="field-odd field"><th class="field-name">no_cache:</th><td class="field-body">Ignore caching and always read from the data
source.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>max_age</td>
<td>Treat cache entries older than this value (in seconds) as expired.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="proxy-settings">
<span id="proxysettings"></span><h5>Proxy Settings<a class="headerlink" href="#proxy-settings" title="Permalink to this headline">¶</a></h5>
<p><em>Proxy settings</em> let you configure a network proxy for remote data sources.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">proxy</span> <span class="n">host</span>     <span class="o">=</span> <span class="s2">&quot;hostname&quot;</span>
       <span class="n">port</span>     <span class="o">=</span> <span class="s2">&quot;8080&quot;</span>
       <span class="n">username</span> <span class="o">=</span> <span class="s2">&quot;jason&quot;</span>
       <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;helloworld&quot;</span> <span class="o">&gt;</span>
</pre></div>
</div>
<p>Hopefully the properties are self-explanatory.</p>
</div>
<div class="section" id="libraries">
<span id="id4"></span><h5>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h5>
<p>Preload any libraries.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">libraries</span><span class="o">&gt;</span><span class="n">a</span><span class="o">&lt;/</span><span class="n">libraries</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Multiple library names could be listed by using ‘;’ as separator.</p>
<blockquote>
<div>&lt;libraries&gt;a;b;c;d;e&lt;/libraries&gt;</div></blockquote>
<p>The libraries are searched in the osg library path and library name needs to follow the osg nodekit library name convention (postfixed with osg library version)</p>
</div>
</div>
<span id="document-references/drivers/index"></span><div class="section" id="driver-reference">
<h4>Driver Reference<a class="headerlink" href="#driver-reference" title="Permalink to this headline">¶</a></h4>
<p>This document is a reference guide to all of osgEarth’s stock <em>drivers</em>.
A <em>driver</em> is a plugin module that implements support for some external
resource within osgEarth.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/tile/index"></span><div class="section" id="tile-source-drivers">
<h5>Tile Source Drivers<a class="headerlink" href="#tile-source-drivers" title="Permalink to this headline">¶</a></h5>
<p>A <em>TileSource Driver</em> is a driver that provides raster data to the osgEarth
terrain engine. It can produce image tiles, elevation grid tiles, or both.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/tile/agglite"></span><div class="section" id="agglite-rasterizer">
<h6>AGGLite Rasterizer<a class="headerlink" href="#agglite-rasterizer" title="Permalink to this headline">¶</a></h6>
<p>This plugin uses the <em>agglite</em> library to rasterize feature data to image
tiles. It is a simple yet powerful way to render vector graphics on to
the map.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;agglite&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">world</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">default</span> <span class="p">{</span>
                <span class="n">stroke</span><span class="p">:</span>       <span class="c1">#ffff00;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mi">500</span><span class="n">m</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">optimize_line_sampling:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Downsample the line data so that it is no higher
resolution than to image to which we intend to rasterize
it. If you don’t do this, you run the risk of the buffer
operation taking forever on very high-resolution input data.
(optional)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">feature_rasterize.earth</span></code> sample in the repo</div></blockquote>
</div>
<span id="document-references/drivers/tile/arcgis"></span><div class="section" id="arcgis-server">
<h6>ArcGIS Server<a class="headerlink" href="#arcgis-server" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads image tiles form an ESRI ArcGIS server REST API.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;arcgis&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">services</span><span class="o">.</span><span class="n">arcgisonline</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ArcGIS</span><span class="o">/</span><span class="n">rest</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">World_Imagery</span><span class="o">/</span><span class="n">MapServer</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">URL or the ArcGIS Server REST API entry point for the map service</td>
</tr>
<tr class="field-even field"><th class="field-name">token:</th><td class="field-body">ArcGIS Server security token (optional)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">arcgisonline.earth</span></code> in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
<p><em>ArcGIS is a registered copyright of ESRI.</em></p>
</div>
<span id="document-references/drivers/tile/cesiumion"></span><div class="section" id="cesium-ion">
<h6>Cesium Ion<a class="headerlink" href="#cesium-ion" title="Permalink to this headline">¶</a></h6>
<p>The Cesium Ion plugin reads imagery tiles from the <a class="reference external" href="https://cesium.com">Cesium Ion</a> service.
By providing your own access_token you’ll gain access to your layers.</p>
<p>Cesium Ion requires your CURL library to be compiled with SSL support to support https links.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;cesiumion bluemarble&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;cesiumion&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">asset_id</span><span class="o">&gt;</span><span class="mi">3845</span><span class="o">&lt;/</span><span class="n">asset_id</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">token</span><span class="o">&gt;</span><span class="n">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="o">.</span><span class="n">eyJqdGkiOiI0NDViM2NkNi0xYTE2LTRlZTUtODBlNy05M2Q4ODg4M2NmMTQiLCJpZCI6MjU5LCJpYXQiOjE1MTgxOTc4MDh9</span><span class="o">.</span><span class="n">sld5jPORDf_lWavMEsugh6vHPnjR6j3qd1aBkQTswNM</span><span class="o">&lt;/</span><span class="n">token</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">server:</th><td class="field-body">The Cesium Ion server to access.  Default is <a class="reference external" href="https://api.cesium.com/">https://api.cesium.com/</a></td>
</tr>
<tr class="field-even field"><th class="field-name">asset_id:</th><td class="field-body">The id of the asset to access.  Only imagery layers are currently supported.</td>
</tr>
<tr class="field-odd field"><th class="field-name">token:</th><td class="field-body">Your access token to the Cesium Ion service</td>
</tr>
<tr class="field-even field"><th class="field-name">format:</th><td class="field-body">The format of the layer.  Default is png</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">cesium_ion.earth</span></code> in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
</div>
<span id="document-references/drivers/tile/colorramp"></span><div class="section" id="color-ramp">
<h6>Color Ramp<a class="headerlink" href="#color-ramp" title="Permalink to this headline">¶</a></h6>
<p>The Color Ramp plugin uses an underlying heightfield in addition to a color ramp
file to generate RGBA images from single band datasets such as elevation or temperature.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;color ramp&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;colorramp&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">elevation</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;readymap_elevation&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;tms&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">readymap</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">readymap</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">9</span><span class="o">/&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">elevation</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ramp</span><span class="o">&gt;..</span>\<span class="n">data</span>\<span class="n">colorramps</span>\<span class="n">elevation</span><span class="o">.</span><span class="n">clr</span><span class="o">&lt;/</span><span class="n">ramp</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Ramp files:</p>
<p>A file that defines how values match to colors.  Each line should contain
a value and the RGB color it’s mapped to with values in the range 0-255</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="mi">1000</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">0</span>
<span class="mi">5000</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">255</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">elevation:</th><td class="field-body">Definition of an elevation layer to sample.</td>
</tr>
<tr class="field-even field"><th class="field-name">ramp:</th><td class="field-body">Path to the ramp file to use to color the layer.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">colorramp.earth</span></code> sample in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
</div>
<span id="document-references/drivers/tile/debug"></span><div class="section" id="debug-display">
<h6>Debug Display<a class="headerlink" href="#debug-display" title="Permalink to this headline">¶</a></h6>
<p>This plugin renders an overlay that shows the outline of each tile
along with its tile key (x, y, and LOD).</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;debug&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div>None.</div></blockquote>
<p>Notes:</p>
<blockquote>
<div>Data from this driver is not cacheable.</div></blockquote>
</div>
<span id="document-references/drivers/tile/gdal"></span><div class="section" id="gdal-geospatial-data-abstraction-library">
<h6>GDAL (Geospatial Data Abstraction Library)<a class="headerlink" href="#gdal-geospatial-data-abstraction-library" title="Permalink to this headline">¶</a></h6>
<p>The GDAL plugin will read most geospatial file types. This is the most
common driver that you will use to read data on your local filesystem.</p>
<p>The <a class="reference external" href="http://www.gdal.org">GDAL</a> library support a huge <a class="reference external" href="http://www.gdal.org/formats_list.html">list of formats</a>, among the most common
being GeoTIFF, JPEG, and ECW. It can also read from databases and web
services if properly configured.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;gdal&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">data</span><span class="o">/</span><span class="n">world</span><span class="o">.</span><span class="n">tif</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Loading multiple files from a folder (they must all be in the same projection):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;gdal&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">data</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">extensions</span><span class="o">&gt;</span><span class="n">tif</span><span class="o">&lt;/</span><span class="n">extensions</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the file to load, or the location of a folder if
you intend to load multiple files in the same projection.</td>
</tr>
<tr class="field-even field"><th class="field-name">connection:</th><td class="field-body">If the data source is a database (e.g., PostGIS), the connection
string to use to open the database table.</td>
</tr>
<tr class="field-odd field"><th class="field-name">extensions:</th><td class="field-body">One or more file extensions, separated by semicolons, to load when
<code class="docutils literal notranslate"><span class="pre">url</span></code> points to a folder and you are trying to load multiple files.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">black_extensions:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Set of file extensions to ignore (opposite of <code class="docutils literal notranslate"><span class="pre">extensions</span></code>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">interpolation:</th><td class="field-body">Interpolation method to use when resampling source data; options are
<code class="docutils literal notranslate"><span class="pre">nearest</span></code>, <code class="docutils literal notranslate"><span class="pre">average</span></code>, and <code class="docutils literal notranslate"><span class="pre">bilinear</span></code>.  Only effects elevation data
unless interp_imagery is also set to true.</td>
</tr>
<tr class="field-even field"><th class="field-name">max_data_level:</th><td class="field-body">Maximum level of detail of available data</td>
</tr>
<tr class="field-odd field"><th class="field-name">subdataset:</th><td class="field-body">Some GDAL-supported formats support sub-datasets; use this property
to specify such a data source</td>
</tr>
<tr class="field-even field"><th class="field-name">interp_imagery:</th><td class="field-body">Set to true to also sample imagery using the method specified by “interpolation”
By default imagery is sampled using nearest sampling.  This takes advantage of
any built in overviews or wavelet compression in the source file but can
cause artifacts on neighboring tiles.  Interpolating the imagery can look nicer
but will be much slower.</td>
</tr>
<tr class="field-odd field"><th class="field-name">warp_profile:</th><td class="field-body">The “warp profile” is a way to tell the GDAL driver to keep the original SRS
and geotransform of the source data but use a Warped VRT to make the data
appear to conform to the given profile.  This is useful for merging multiple
files that may be in different projections using the composite driver.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">gdal_tiff.earth</span></code> sample in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
</div>
<span id="document-references/drivers/tile/mbtiles"></span><div class="section" id="mbtiles">
<h6>MBTiles<a class="headerlink" href="#mbtiles" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads data from an <a class="reference external" href="https://www.mapbox.com/developers/mbtiles/">MBTiles</a> file, which is an SQLite3 database that contains all the tile data in a single table.  This driver requires that you build osgEarth with SQLite3 support.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;haiti&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;mbtiles&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">filename</span><span class="o">&gt;../</span><span class="n">data</span><span class="o">/</span><span class="n">haiti</span><span class="o">-</span><span class="n">terrain</span><span class="o">-</span><span class="n">grey</span><span class="o">.</span><span class="n">mbtiles</span><span class="o">&lt;/</span><span class="n">filename</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">jpg</span><span class="o">&lt;/</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">filename:</th><td class="field-body">The filename of the MBTiles file</td>
</tr>
<tr class="field-even field"><th class="field-name">format:</th><td class="field-body">The format of the imagery in the MBTiles file (jpeg, png, etc)</td>
</tr>
<tr class="field-odd field"><th class="field-name">compute_levels:</th><td class="field-body">Whether or not to automatically compute the valid levels of the MBTiles file.
By default this is true and will scan the table to determine the min/max.
This can take time when first loading the file so if you know the levels of your file
up front you can set this to false and just use the min_level max_level settings of the tile source.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">mb_tiles.earth</span></code> sample in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder</div></blockquote>
</div>
<span id="document-references/drivers/tile/noise"></span><div class="section" id="noise">
<h6>Noise<a class="headerlink" href="#noise" title="Permalink to this headline">¶</a></h6>
<p>The noise plugin procedurally generates fractal terrain based on a Perlin noise generator called <a class="reference external" href="http://libnoise.sourceforge.net/">libnoise</a>.
We will explain how it works here, but you can also refer to the libnoise documentation for the meaning and
application of the properties below.</p>
<p>There are lots of ways to use the <code class="docutils literal notranslate"><span class="pre">noise</span></code> driver. After the properties list there are
a few examples of how to use it.</p>
<p>Basic Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">resolution:</th><td class="field-body">The linear distance (usually meters) over which to generate one cycle of
noise data.</td>
</tr>
<tr class="field-even field"><th class="field-name">scale:</th><td class="field-body">The amount of offset to apply to noise values within a cycle. The default is
1.0, which means you will get noise data between [-1…1].</td>
</tr>
<tr class="field-odd field"><th class="field-name">octaves:</th><td class="field-body">Number of times to refine the noise data by adding levels of detail,
i.e. how deep the noise generator will recurse within the resolution span.
A higher number will create more detail as you zoom in closer. Default is 4.</td>
</tr>
<tr class="field-even field"><th class="field-name">offset:</th><td class="field-body">For heightfields, set this to true to generate offset values instead of absolute
elevation heights. They will be added to the heights from another absolute
elevation layer.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Advanced Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">frequency:</th><td class="field-body">The reciprocal of the <em>resolution</em> above. (Since osgEarth is a mapping SDK,
it is usually more intuitive to specify the resolution and leave this empty.)</td>
</tr>
<tr class="field-even field"><th class="field-name">persistence:</th><td class="field-body">Rate at which the <em>scale</em> decreases as the noise function traverses each
higher octave. Scale(octave N+1) = Scale(octave N) * Persistence.</td>
</tr>
<tr class="field-odd field"><th class="field-name">lacunarity:</th><td class="field-body">Rate at which the <em>frequency</em> increases as the noise function traverses each
higher octave of detail. Freq(octave N+1) = Freq(octave N) * Lacunarity.</td>
</tr>
<tr class="field-even field"><th class="field-name">seed:</th><td class="field-body">Seeds the random number generator. The noise driver is “coherent”, meaning that
(among other things) it generates the same values given the same random
seed. Alter this to alter the pattern.</td>
</tr>
<tr class="field-odd field"><th class="field-name">min_elevation:</th><td class="field-body">The minimum elevation value to generate when creating height fields. This clamps
height data to create a “floor”.</td>
</tr>
<tr class="field-even field"><th class="field-name">max_elevation:</th><td class="field-body">The maximum elevation value to generate when createing height fields. This clamps
height data to create a “ceiling”.</td>
</tr>
<tr class="field-odd field"><th class="field-name">normal_map:</th><td class="field-body">Set this to true (for an image layer) to create a bump map normal texture that you
can use with the <code class="docutils literal notranslate"><span class="pre">NormalMap</span></code> terrain effect.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">noise.earth</span></code>, <code class="docutils literal notranslate"><span class="pre">fractal_detail.earth</span></code>, and <code class="docutils literal notranslate"><span class="pre">normalmap.earth</span></code> samples in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
<div class="section" id="examples">
<h7>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h7>
<p>Create a worldwide procedural elevation layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;elevation driver=&quot;noise&quot;&gt;
    &lt;resolution&gt;3185500&lt;/resolution&gt;   &lt;!-- 1/4 earth&#39;s diameter --&gt;
    &lt;scale&gt;5000&lt;/scale&gt;                &lt;!-- vary heights by +/- 5000m over the resolution --&gt;
    &lt;octaves&gt;12&lt;/octaves&gt;              &lt;!-- detail recursion level --&gt;
&lt;/elevation&gt;
</pre></div>
</div>
<p>Make it a little more interesting by tweaking the recursion properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;elevation driver=&quot;noise&quot;&gt;
    &lt;resolution&gt;3185500&lt;/resolution&gt;   &lt;!-- 1/4 earth&#39;s diameter --&gt;
    &lt;scale&gt;5000&lt;/scale&gt;                &lt;!-- vary heights by +/- 5000m over the resolution --&gt;
    &lt;octaves&gt;12&lt;/octaves&gt;              &lt;!-- detail recursion level --&gt;
    &lt;persistence&gt;0.49&lt;/persistence&gt;    &lt;!-- don&#39;t reduce the scale as quickly = noisier --&gt;
    &lt;lacunarity&gt;3.0&lt;/lacunarity&gt;       &lt;!-- increase the frequency faster = lumpier --&gt;
&lt;/elevation&gt;
</pre></div>
</div>
<p>Look at the noise itself by creating an image layer. Looks like clouds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;image driver=&quot;noise&quot;&gt;
    &lt;resolution&gt;3185500&lt;/resolution&gt;   &lt;!-- 1/4 earth&#39;s diameter --&gt;
    &lt;octaves&gt;12&lt;/octaves&gt;              &lt;!-- detail recursion level --&gt;
&lt;/image&gt;
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">noise</span></code> to create an offset layer to add detail to real elevation data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;!-- Real elevation data --&gt;
&lt;elevation name=&quot;readymap_elevation&quot; driver=&quot;tms&quot; enabled=&quot;true&quot;&gt;
    &lt;url&gt;http://readymap.org/readymap/tiles/1.0.0/9/&lt;/url&gt;
&lt;/elevation&gt;

&lt;elevation driver=&quot;noise&quot; name=&quot;detail&quot;&gt;
    &lt;offset&gt;true&lt;/offset&gt;             &lt;!-- treat this as offset data --&gt;
    &lt;tile_size&gt;31&lt;/tile_size&gt;         &lt;!-- size of the tiles to create --&gt;
    &lt;resolution&gt;250&lt;/resolution&gt;      &lt;!-- not far from the resolution of our real data --&gt;
    &lt;scale&gt;20&lt;/scale&gt;                 &lt;!-- vary heights by 20m over 250m --&gt;
    &lt;octaves&gt;4&lt;/octaves&gt;              &lt;!-- add some additional detail --&gt;
&lt;/elevation&gt;
</pre></div>
</div>
<p>Instead of creating offset elevation data, we can fake it with a <em>normal map</em>. A normal map
is an invisible texture that simulates the normal vectors you’d get if you used real
elevation data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;image name=&quot;normalmap&quot; driver=&quot;noise&quot;&gt;
    &lt;shared&gt;true&lt;/shared&gt;             &lt;!-- share this layer so our effect can find it --&gt;
    &lt;visible&gt;false&lt;/visible&gt;          &lt;!-- we don&#39;t want to see the actual texture --&gt;
    &lt;normal_map&gt;true&lt;/normal_map&gt;     &lt;!-- create a normal map please --&gt;
    &lt;tile_size&gt;128&lt;/tile_size&gt;        &lt;!-- 128x128 texture --&gt;
    &lt;resolution&gt;250&lt;/resolution&gt;      &lt;!-- resolution of the noise function --&gt;
    &lt;scale&gt;20&lt;/scale&gt;                 &lt;!-- maximum height offset --&gt;
    &lt;octaves&gt;4&lt;/octaves&gt;              &lt;!-- level of detail --&gt;
&lt;/image&gt;

...
&lt;external&gt;
   &lt;normal_map layer=&quot;normalmap&quot;/&gt;    &lt;!-- Install the terrain effect so we can see it --&gt;
   &lt;sky hours=&quot;17&quot;/&gt;                  &lt;!-- Must have lighting as well --&gt;
&lt;/external&gt;
</pre></div>
</div>
</div>
</div>
<span id="document-references/drivers/tile/osg"></span><div class="section" id="osg-openscenegraph-loader">
<h6>OSG (OpenSceneGraph Loader)<a class="headerlink" href="#osg-openscenegraph-loader" title="Permalink to this headline">¶</a></h6>
<p>This loader will use one of OpenSceneGraph’s image plugins to load an image,
and then return tiles based on that image. Since the image will not have its
own SRS information, you are required to specify the geospatial profile.</p>
<p>It is rare that you will need this plugin; the GDAL driver will handle most
file types.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;osg&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">images</span><span class="o">/</span><span class="n">world</span><span class="o">.</span><span class="n">png</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span><span class="k">global</span><span class="o">-</span><span class="n">geodetic</span><span class="o">&lt;/</span><span class="n">profile</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the file to load.</td>
</tr>
<tr class="field-even field"><th class="field-name">profile:</th><td class="field-body">Geospatial profile for the image. See <a href="#id1"><span class="problematic" id="id2">Profiles_</span></a>.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/quadkey"></span><div class="section" id="quadkey">
<h6>QuadKey<a class="headerlink" href="#quadkey" title="Permalink to this headline">¶</a></h6>
<p>The QuadKey plugin is useful for reading web map tile repositories
that follow the <a class="reference external" href="http://msdn.microsoft.com/en-us/library/bb259689.aspx">Bing</a> maps tile system.  It is assumed that the
dataset is in spherical-mercator with 2x2 tiles at the root just like Bing.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;imagery&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;quadkey&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="p">[</span><span class="mi">1234</span><span class="p">]</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="p">{</span><span class="n">key</span><span class="p">}</span><span class="o">.</span><span class="n">png</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Creating the URL template:</p>
<blockquote>
<div><p>The square brackets [] indicate that osgEarth should “cycle through” the characters
within, resulting in round-robin server requests. Some services require this.</p>
<p>You will need to provide {key} template within the URL where osgEarth will
insert the quadkey for the tile it’s requesting.</p>
</div></blockquote>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the tile repository (URL template – see above)</td>
</tr>
<tr class="field-even field"><th class="field-name">profile:</th><td class="field-body">Spatial profile of the repository</td>
</tr>
<tr class="field-odd field"><th class="field-name">format:</th><td class="field-body">If the format is not part of the URL itself, you can specify it here.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/tilecache"></span><div class="section" id="tilecache">
<h6>TileCache<a class="headerlink" href="#tilecache" title="Permalink to this headline">¶</a></h6>
<p><a class="reference external" href="http://tilecache.org/">TileCache</a> (MetaCarta Labs) is a web map tile caching system with its own
layout for encoding tile hierarchies. This plugin will read tiles from that
file layout.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;tilecache&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="n">root</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">layer</span><span class="o">&gt;</span><span class="n">landuse</span><span class="o">&lt;/</span><span class="n">layer</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">jpg</span><span class="o">&lt;/</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Root URL (or pathname) of the tilecache repository</td>
</tr>
<tr class="field-even field"><th class="field-name">layer:</th><td class="field-body">Which TileCache layer to access</td>
</tr>
<tr class="field-odd field"><th class="field-name">format:</th><td class="field-body">Format of the individual tiles (e.g., jpg, png)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/tileservice"></span><div class="section" id="worldwind-tileservice">
<h6>WorldWind TileService<a class="headerlink" href="#worldwind-tileservice" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads tiles stored in the NASA WorldWind <a class="reference external" href="http://www.worldwindcentral.com/wiki/TileService">TileService</a> layout.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;tileservice&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server</span><span class="o">/</span><span class="n">tileservice</span><span class="o">/</span><span class="n">tiles</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dataset</span><span class="o">&gt;</span><span class="n">weather</span><span class="o">&lt;/</span><span class="n">dataset</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">png</span><span class="o">&lt;/</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Root URL (or pathname) of the TileService repository</td>
</tr>
<tr class="field-even field"><th class="field-name">dataset:</th><td class="field-body">Which WW dataset (layer) to access</td>
</tr>
<tr class="field-odd field"><th class="field-name">format:</th><td class="field-body">Format of the individual tiles (e.g., jpg, png)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/tms"></span><div class="section" id="tms-tile-map-service">
<h6>TMS (Tile Map Service)<a class="headerlink" href="#tms-tile-map-service" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads data stored according to the widely-used
OSGeo <a class="reference external" href="http://wiki.osgeo.org/wiki/Tile_Map_Service_Specification">Tile Map Service</a> specification.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;tms&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">readymap</span><span class="o">.</span><span class="n">org</span><span class="p">:</span><span class="mi">8080</span><span class="o">/</span><span class="n">readymap</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="mi">79</span><span class="o">/&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Root URL (or pathname) of the TMS repository</td>
</tr>
<tr class="field-even field"><th class="field-name">tms_type:</th><td class="field-body">Set to <code class="docutils literal notranslate"><span class="pre">google</span></code> to invert the Y axis of the tile index</td>
</tr>
<tr class="field-odd field"><th class="field-name">format:</th><td class="field-body">Override the format reported by the service (e.g., jpg, png)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/vpb"></span><div class="section" id="vpb-virtualplanerbuilder">
<h6>VPB (VirtualPlanerBuilder)<a class="headerlink" href="#vpb-virtualplanerbuilder" title="Permalink to this headline">¶</a></h6>
<p><a class="reference external" href="http://www.openscenegraph.com/index.php/documentation/tools/virtual-planet-builder">VirtualPlanerBuilder</a> (VPB) is an OSG application for generating paged terrain models.
This plugin will attempt to “scrape” the image and elevation grid tiles from a VPB model
and provide that data to the osgEarth engine for rendering.</p>
<blockquote>
<div><strong>Note</strong>: We only provide this driver as a stopgap solution for those who have legacy
VPB models but no longer have access to the source data. Configuring this driver can be
tricky since the VPB model format does not convey all the parameters that were used
when the model was built!</div></blockquote>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;vpb&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">openscenegraph</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">earth_bayarea</span><span class="o">/</span><span class="n">earth</span><span class="o">.</span><span class="n">ive</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span><span class="k">global</span><span class="o">-</span><span class="n">geodetic</span><span class="o">&lt;/</span><span class="n">profile</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">primary_split_level</span><span class="o">&gt;</span><span class="mi">5</span><span class="o">&lt;/</span><span class="n">primary_split_level</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">secondary_split_level</span><span class="o">&gt;</span><span class="mi">11</span><span class="o">&lt;/</span><span class="n">secondary_split_level</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">directory_structure</span><span class="o">&gt;</span><span class="n">nested</span><span class="o">&lt;/</span><span class="n">directory_structure</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Root file of the VPB model</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">primary_split_level:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">As set when VPB was run; see the VPB docs</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">secondary_split_level:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">As set when VPB was run; see the VPB docs</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">directory_structure:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Default is <code class="docutils literal notranslate"><span class="pre">nested</span></code>; options are <code class="docutils literal notranslate"><span class="pre">nested</span></code>, <code class="docutils literal notranslate"><span class="pre">flat</span></code> and <code class="docutils literal notranslate"><span class="pre">task</span></code></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/wcs"></span><div class="section" id="wcs-ogc-web-coverage-service">
<h6>WCS (OGC Web Coverage Service)<a class="headerlink" href="#wcs-ogc-web-coverage-service" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads raster coverage data in a limited fashion based on the
OGC <a class="reference external" href="http://en.wikipedia.org/wiki/Web_Coverage_Service">Web Coverage Service</a> specification. In osgEarth it is only really useful
for fetching elevation grid data tiles. We support a subset of WCS 1.1.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">elevation</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;wcs&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span><span class="n">elevation</span><span class="o">&lt;/</span><span class="n">identifier</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">image</span><span class="o">/</span><span class="n">GeoTIFF</span><span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">elevation</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the WCS resource</td>
</tr>
<tr class="field-even field"><th class="field-name">identifier:</th><td class="field-body">WCS identifier (i.e., layer to read)</td>
</tr>
<tr class="field-odd field"><th class="field-name">format:</th><td class="field-body">Format of the data to return (usually <code class="docutils literal notranslate"><span class="pre">tif</span></code>)</td>
</tr>
<tr class="field-even field"><th class="field-name">elevation_unit:</th><td class="field-body">Unit to use when interpreting elevation grid height values (defaults to <code class="docutils literal notranslate"><span class="pre">m</span></code>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">range_subset:</th><td class="field-body">WCS range subset string (see the WCS docs)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/tile/wms"></span><div class="section" id="wms-ogc-web-map-service">
<h6>WMS (OGC Web Map Service)<a class="headerlink" href="#wms-ogc-web-map-service" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads image data from an OGC <a class="reference external" href="http://en.wikipedia.org/wiki/Web_Map_Service">Web Map Service</a> resource.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Landsat&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;wms&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">onearth</span><span class="o">.</span><span class="n">jpl</span><span class="o">.</span><span class="n">nasa</span><span class="o">.</span><span class="n">gov</span><span class="o">/</span><span class="n">wms</span><span class="o">.</span><span class="n">cgi</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">srs</span><span class="o">&gt;</span><span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span><span class="o">&lt;/</span><span class="n">srs</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">tile_size</span><span class="o">&gt;</span><span class="mi">512</span><span class="o">&lt;/</span><span class="n">tile_size</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">layers</span><span class="o">&gt;</span><span class="n">global_mosaic</span><span class="o">&lt;/</span><span class="n">layers</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span><span class="n">visual</span><span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">jpeg</span><span class="o">&lt;/</span><span class="nb">format</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the WMS resource</td>
</tr>
<tr class="field-even field"><th class="field-name">srs:</th><td class="field-body">Spatial reference in which to return tiles</td>
</tr>
<tr class="field-odd field"><th class="field-name">tile_size:</th><td class="field-body">Override the default tile size (default = 256)</td>
</tr>
<tr class="field-even field"><th class="field-name">layers:</th><td class="field-body">WMS layer list to composite and return</td>
</tr>
<tr class="field-odd field"><th class="field-name">styles:</th><td class="field-body">WMS styles to render</td>
</tr>
<tr class="field-even field"><th class="field-name">format:</th><td class="field-body">Image format to return</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Notes:</p>
<blockquote>
<div><ul class="simple">
<li>This plugin will recognize the JPL WMS-C implementation and use it if detected.</li>
</ul>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">wms_jpl_landsat.earth</span></code> sample in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder</div></blockquote>
</div>
<span id="document-references/drivers/tile/xyz"></span><div class="section" id="xyz">
<h6>XYZ<a class="headerlink" href="#xyz" title="Permalink to this headline">¶</a></h6>
<p>The XYZ plugin is useful for reading web map tile repositories with a
standard X/Y/LOD setup but that don’t explicitly report any metadata.
Many of the popular web mapping services (like <a class="reference external" href="http://developer.mapquest.com/web/products/open/map">MapQuest</a>) fall into
this category. You need to provide osgEarth with a <code class="docutils literal notranslate"><span class="pre">profile</span></code> when
using this driver.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;mapquest_open_aerial&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;xyz&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">oatile</span><span class="p">[</span><span class="mi">1234</span><span class="p">]</span><span class="o">.</span><span class="n">mqcdn</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">sat</span><span class="o">/</span><span class="p">{</span><span class="n">z</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="n">x</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="n">y</span><span class="p">}</span><span class="o">.</span><span class="n">jpg</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span><span class="n">spherical</span><span class="o">-</span><span class="n">mercator</span><span class="o">&lt;/</span><span class="n">profile</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Creating the URL template:</p>
<blockquote>
<div><p>The square brackets [] indicate that osgEarth should “cycle through” the characters
within, resulting in round-robin server requests. Some services require this.</p>
<p>The curly braces {} are templates into which osgEarth will insert the proper
<code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">z</span></code> values for the tile it’s requesting.</p>
</div></blockquote>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the tile repository (URL template – see above)</td>
</tr>
<tr class="field-even field"><th class="field-name">profile:</th><td class="field-body">Spatial profile of the repository</td>
</tr>
<tr class="field-odd field"><th class="field-name">invert_y:</th><td class="field-body">Set to true to invert the Y axis for tile indexing</td>
</tr>
<tr class="field-even field"><th class="field-name">format:</th><td class="field-body">If the format is not part of the URL itself, you can specify it here.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">mapquest_open_aerial.earth</span></code> and <code class="docutils literal notranslate"><span class="pre">openstreetmap.earth</span></code> samples
in the repo <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</div></blockquote>
</div>
</div>
</div>
<span id="document-references/drivers/model/index"></span><div class="section" id="model-source-drivers">
<h5>Model Source Drivers<a class="headerlink" href="#model-source-drivers" title="Permalink to this headline">¶</a></h5>
<p>A <em>ModelSource Driver</em> is a driver that produces an OpenSceneGraph node.
osgEarth uses ModelSources to display vector feature data and to
load and display external 3D models.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/model/feature_geom"></span><div class="section" id="feature-geometry">
<h6>Feature Geometry<a class="headerlink" href="#feature-geometry" title="Permalink to this headline">¶</a></h6>
<p>This plugin renders vector feature data into OSG geometry using style sheets.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature_geom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">world</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">styles</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">style</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
            <span class="n">default</span> <span class="p">{</span>
                <span class="n">stroke</span><span class="p">:</span>       <span class="c1">#ffff00;</span>
                <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">styles</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">fading</span> <span class="n">duration</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">geo_interpolation:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">How to interpolate geographic lines; options are <code class="docutils literal notranslate"><span class="pre">great_circle</span></code> or <code class="docutils literal notranslate"><span class="pre">rhumb_line</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">instancing:</th><td class="field-body">For point model substitution, whether to use GL draw-instanced (default is <code class="docutils literal notranslate"><span class="pre">false</span></code>)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Shared properties:</p>
<p>All the feature-rendering drivers share the following properties (in addition
to those above):</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">styles:</th><td class="field-body">Stylesheet to use to render features (see: <a class="reference internal" href="index.html#document-references/symbology"><span class="doc">Symbology Reference</span></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">layout:</th><td class="field-body">Paged data layout (see: <a class="reference internal" href="index.html#document-user/features"><span class="doc">Features &amp; Symbology</span></a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">cache_policy:</th><td class="field-body">Caching policy (see: <a class="reference internal" href="index.html#document-user/caching"><span class="doc">Caching</span></a>)</td>
</tr>
<tr class="field-even field"><th class="field-name">fading:</th><td class="field-body">Fading behavior (see: <a class="reference internal" href="#fading">Fading</a>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">feature_name:</th><td class="field-body">Expression evaluating to the attribute name containing the feature name</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">feature_indexing:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Whether to index features for query (default is <code class="docutils literal notranslate"><span class="pre">false</span></code>)</td>
</tr>
<tr class="field-odd field"><th class="field-name">lighting:</th><td class="field-body">Whether to override and set the lighting mode on this layer (t/f)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">max_granularity:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Angular threshold at which to subdivide lines on a globe (degrees)</td>
</tr>
<tr class="field-odd field"><th class="field-name">shader_policy:</th><td class="field-body">Options for shader generation (see: <a class="reference internal" href="#shader-policy">Shader Policy</a>)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">use_texture_arrays:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Whether to use texture arrays for wall and roof skins if your card supports them.  (default is <code class="docutils literal notranslate"><span class="pre">true</span></code>)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">feature_rasterize.earth</span></code> sample in the repo</div></blockquote>
<hr class="docutils" />
<div class="section" id="fading">
<h7>Fading<a class="headerlink" href="#fading" title="Permalink to this headline">¶</a></h7>
<p>When fading is supported on a model layer, you can control it like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="o">...</span>
    <span class="o">&lt;</span><span class="n">fading</span> <span class="n">duration</span>  <span class="o">=</span> <span class="s2">&quot;1.0&quot;</span>
            <span class="n">max_range</span> <span class="o">=</span> <span class="s2">&quot;6000&quot;</span>
            <span class="n">attenuation_distance</span> <span class="o">=</span> <span class="s2">&quot;1000&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">duration:</th><td class="field-body">Time over which to fade in (seconds)</td>
</tr>
<tr class="field-even field"><th class="field-name">max_range:</th><td class="field-body">Distance at which to start the fade-in</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">attenuation_distance:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Distance over which to fade in</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="shader-policy">
<h7>Shader Policy<a class="headerlink" href="#shader-policy" title="Permalink to this headline">¶</a></h7>
<p>Some drivers support a <em>shader policy</em> that lets you control how (or whether)
to generate shaders for external geometry. For example, if you want to load
an external model via a stylesheet, but do NOT want osgEarth to generate
shaders for it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="o">...</span>
    <span class="o">&lt;</span><span class="n">shader_policy</span><span class="o">&gt;</span><span class="n">disable</span><span class="o">&lt;/</span><span class="n">shader_policy</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<span id="document-references/drivers/model/simple"></span><div class="section" id="simple-model">
<h6>Simple Model<a class="headerlink" href="#simple-model" title="Permalink to this headline">¶</a></h6>
<p>This plugin simply loads an external 3D model and optionally places it at
map coordinates.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">name</span> <span class="o">=</span><span class="s2">&quot;model&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;simple&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;../</span><span class="n">data</span><span class="o">/</span><span class="n">red_flag</span><span class="o">.</span><span class="n">osg</span><span class="o">.</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mf">100.</span><span class="n">scale</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">location</span><span class="o">&gt;-</span><span class="mf">74.018</span> <span class="mf">40.717</span> <span class="mi">10</span><span class="o">&lt;/</span><span class="n">location</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">External model to load</td>
</tr>
<tr class="field-even field"><th class="field-name">location:</th><td class="field-body">Map coordinates at which to place the model. SRS is that of
the containing map.</td>
</tr>
<tr class="field-odd field"><th class="field-name">paged:</th><td class="field-body">If true, the model will be paged in when the camera is within the max range of the location.  If false the model is loaded immediately.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Also see:</p>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">simple_model.earth</span></code> sample in the repo</div></blockquote>
</div>
</div>
</div>
<span id="document-references/drivers/feature/index"></span><div class="section" id="feature-drivers">
<h5>Feature Drivers<a class="headerlink" href="#feature-drivers" title="Permalink to this headline">¶</a></h5>
<p>A <em>Feature Driver</em> is a plugin that reads attributed vector data, also
known as <em>feature data</em>.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/feature/ogr"></span><div class="section" id="ogr">
<h6>OGR<a class="headerlink" href="#ogr" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads vector data from any of the formats supported by the
<a class="reference external" href="http://www.gdal.org/ogr">OGR Simple Feature Library</a> (which is quite a lot). Most common among
these includes ESRI Shapefiles, GML, and PostGIS.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature_geom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">data</span><span class="o">/</span><span class="n">world_boundaries</span><span class="o">.</span><span class="n">shp</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location from which to load feature data</td>
</tr>
<tr class="field-even field"><th class="field-name">connection:</th><td class="field-body">If the feature data is in a database, use this to specify the
DB connection string instead of using the <code class="docutils literal notranslate"><span class="pre">url</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">geometry:</th><td class="field-body">Specify <em>inline</em> geometry in <a href="#id3"><span class="problematic" id="id4">`OGC WKT format`_</span></a> instead of using
<code class="docutils literal notranslate"><span class="pre">url</span></code> or <code class="docutils literal notranslate"><span class="pre">connection</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name">geometry_url:</th><td class="field-body">Same as <code class="docutils literal notranslate"><span class="pre">geometry</span></code> except that the WKT string is in a file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">ogr_driver:</th><td class="field-body"><a href="#id1"><span class="problematic" id="id2">``</span></a>OGR driver``_ to use. (default = “ESRI Shapefile”)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">build_spatial_index:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to build a spatial index for the feature data,
which will dramatically speed up access for larger datasets.</td>
</tr>
<tr class="field-odd field"><th class="field-name">layer:</th><td class="field-body">Some datasets require an addition layer identifier for sub-datasets;
Set that here (integer).</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><em>Special Note on PostGIS usage:</em></p>
<p>PostGIS uses a <code class="docutils literal notranslate"><span class="pre">connection</span></code> string instead of a <code class="docutils literal notranslate"><span class="pre">url</span></code> to make its database connection.
It is common to include a tables reference such as <code class="docutils literal notranslate"><span class="pre">table=something</span></code>. In this driver,
however, that can lead to problems; instead specify your table in the <code class="docutils literal notranslate"><span class="pre">layer</span></code> property.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;ogr&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">connection</span><span class="o">&gt;</span><span class="n">PG</span><span class="p">:</span><span class="n">dbname</span><span class="o">=</span><span class="n">mydb</span> <span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="o">...&lt;/</span><span class="n">connection</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">layer</span><span class="o">&gt;</span><span class="n">myTableName</span><span class="o">&lt;/</span><span class="n">layer</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<span id="document-references/drivers/feature/tfs"></span><div class="section" id="tfs-tiled-feature-service">
<h6>TFS (Tiled Feature Service)<a class="headerlink" href="#tfs-tiled-feature-service" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads vector data from a <em>Tiled Feature Service</em> repository.
TFS is a tiled layout similar to <a class="reference internal" href="index.html#document-references/drivers/tile/tms"><span class="doc">TMS (Tile Map Service)</span></a> but
for cropped feature data.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature_geom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;tfs&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">readymap</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">tfs</span><span class="o">/&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span><span class="n">json</span><span class="o">&lt;/</span><span class="nb">format</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location from which to load feature data</td>
</tr>
<tr class="field-even field"><th class="field-name">format:</th><td class="field-body">Format of the TFS data; options are <code class="docutils literal notranslate"><span class="pre">json</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">gml</span></code>.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/feature/wfs"></span><div class="section" id="wfs-ogc-web-feature-service">
<h6>WFS (OGC Web Feature Service)<a class="headerlink" href="#wfs-ogc-web-feature-service" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads vector data from an OGC <a class="reference external" href="http://en.wikipedia.org/wiki/Web_Feature_Service">Web Feature Service</a> resource.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature_geom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;states&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;wfs&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">demo</span><span class="o">.</span><span class="n">opengeo</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">geoserver</span><span class="o">/</span><span class="n">wfs</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">typename</span><span class="o">&gt;</span><span class="n">states</span><span class="o">&lt;/</span><span class="n">typename</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">outputformat</span><span class="o">&gt;</span><span class="n">json</span><span class="o">&lt;/</span><span class="n">outputformat</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location from which to load feature data</td>
</tr>
<tr class="field-even field"><th class="field-name">typename:</th><td class="field-body">WFS type name to access (i.e., the layer)</td>
</tr>
<tr class="field-odd field"><th class="field-name">outputformat:</th><td class="field-body">Format to return from the service; <code class="docutils literal notranslate"><span class="pre">json</span></code> or <code class="docutils literal notranslate"><span class="pre">gml</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">maxfeatures:</th><td class="field-body">Maximum number of features to return for a query</td>
</tr>
<tr class="field-odd field"><th class="field-name">request_buffer:</th><td class="field-body">The number of map units to buffer bounding box requests with to ensure that enough data is returned.
This is useful when rendering buffered lines using the AGGLite driver.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/feature/mapnikvectortiles"></span><div class="section" id="mapnik-vector-tiles">
<h6>Mapnik Vector Tiles<a class="headerlink" href="#mapnik-vector-tiles" title="Permalink to this headline">¶</a></h6>
<p>This plugin reads vector data from an <a class="reference external" href="https://www.mapbox.com/developers/mbtiles/">MBTiles</a> file which contains <a href="#id1"><span class="problematic" id="id2">`vector tiles&lt;https://github.com/mapbox/vector-tile-spec&gt;`_</span></a>.</p>
<p>Note:  This driver does not currently support multi-level mbtiles files.  It will only load the maximum level in the database.  This will change in the future when
osgEarth has better support for non-additive feature datasources.</p>
<p>This driver requires that you build osgEarth with SQLite3 support and Protobuf support.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">model</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;feature_geom&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">features</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;osm&quot;</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;mapnikvectortiles&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">url</span><span class="o">&gt;../</span><span class="n">data</span><span class="o">/</span><span class="n">osm</span><span class="o">.</span><span class="n">mbtiles</span><span class="o">&lt;/</span><span class="n">url</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">features</span><span class="o">&gt;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">url:</th><td class="field-body">Location of the mbtiles file.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
<span id="document-references/drivers/terrain/index"></span><div class="section" id="terrain-engine-drivers">
<h5>Terrain Engine Drivers<a class="headerlink" href="#terrain-engine-drivers" title="Permalink to this headline">¶</a></h5>
<p>A <em>Terrain Engine Driver</em> is a plugin that renders the osgEarth terrain.
In most cases, you should use the default - but legacy terrain engine plugins
are available to temporarily support uses that still need to transition to
the newest version of osgEarth.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/terrain/mp"></span><div class="section" id="mp">
<h6>MP<a class="headerlink" href="#mp" title="Permalink to this headline">¶</a></h6>
<p>The default terrain engine for osgEarth renders an unlimited number of
image layers using a tile-level multipass blending technique.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">terrain</span> <span class="n">driver</span>                   <span class="o">=</span> <span class="s2">&quot;mp&quot;</span>
                 <span class="n">skirt_ratio</span>              <span class="o">=</span> <span class="s2">&quot;0.05&quot;</span>
                 <span class="n">color</span>                    <span class="o">=</span> <span class="s2">&quot;#ffffffff&quot;</span>
                 <span class="n">normalize_edges</span>          <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
                 <span class="n">incremental_update</span>       <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
                 <span class="n">quick_release_gl_objects</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
                 <span class="n">min_tile_range_factor</span>    <span class="o">=</span> <span class="s2">&quot;7.0&quot;</span>
                 <span class="n">cluster_culling</span>          <span class="o">=</span> <span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">skirt_ratio:</th><td class="field-body">The “skirt” is a piece of vertical geometry that hides
gaps between adjacent tiles with different levels of
detail. This property sets the ratio of skirt height to
the width of the tile.</td>
</tr>
<tr class="field-even field"><th class="field-name">color:</th><td class="field-body">Color of the underlying terrain (without imagery) in
HTML format. Default = “#ffffffff” (opaque white). You
can adjust the alpha to get transparency.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">normalize_edges:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Post-process the normal vectors on tile boundaries to
smooth them across tiles, making the tile boundaries
less visible when not using imagery.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">incremental_update:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">When enabled, only visible tiles update when the map
model changes (i.e., when layers are added or removed).
Non-visible terrain tiles (like those at lower LODs)
don’t update until they come into view.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">quick_release_gl_objects:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">When true, installs a module that releases GL resources
immediately when a tile pages out. This can prevent
memory run-up when traversing a paged terrain at high
speed. Disabling quick-release may help achieve a more
consistent frame rate.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Common Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">min_tile_range_factor:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The “maximum visible distance” ratio for all tiles. The
maximum visible distance is computed as tile radius *
this value. (default = 7.0)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">cluster_culling:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Cluster culling discards back-facing tiles by default. You
can disable it be setting this to <code class="docutils literal notranslate"><span class="pre">false</span></code>, for example if
you want to go underground and look up at the surface.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
<span id="document-references/drivers/effects/index"></span><div class="section" id="effects-drivers">
<h5>Effects Drivers<a class="headerlink" href="#effects-drivers" title="Permalink to this headline">¶</a></h5>
<p>Plugins that implement special effects.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/effects/glsky"></span><div class="section" id="gl-sky">
<h6>GL Sky<a class="headerlink" href="#gl-sky" title="Permalink to this headline">¶</a></h6>
<p>Sky model that implements OpenGL Phong shading.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">sky</span> <span class="n">driver</span>  <span class="o">=</span> <span class="s2">&quot;gl&quot;</span>
                         <span class="n">hours</span>   <span class="o">=</span> <span class="s2">&quot;0.0&quot;</span>
             <span class="n">ambient</span> <span class="o">=</span> <span class="s2">&quot;0.05&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Common Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">hours:</th><td class="field-body">Time of day; UTC hours [0..24]</td>
</tr>
<tr class="field-even field"><th class="field-name">ambient:</th><td class="field-body">Minimum ambient lighting level [0..1] to apply to dark areas of the terrain</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/effects/simplesky"></span><div class="section" id="simple-sky">
<h6>Simple Sky<a class="headerlink" href="#simple-sky" title="Permalink to this headline">¶</a></h6>
<p>Sky model that implements atmospheric scattering and lighting according to the
Sam O’Neil GPU Gems article.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">sky</span> <span class="n">driver</span>               <span class="o">=</span> <span class="s2">&quot;simple&quot;</span>
                         <span class="n">hours</span>                <span class="o">=</span> <span class="s2">&quot;0.0&quot;</span>
             <span class="n">ambient</span>              <span class="o">=</span> <span class="s2">&quot;0.05&quot;</span>
                             <span class="n">atmospheric_lighting</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span>
                             <span class="n">exposure</span>             <span class="o">=</span> <span class="s2">&quot;3.0&quot;</span>  <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">atmospheric_lighting:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><p class="first">Whether to apply the atmospheric scattering model to the scene
under the Sky node. If you set this to false, you will get</p>
<blockquote>
<div><p>basic Phong lighting instead.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">exposure:</th><td class="field-body"><p class="first last">Exposure level to apply to the scattering model, which simulates
the wash-out effect of viewing terrain through the atmosphere.</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Common Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">hours:</th><td class="field-body">Time of day; UTC hours [0..24]</td>
</tr>
<tr class="field-even field"><th class="field-name">ambient:</th><td class="field-body">Minimum ambient lighting level [0..1] to apply to dark areas of the terrain</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/effects/silverlining"></span><div class="section" id="silverlining-sky">
<h6>SilverLining Sky<a class="headerlink" href="#silverlining-sky" title="Permalink to this headline">¶</a></h6>
<p>Sky model that uses the SilverLining SDK from SunDog Software.</p>
<p>SilverLining SDK requires a valid license code. Without a username and
license code, the SDK will run in “demo mode” and will display a dialog box
every five minutes.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">sky</span> <span class="n">driver</span> <span class="o">=</span> <span class="s2">&quot;silverlining&quot;</span>
             <span class="n">hours</span>               <span class="o">=</span> <span class="s2">&quot;0.0&quot;</span>
             <span class="n">ambient</span>             <span class="o">=</span> <span class="s2">&quot;0.05&quot;</span>
             <span class="n">user</span>                <span class="o">=</span> <span class="s2">&quot;myname&quot;</span>
             <span class="n">license_code</span>        <span class="o">=</span> <span class="s2">&quot;mycode&quot;</span>
             <span class="n">clouds</span>              <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
             <span class="n">clouds_max_altitude</span> <span class="o">=</span> <span class="s2">&quot;0.0 /&gt;</span>
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">user:</th><td class="field-body">User name the SilverLining SDK license</td>
</tr>
<tr class="field-even field"><th class="field-name">license_code:</th><td class="field-body">License code the SilverLining SDK</td>
</tr>
<tr class="field-odd field"><th class="field-name">clouds:</th><td class="field-body">Whether to render a local clouds layer</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">clouds_max_altitude:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Maximumum camera altitude at which to start rendering
the clouds layer</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Common Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">hours:</th><td class="field-body">Time of day; UTC hours [0..24]</td>
</tr>
<tr class="field-even field"><th class="field-name">ambient:</th><td class="field-body">Minimum ambient lighting level [0..1] to apply to dark areas of the terrain</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
<span id="document-references/drivers/cache/index"></span><div class="section" id="cache-drivers">
<h5>Cache Drivers<a class="headerlink" href="#cache-drivers" title="Permalink to this headline">¶</a></h5>
<p>A <em>Cache Driver</em> is a plugin that provides terrain tile and feature
data caching to the local disk.</p>
<div class="toctree-wrapper compound">
<span id="document-references/drivers/cache/filesystem"></span><div class="section" id="filesystem-cache">
<h6>FileSystem Cache<a class="headerlink" href="#filesystem-cache" title="Permalink to this headline">¶</a></h6>
<p>This plugin caches terrain tiles, feature vectors, and other data
to the local file system in a hierarchy of folders. Each cached
data element is in a separate file, and may include an associated
metadata file.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">cache</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;filesystem&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="n">c</span><span class="p">:</span><span class="o">/</span><span class="n">osgearth_cache</span><span class="o">&lt;/</span><span class="n">path</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">cache</span><span class="o">&gt;</span>
                    <span class="o">...</span>
</pre></div>
</div>
<p>Notes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The ``filesystem`` cache stores each class of data in its own ``bin``.
    Each ``bin`` has a separate directory under the root path. osgEarth
    controls the naming of these bins, but you can use the ``cache_id``
    property on map layers to customize the naming to some extent.

    This cache supports expiration, but does NOT support size limits --
    there is no way to cap the size of the cache.

    Cache access is serialized since we are reading and writing
    individual files on disk.

    Accessing the cache from more than one process at a time may cause
    corruption.

    The actual format of cached data files is &quot;black box&quot; and may change
    without notice. We do not intend for cached files to be used directly
    or for other purposes.
</pre></div>
</div>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">path:</th><td class="field-body">Location of the root directory in which to store all cache
bins and files.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<span id="document-references/drivers/cache/leveldb"></span><div class="section" id="leveldb-cache">
<h6>LevelDB Cache<a class="headerlink" href="#leveldb-cache" title="Permalink to this headline">¶</a></h6>
<p>This plugin caches terrain tiles, feature vectors, and other data
to the local file system using the Google <a class="reference external" href="https://github.com/pelicanmapping/leveldb">leveldb</a> embedded key/value
store library.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">cache</span> <span class="n">driver</span>      <span class="o">=</span> <span class="s2">&quot;leveldb&quot;</span>
               <span class="n">path</span>        <span class="o">=</span> <span class="s2">&quot;c:/osgearth_cache&quot;</span>
               <span class="n">max_size_mb</span> <span class="o">=</span> <span class="s2">&quot;500&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">cache</span><span class="o">&gt;</span>
                    <span class="o">...</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">leveldb</span></code> cache stores each class of data in its own <em>bin</em>.
All bins are stored in the same directory, in the same database.
We do this so we can impose a size limit on the entire database. Each
record is timestamped; when the cache reaches the maximum size, it
starts removing the oldest records first to make room.</p>
<p>Cache access is asynchronous and multi-threaded, but you may only
access a cache from one process at a time.</p>
<p>The actual format of cached data files is “black box” and may change
without notice. We do not intend for cached files to be used directly
or for other purposes.</p>
<p>Properties:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">path:</th><td class="field-body">Location of the root directory in which to store all cache
bins and data.</td>
</tr>
<tr class="field-even field"><th class="field-name">max_size_mb:</th><td class="field-body">Maximum size of the cache in megabytes. The size is taken
as a goal; there is no guarantee that the size of the cache
will always be less than this value, but the driver will do
its best to comply.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
</div>
</div>
<span id="document-references/symbology"></span><div class="section" id="symbology-reference">
<h4>Symbology Reference<a class="headerlink" href="#symbology-reference" title="Permalink to this headline">¶</a></h4>
<p>osgEarth renders <em>features</em> and <em>annotations</em> using <em>stylesheets</em>.
This document lists all the symbol properties available for use in a
stylesheet. Not every symbol is applicable to every situation; this
is just a master list.</p>
<p>Jump to a symbol:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#geometry">Geometry</a></li>
<li><a class="reference internal" href="#altitude">Altitude</a></li>
<li><a class="reference internal" href="#extrusion">Extrusion</a></li>
<li><a class="reference internal" href="#icon">Icon</a></li>
<li><a class="reference internal" href="#model">Model</a></li>
<li><a class="reference internal" href="#render">Render</a></li>
<li><a class="reference internal" href="#skin">Skin</a></li>
<li><a class="reference internal" href="#text">Text</a></li>
<li><a class="reference internal" href="#coverage">Coverage</a></li>
</ul>
</div></blockquote>
<p><strong>Developer Note</strong>:</p>
<blockquote>
<div><a href="#id1"><span class="problematic" id="id2">*</span></a>In the SDK, symbols are in the <code class="docutils literal notranslate"><span class="pre">osgEarth::Symbology</span></code> namespace, and each
symbol class is in the form <code class="docutils literal notranslate"><span class="pre">AltitudeSymbol</span></code> for example. Properties below
are as they appear in the earth file; in the SDK, properties are available
via accessors in the form <code class="docutils literal notranslate"><span class="pre">LineSymbol::strokeWidth()</span></code> etc.</div></blockquote>
<div class="section" id="value-types">
<h5>Value Types<a class="headerlink" href="#value-types" title="Permalink to this headline">¶</a></h5>
<p>These are the basic value types. In the symbol tables on this page, each
property includes the value type in parentheses following its description.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">float:</th><td class="field-body">Floating-point number</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">float with units:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Floating-point number with unit designator, e.g.
20px (20 pixels) or 10m (10 meters)</td>
</tr>
<tr class="field-odd field"><th class="field-name">HTML_Color:</th><td class="field-body">Color string in hex format, as used in HTML; in the
format #RRGGBB or #RRGGBBAA. (Example: #FFCC007F)</td>
</tr>
<tr class="field-even field"><th class="field-name">integer:</th><td class="field-body">Integral number</td>
</tr>
<tr class="field-odd field"><th class="field-name">numeric_expr:</th><td class="field-body">Expression (simple or JavaScript) resolving to a number</td>
</tr>
<tr class="field-even field"><th class="field-name">string:</th><td class="field-body">Simple text string</td>
</tr>
<tr class="field-odd field"><th class="field-name">boolean:</th><td class="field-body">true or false</td>
</tr>
<tr class="field-even field"><th class="field-name">string_expr:</th><td class="field-body">Expression (simple or JavaScript) resolving to a text string</td>
</tr>
<tr class="field-odd field"><th class="field-name">uri_string:</th><td class="field-body">String denoting a resource location (like a URL or file path).
URIs can be absolute or relative; relative URIs are always
relative to the location of the <em>referrer</em>, i.e. the entity
that requested the resource. (For example, a relative URI within
an earth file will be relative to the location of the earth file
itself.)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="geometry">
<h5>Geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h5>
<p>Basic <em>geometry symbols</em> (SDK: <code class="docutils literal notranslate"><span class="pre">LineSymbol</span></code>, <code class="docutils literal notranslate"><span class="pre">PolygonSymbol</span></code>, <code class="docutils literal notranslate"><span class="pre">PointSymbol</span></code>)
control the color and style of the vector data.</p>
</div>
<div class="section" id="altitude">
<h5>Altitude<a class="headerlink" href="#altitude" title="Permalink to this headline">¶</a></h5>
<p>The <em>altitude symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">AltitudeSymbol</span></code>) controls a feature’s interaction with
the terrain under its location.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>altitude-clamping</td>
<td><dl class="first last docutils">
<dt>Controls terrain following behavior.</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">none:</th><td class="field-body">no clamping</td>
</tr>
<tr class="field-even field"><th class="field-name">terrain:</th><td class="field-body">clamp to terrain and discard Z values</td>
</tr>
<tr class="field-odd field"><th class="field-name">relative:</th><td class="field-body">clamp to terrain and retain Z value</td>
</tr>
<tr class="field-even field"><th class="field-name">absolute:</th><td class="field-body">feature’s Z contains its absolute Z.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>altitude-technique</td>
<td><p class="first">When <code class="docutils literal notranslate"><span class="pre">altitude-clamping</span></code> is set to <code class="docutils literal notranslate"><span class="pre">terrain</span></code>, chooses a
terrain following technique:</p>
<blockquote class="last">
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">map:</th><td class="field-body">clamp geometry to the map’s elevation data tiles</td>
</tr>
<tr class="field-even field"><th class="field-name">drape:</th><td class="field-body">clamp geometry using a projective texture</td>
</tr>
<tr class="field-odd field"><th class="field-name">gpu:</th><td class="field-body">clamp geometry to the terrain on the GPU</td>
</tr>
<tr class="field-even field"><th class="field-name">scene:</th><td class="field-body">re-clamp geometry to new paged tiles (annotations only)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>altitude-binding</td>
<td><p class="first">Granularity at which to sample the terrain when
<code class="docutils literal notranslate"><span class="pre">altitude-technique</span></code> is <code class="docutils literal notranslate"><span class="pre">map</span></code>:</p>
<blockquote class="last">
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">vertex:</th><td class="field-body">clamp every vertex</td>
</tr>
<tr class="field-even field"><th class="field-name">centroid:</th><td class="field-body">only clamp the centroid of each feature</td>
</tr>
</tbody>
</table>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>altitude-resolution</td>
<td>Elevation data resolution at which to sample terrain height when
<code class="docutils literal notranslate"><span class="pre">altitude-technique</span></code> is <code class="docutils literal notranslate"><span class="pre">map</span></code> (float)</td>
</tr>
<tr class="row-even"><td>altitude-offset</td>
<td>Vertical offset to apply to geometry Z</td>
</tr>
<tr class="row-odd"><td>altitude-scale</td>
<td>Scale factor to apply to geometry Z</td>
</tr>
</tbody>
</table>
<p>Tip: You can also use a shortcut to activate draping or GPU clamping; set <code class="docutils literal notranslate"><span class="pre">altitude-clamping</span></code>
to either <code class="docutils literal notranslate"><span class="pre">terrain-drape</span></code> or <code class="docutils literal notranslate"><span class="pre">terrain-gpu</span></code>.</p>
</div>
<div class="section" id="extrusion">
<h5>Extrusion<a class="headerlink" href="#extrusion" title="Permalink to this headline">¶</a></h5>
<p>The <em>extrusion symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">ExtrusionSymbol</span></code>) directs osgEarth to create <em>extruded</em>
geometry from the source vector data; Extrusion turns a 2D vector into a 3D shape.
<strong>Note:</strong> The simple <em>presence</em> of an <em>extrusion</em> property will enable extrusion.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>extrusion-height</td>
<td>How far to extrude the vector data (numeric-expr)</td>
</tr>
<tr class="row-odd"><td>extrusion-flatten</td>
<td>Whether to force all extruded vertices to the same Z value (bool).
For example, if you are extruding polygons to make 3D buildings,
setting this to <code class="docutils literal notranslate"><span class="pre">true</span></code> will force the rooftops to be flat even
if the underlying terrain is not. (boolean)</td>
</tr>
<tr class="row-even"><td>extrusion-wall-gradient</td>
<td>Factor by which to multiply the <code class="docutils literal notranslate"><span class="pre">fill</span></code> color of the extruded
geometry at the <em>base</em> of the 3D shape. This results in the 3D
shape being darker at the bottom than at the top, a nice effect.
(float [0..1]; try 0.75)</td>
</tr>
<tr class="row-odd"><td>extrusion-wall-style</td>
<td>Name of another style in the same stylesheet that osgEarth should
apply to the <em>walls</em> of the extruded shape. (string)</td>
</tr>
<tr class="row-even"><td>extrusion-roof-style</td>
<td>Name of another style in the same stylesheet that osgEarth should
apply to the <em>roof</em> of the extruded shape. (string)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="skin">
<h5>Skin<a class="headerlink" href="#skin" title="Permalink to this headline">¶</a></h5>
<p>The <em>skin symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">SkinSymbol</span></code>) applies texture mapping to a geometry, when applicable.
(At the moment this only applies to <em>extruded</em> geometry.)</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>skin-library</td>
<td>Name of the <em>resource library</em> containing the skin(s)</td>
</tr>
<tr class="row-odd"><td>skin-tags</td>
<td>Set of strings (separated by whitespace containing one or more
<em>resource tags</em>. When selecting a texture skin to apply, osgEarth
will limit the selection to skins with one of these tags. If you
omit this property, all skins are considered. For example, if you
are extruding buildings, you may only want to consider textures
with the <code class="docutils literal notranslate"><span class="pre">building</span></code> tag. (string)</td>
</tr>
<tr class="row-even"><td>skin-tiled</td>
<td>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, osgEarth will only consider selecting a skin
that has its <code class="docutils literal notranslate"><span class="pre">tiled</span></code> attribute set to <code class="docutils literal notranslate"><span class="pre">true</span></code>. The <code class="docutils literal notranslate"><span class="pre">tiled</span></code>
attribute indicates that the skin may be used as a repeating
texture. (boolean)</td>
</tr>
<tr class="row-odd"><td>skin-object-height</td>
<td><em>Numeric expression</em> resolving to the feature’s real-world height
(in meters). osgEarth will use this value to narrow down the
selection to skins appropriate to that height (i.e., skins for
which the value falls between the skin’s min/max object height
range. (numeric-expr)</td>
</tr>
<tr class="row-even"><td>skin-min-object-height</td>
<td>Tells osgEarth to only consider skins whose minimum object height
is greater than or equal to this value. (numeric-expr)</td>
</tr>
<tr class="row-odd"><td>skin-max-object-height</td>
<td>Tells osgEarth to only consider skins whose maximum object height
is less than or equal to this value. (numeric-expr)</td>
</tr>
<tr class="row-even"><td>skin-random-seed</td>
<td>Once the filtering is done (according to the properties above,
osgEarth determines the minimal set of appropriate skins from
which to choose and chooses one at random. By setting this seed
value you can ensure that the same “random” selection happens each
time you run the application.  (integer)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="icon">
<h5>Icon<a class="headerlink" href="#icon" title="Permalink to this headline">¶</a></h5>
<p>The <em>icon symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">IconSymbol</span></code>) describes the appearance of 2D icons.
Icons are used for different things, the most common being:</p>
<blockquote>
<div><ul class="simple">
<li>Point model substitution - replace geometry with icons</li>
<li>Place annotations</li>
</ul>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>icon</td>
<td>URI of the icon image. (uri-string)</td>
</tr>
<tr class="row-odd"><td>icon-library</td>
<td>Name of a <em>resource library</em> containing the icon (optional)</td>
</tr>
<tr class="row-even"><td>icon-placement</td>
<td><p class="first">For model substitution, describes how osgEarth should replace
geometry with icons:</p>
<blockquote class="last">
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">vertex:</th><td class="field-body">Replace each vertex in the geometry with an icon.</td>
</tr>
<tr class="field-even field"><th class="field-name">interval:</th><td class="field-body">Place icons at regular intervals along the geometry,
according to the <code class="docutils literal notranslate"><span class="pre">icon-density</span></code> property.</td>
</tr>
<tr class="field-odd field"><th class="field-name">random:</th><td class="field-body">Place icons randomly within the geometry, according
to the <code class="docutils literal notranslate"><span class="pre">icon-density</span></code> property.</td>
</tr>
<tr class="field-even field"><th class="field-name">centroid:</th><td class="field-body">Place a single icon at the centroid of the geometry.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>icon-density</td>
<td>For <code class="docutils literal notranslate"><span class="pre">icon-placement</span></code> settings of <code class="docutils literal notranslate"><span class="pre">interval</span></code> or <code class="docutils literal notranslate"><span class="pre">random</span></code>,
this property is hint as to how many instances osgEarth should
place. The unit is approximately “units per km” (for linear data)
or “units per square km” for polygon data. (float)</td>
</tr>
<tr class="row-even"><td>icon-scale</td>
<td>Scales the icon by this amount (float)</td>
</tr>
<tr class="row-odd"><td>icon-heading</td>
<td>Rotates the icon along its central axis (float, degrees)</td>
</tr>
<tr class="row-even"><td>icon-declutter</td>
<td>Activate <em>decluttering</em> for this icon. osgEarth will attempt to
automatically show or hide things so they don’t overlap on the
screen. (boolean)</td>
</tr>
<tr class="row-odd"><td>icon-align</td>
<td><p class="first">Sets the icon’s location relative to its anchor point. The valid
values are in the form “horizontal-vertical”, and are:</p>
<blockquote class="last">
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">left-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-bottom</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-bottom</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-bottom</span></code></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td>icon-random-seed</td>
<td>For random placement operations, set this seed so that the
randomization is repeatable each time you run the app. (integer)</td>
</tr>
<tr class="row-odd"><td>icon-occlusion-cull</td>
<td>Whether to occlusion cull the text so they do not display
when line of sight is obstructed by terrain</td>
</tr>
<tr class="row-even"><td>icon-occlusion-cull-altitude</td>
<td>The viewer altitude (MSL) to start occlusion culling
when line of sight is obstructed by terrain</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="model">
<h5>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h5>
<p>The <em>model symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">ModelSymbol</span></code>) describes external 3D models.
Like icons, models are typically used for:</p>
<blockquote>
<div><ul class="simple">
<li>Point model substitution - replace geometry with 3D models</li>
<li>Model annotations</li>
</ul>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>model</td>
<td>URI of the 3D model (uri-string). Use this <em>OR</em> the
<code class="docutils literal notranslate"><span class="pre">model-library</span></code> property, but not both.</td>
</tr>
<tr class="row-odd"><td>model-library</td>
<td>Name of a <em>resource library</em> containing the model. Use this <em>OR</em>
the <code class="docutils literal notranslate"><span class="pre">model</span></code> property, but not both.</td>
</tr>
<tr class="row-even"><td>model-placement</td>
<td><p class="first">For model substitution, describes how osgEarth should replace
geometry with models:</p>
<blockquote class="last">
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">vertex:</th><td class="field-body">Replace each vertex in the geometry with a model.</td>
</tr>
<tr class="field-even field"><th class="field-name">interval:</th><td class="field-body">Place models at regular intervals along the geometry,
according to the <code class="docutils literal notranslate"><span class="pre">model-density</span></code> property.</td>
</tr>
<tr class="field-odd field"><th class="field-name">random:</th><td class="field-body">Place models randomly within the geometry, according
to the <code class="docutils literal notranslate"><span class="pre">model-density</span></code> property.</td>
</tr>
<tr class="field-even field"><th class="field-name">centroid:</th><td class="field-body">Place a single model at the centroid of the geometry.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td>model-density</td>
<td>For <code class="docutils literal notranslate"><span class="pre">model-placement</span></code> settings of <code class="docutils literal notranslate"><span class="pre">interval</span></code> or <code class="docutils literal notranslate"><span class="pre">random</span></code>,
this property is hint as to how many instances osgEarth should
place. The unit is approximately “units per km” (for linear data)
or “units per square km” for polygon data. (float)</td>
</tr>
<tr class="row-even"><td>model-scale</td>
<td>Scales the model by this amount along all axes (float)</td>
</tr>
<tr class="row-odd"><td>model-heading</td>
<td>Rotates the about its +Z axis (float, degrees)</td>
</tr>
<tr class="row-even"><td>icon-random-seed</td>
<td>For random placement operations, set this seed so that the
randomization is repeatable each time you run the app. (integer)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="render">
<h5>Render<a class="headerlink" href="#render" title="Permalink to this headline">¶</a></h5>
<p>The <em>render symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">RenderSymbol</span></code>) applies general OpenGL rendering settings as well
as some osgEarth-specific settings that are not specific to any other symbol type.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>render-depth-test</td>
<td>Enable or disable GL depth testing. (boolean)</td>
</tr>
<tr class="row-odd"><td>render-lighting</td>
<td>Enable or disable GL lighting. (boolean)</td>
</tr>
<tr class="row-even"><td>render-transparent</td>
<td>hint to render in the
transparent (depth-sorted) bin (boolean)</td>
</tr>
<tr class="row-odd"><td>render-bin</td>
<td>render bin to use for sorting (string)</td>
</tr>
<tr class="row-even"><td>render-depth-offset</td>
<td>Enable or disable Depth Offsetting. Depth offsetting is a
GPU technique that modifies a fragment’s depth value,
simulating the rendering of that object closer or farther
from the viewer than it actually is. It is a mechanism for
mitigating z-fighting. (boolean)</td>
</tr>
<tr class="row-odd"><td>render-depth-offset-min-bias</td>
<td>Sets the minimum bias (distance-to-viewer offset) for depth
offsetting. If is usually sufficient to set this property;
all the others will be set automatically. (float, meters)</td>
</tr>
<tr class="row-even"><td>render-depth-offset-max-bias</td>
<td>Sets the minimum bias (distance-to-viewer offset) for depth
offsetting.</td>
</tr>
<tr class="row-odd"><td>render-depth-offset-min-range</td>
<td>Sets the range (distance from viewer) at which to apply the
minimum depth offsetting bias. The bias graduates between its
min and max values over the specified range.</td>
</tr>
<tr class="row-even"><td>render-depth-offset-max-range</td>
<td>Sets the range (distance from viewer) at which to apply the
maximum depth offsetting bias. The bias graduates between its
min and max values over the specified range.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="text">
<h5>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h5>
<p>The <em>text symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">TextSymbol</span></code>) controls the existence and appearance of text labels.</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>text-fill</td>
<td>Foreground color of the text (HTML color)</td>
</tr>
<tr class="row-odd"><td>text-size</td>
<td>Size of the text (float, pixels)</td>
</tr>
<tr class="row-even"><td>text-font</td>
<td>Name of the font to use (system-dependent). For example, use
“arialbd” on Windows for Arial Bold.</td>
</tr>
<tr class="row-odd"><td>text-halo</td>
<td>Outline color of the text; Omit this property altogether for no
outline. (HTML Color)</td>
</tr>
<tr class="row-even"><td>text-halo-offset</td>
<td>Outline thickness (float, % of glyph width, default 0.0625)</td>
</tr>
<tr class="row-odd"><td>text-offset-x</td>
<td>The x offset of the text in % of glyph width, default 0.0625</td>
</tr>
<tr class="row-even"><td>text-offset-y</td>
<td>The y offset of the text in % of glyph width, default 0.0625</td>
</tr>
<tr class="row-odd"><td>text-align</td>
<td><dl class="first last docutils">
<dt>Alignment of the text string relative to its anchor point:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">left-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-bottom</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">left-bottom-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-bottom</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">center-bottom-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-top</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-center</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-bottom</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">right-bottom-base-line</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">base-line</span></code></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td>text-layout</td>
<td><dl class="first last docutils">
<dt>Layout of text:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">ltr</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">rtl</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">vertical</span></code></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>text-content</td>
<td>The actual text string to display (string-expr)</td>
</tr>
<tr class="row-even"><td>text-encoding</td>
<td><dl class="first last docutils">
<dt>Character encoding of the text content:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">utf-8</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">utf-16</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">utf-32</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ascii</span></code></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>text-declutter</td>
<td>Activate <em>decluttering</em> for this icon. osgEarth will attempt to
automatically show or hide things so they don’t overlap on the
screen. (boolean)</td>
</tr>
<tr class="row-even"><td>text-occlusion-cull</td>
<td>Whether to occlusion cull the text so they do not display
when line of sight is obstructed by terrain</td>
</tr>
<tr class="row-odd"><td>text-occlusion-cull-altitude</td>
<td>The viewer altitude (MSL) to start occlusion culling
when line of sight is obstructed by terrain</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="coverage">
<h5>Coverage<a class="headerlink" href="#coverage" title="Permalink to this headline">¶</a></h5>
<p>The <em>coverage symbol</em> (SDK: <code class="docutils literal notranslate"><span class="pre">CoverageSymbol</span></code>) controls how a feature is rasterized into
coverage data with discrete values.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coverage-value</td>
<td>Expression resolving to the floating-point value to encode.</td>
</tr>
</tbody>
</table>
</div>
</div>
<span id="document-references/colorfilters"></span><div class="section" id="color-filter-reference">
<h4>Color Filter Reference<a class="headerlink" href="#color-filter-reference" title="Permalink to this headline">¶</a></h4>
<p>A <em>color filter</em> is an inline, GLSL processor for an ImageLayer.
The osgEarth terrain engine runs each image tile through its layer’s
color filter as it’s being rendered on the GPU. You can chain color
filters together to form an image processing pipeline.</p>
<p>osgEarth comes with several stock filters; you can create your own
by implementing the <code class="docutils literal notranslate"><span class="pre">osgEarth::ColorFilter</span></code> interface.</p>
<p>Here is how to use a color filter in an earth file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">image</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;gdal&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">color_filters</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">chroma_key</span> <span class="n">r</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">g</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">distance</span><span class="o">=</span><span class="s2">&quot;.1&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">color_filters</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">image</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Stock color filters:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#brightnesscontrast">BrightnessContrast</a></li>
<li><a class="reference internal" href="#chromakey">ChromaKey</a></li>
<li><a class="reference internal" href="#cmyk">CMYK</a></li>
<li><a class="reference internal" href="#gamma">Gamma</a></li>
<li><a class="reference internal" href="#glsl">GLSL</a></li>
<li><a class="reference internal" href="#hsl">HSL</a></li>
<li><a class="reference internal" href="#rgb">RGB</a></li>
</ul>
</div></blockquote>
<div class="section" id="brightnesscontrast">
<h5>BrightnessContrast<a class="headerlink" href="#brightnesscontrast" title="Permalink to this headline">¶</a></h5>
<p>This filter adjusts the brightness and contrast of the image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">brightness_contrast</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;0.7&quot;</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;1.2&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> properties are <em>percentages</em> of the incoming value.
For example, <code class="docutils literal notranslate"><span class="pre">c=&quot;1.2&quot;</span></code> means to increase the contrast by 20%.</p>
</div>
<div class="section" id="chromakey">
<h5>ChromaKey<a class="headerlink" href="#chromakey" title="Permalink to this headline">¶</a></h5>
<p>This filter matches color values to turn fragments transparent,
providing a kind of “green-screen” effect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">chroma_key</span> <span class="n">r</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span> <span class="n">g</span><span class="o">=</span><span class="s2">&quot;0.0&quot;</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;0.0&quot;</span> <span class="n">distance</span><span class="o">=</span><span class="s2">&quot;0.1&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>In this example, we find all red pixels and turn them transparent.
The <code class="docutils literal notranslate"><span class="pre">distance</span></code> property searches for colors close to the specified
color. Set it to Zero for exact matches only.</p>
</div>
<div class="section" id="cmyk">
<h5>CMYK<a class="headerlink" href="#cmyk" title="Permalink to this headline">¶</a></h5>
<p>This filter offsets the CMYK (cyan, magenta, yellow, black) color levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">cmyk</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;-0.1&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>Here we are lowering the “yellowness” of the fragment by 0.1. Valid range
is [-1..1] for each of <code class="docutils literal notranslate"><span class="pre">c</span></code>, <code class="docutils literal notranslate"><span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">k</span></code>.</p>
</div>
<div class="section" id="gamma">
<h5>Gamma<a class="headerlink" href="#gamma" title="Permalink to this headline">¶</a></h5>
<p>This filter performs gamma correction. You can specify a <em>gamma</em> value for
each of <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">g</span></code>, or <code class="docutils literal notranslate"><span class="pre">b</span></code>, or you can adjust them all together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">gamma</span> <span class="n">rgb</span><span class="o">=</span><span class="s2">&quot;1.3&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="glsl">
<h5>GLSL<a class="headerlink" href="#glsl" title="Permalink to this headline">¶</a></h5>
<p>The GLSL filter lets you embed custom GLSL code so you can adjust the
color value in any way you like. Simply write a GLSL code block
that operates on the RGBA color variable <code class="docutils literal notranslate"><span class="pre">inout</span> <span class="pre">vec4</span> <span class="pre">color</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">glsl</span><span class="o">&gt;</span>
    <span class="n">color</span><span class="o">.</span><span class="n">rgb</span> <span class="o">*=</span> <span class="nb">pow</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">rgb</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="n">vec3</span><span class="p">(</span><span class="mf">1.3</span><span class="p">));</span>
<span class="o">&lt;/</span><span class="n">glsl</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This example does exactly the same thing as the <a class="reference internal" href="#gamma">Gamma</a> filter but
using directly GLSL code.</p>
</div>
<div class="section" id="hsl">
<h5>HSL<a class="headerlink" href="#hsl" title="Permalink to this headline">¶</a></h5>
<p>This filter offsets the HSL (hue, saturation, lightness) levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">hsl</span> <span class="n">s</span><span class="o">=</span><span class="s2">&quot;0.1&quot;</span> <span class="n">l</span><span class="o">=</span><span class="s2">&quot;0.1&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>This example adds a little more color saturation and brightens the
fragment a bit as well. Valid range is [-1..1] for each of <code class="docutils literal notranslate"><span class="pre">h</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, and <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p>
</div>
<div class="section" id="rgb">
<h5>RGB<a class="headerlink" href="#rgb" title="Permalink to this headline">¶</a></h5>
<p>This filter offsets the RGB (red, green, blue) color levels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">rgb</span> <span class="n">r</span><span class="o">=</span><span class="s2">&quot;0.1&quot;</span> <span class="n">b</span><span class="o">=</span><span class="s2">&quot;-0.5&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
<p>This example adds a little bit of red and reduces the blue channel. Valid
range is [-1..1] for each of <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">g</span></code>, and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
</div>
</div>
<span id="document-references/envvars"></span><div class="section" id="environment-variables">
<h4>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h4>
<p>This is a list of environment variables supported by osgEarth.</p>
<p>Caching:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_CACHE_PATH:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Sets up a cache at the specified folder (path)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_CACHE_ONLY:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Directs osgEarth to ONLY use the cache and no data sources (set to 1)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_NO_CACHE:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Directs osgEarth to NEVER use the cache (set to 1)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_CACHE_DRIVER:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Sets the name of the plugin to use for caching (default is “filesystem”)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Threading/Performance:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSG_NUM_DATABASE_THREADS:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Sets the total number of threads that the OSG DatabasePager
will use to load terrain tiles and feature data tiles.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSG_NUM_HTTP_DATABASE_THREADS:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Sets the number of threads in the Pager’s thread pool (see
above) that should be used for “high-latency” operations.
(Usually this means operations that do not read data from
the cache, or are expected to take more time than average.)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Debugging:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_NOTIFY_LEVEL:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Similar to <code class="docutils literal notranslate"><span class="pre">OSG_NOTIFY_LEVEL</span></code>, sets the verbosity for
console output. Values are <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">NOTICE</span></code>,
and <code class="docutils literal notranslate"><span class="pre">WARN</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">NOTICE</span></code>. (This is distinct from
OSG’s notify level.)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_MP_PROFILE:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Dumps verbose profiling and timing data about the terrain engine’s
tile generator to the console. Set to 1 for detailed per-tile
timings; Set to 2 for average tile load time calculations</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_MP_DEBUG:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Draws tile bounding boxes and tilekey labels atop the map</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_MERGE_SHADERS:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Consolidate all shaders within a single shader program; this
is required for GLES (mobile devices) and is therefore useful
for testing. (set to 1).</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_DUMP_SHADERS:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Prints composed shader programs to the console (set to 1).</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Rendering:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_DEFAULT_FONT:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Name of the default font to use for text symbology</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_MIN_STAR_MAGNITUDE:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Smallest star magnitude to use in SkyNode</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Networking:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_HTTP_DEBUG:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Prints HTTP debugging messages (set to 1)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_HTTP_TIMEOUT:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Sets an HTTP timeout (seconds)</td>
</tr>
<tr class="field-odd field"><th class="field-name">OSG_CURL_PROXY:</th><td class="field-body">Sets a proxy server for HTTP requests (string)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSG_CURL_PROXYPORT:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Sets a proxy port for HTTP proxy server (integer)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_CURL_PROXYAUTH:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Sets proxy authentication information (username:password)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OSGEARTH_SIMULATE_HTTP_RESPONSE_CODE:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Simulates HTTP errors (for debugging; set to HTTP response code)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Misc:</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">OSGEARTH_USE_PBUFFER_TEST:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Directs the osgEarth platform Capabilities analyzer to
create a PBUFFER-based graphics context for collecting
GL support information. (set to 1)</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>
</div>
<span id="document-faq"></span><div class="section" id="faq">
<h3>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h3>
<p><strong>Sections:</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#common-usage">Common Usage</a></li>
<li><a class="reference internal" href="#other-terrain-formats">Other Terrain Formats</a></li>
<li><a class="reference internal" href="#community-and-support">Community and Support</a></li>
<li><a class="reference internal" href="#licensing">Licensing</a></li>
</ul>
<hr class="docutils" />
<div class="section" id="common-usage">
<h4>Common Usage<a class="headerlink" href="#common-usage" title="Permalink to this headline">¶</a></h4>
<div class="section" id="how-do-i-place-a-3d-model-on-the-map">
<h5>How do I place a 3D model on the map?<a class="headerlink" href="#how-do-i-place-a-3d-model-on-the-map" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">osgEarth::GeoTransform</span></code> class inherits from <code class="docutils literal notranslate"><span class="pre">osg::Transform</span></code>
and will convert map coordinates into OSG world coordinates for you.
Place an object at a geospatial position like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeoTransform</span><span class="o">*</span> <span class="n">xform</span> <span class="o">=</span> <span class="n">new</span> <span class="n">GeoTransform</span><span class="p">();</span>
<span class="n">GeoPoint</span> <span class="n">point</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.0</span><span class="p">,</span> <span class="mf">34.0</span><span class="p">,</span> <span class="mf">1000.0</span><span class="p">);</span>
<span class="n">xform</span><span class="o">-&gt;</span><span class="n">setPosition</span><span class="p">(</span><span class="n">point</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want your object to automatically clamp to the terrain surface,
assign a terrain and leave off the altitude:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GeoTransform</span><span class="o">*</span> <span class="n">xform</span> <span class="o">=</span> <span class="n">new</span> <span class="n">GeoTransform</span><span class="p">();</span>
<span class="n">xform</span><span class="o">-&gt;</span><span class="n">setTerrain</span><span class="p">(</span><span class="n">mapNode</span><span class="o">-&gt;</span><span class="n">getTerrain</span><span class="p">());</span>
<span class="n">GeoPoint</span> <span class="n">point</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="o">-</span><span class="mf">121.0</span><span class="p">,</span> <span class="mf">34.0</span><span class="p">);</span>
<span class="n">xform</span><span class="o">-&gt;</span><span class="n">setPosition</span><span class="p">(</span><span class="n">point</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="i-loaded-a-model-but-it-has-no-texture-lighting-etc-in-osgearth-why">
<h5>I loaded a model, but it has no texture/lighting/etc. in osgEarth. Why?<a class="headerlink" href="#i-loaded-a-model-but-it-has-no-texture-lighting-etc-in-osgearth-why" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>Everything under an osgEarth scene graph is rendered with shaders.
So, when using your own models (or creating geometry by hand) you
need to create shader components in order for them to render properly.</p>
<p>osgEarth has a built-in shader generator for this purpose. Run the
shader generator on your node like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osgEarth</span><span class="p">::</span><span class="n">Registry</span><span class="p">::</span><span class="n">shaderGenerator</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">myNode</span> <span class="p">);</span>
</pre></div>
</div>
<p>After that, your node will contain shader snippets that allows osgEarth
to render it properly and for it to work with other osgEarth features
like sky lighting.</p>
</div></blockquote>
</div>
<div class="section" id="lines-or-annotations-featurenode-etc-are-not-rendering-why">
<h5>Lines or Annotations (FeatureNode, etc.) are not rendering. Why?<a class="headerlink" href="#lines-or-annotations-featurenode-etc-are-not-rendering-why" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>Lines render using a shader that requires some initial state to be set.
You can apply this state to your top-level camera (or anywhere else
above the geometry) like so:</p>
<blockquote>
<div>#include &lt;osgEarth/GLUtils&gt;
…
GLUtils::setGlobalDefaults(camera-&gt;getOrCreateStateSet());</div></blockquote>
<p>For Annotations (FeatureNodes, PlaceNodes, etc.) best practice is to place
an Annotation node as a descendant of the MapNode in your scene graph.
You can also add them to an AnnotationLayer and add that layer to the Map.</p>
<p>Annotations need access to the MapNode in order to render properly. If you
cannot place them under the MapNode, you will have to manually install a few
things to make them work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;osgEarth/CullingUtils&gt;</span>
<span class="c1">#include &lt;osgEarth/GLUtils&gt;</span>
<span class="o">...</span>

<span class="o">//</span> <span class="n">Manully</span> <span class="n">assign</span> <span class="n">the</span> <span class="n">MapNode</span> <span class="n">to</span> <span class="n">your</span> <span class="n">annotation</span>
<span class="n">annotationNode</span><span class="o">-&gt;</span><span class="n">setMapNode</span><span class="p">(</span><span class="n">mapNode</span><span class="p">);</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">some</span> <span class="n">group</span> <span class="n">above</span> <span class="n">the</span> <span class="n">annotation</span><span class="p">,</span> <span class="n">install</span> <span class="n">this</span> <span class="n">callback</span>
<span class="n">group</span><span class="o">-&gt;</span><span class="n">addCullCallback</span><span class="p">(</span><span class="n">new</span> <span class="n">InstallViewportSizeUniform</span><span class="p">());</span>

<span class="o">//</span> <span class="n">In</span> <span class="n">some</span> <span class="n">group</span> <span class="n">above</span> <span class="n">the</span> <span class="n">annotation</span><span class="p">,</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">GL</span> <span class="n">defaults</span>
<span class="n">GLUtils</span><span class="p">::</span><span class="n">setGlobalDefaults</span><span class="p">(</span><span class="n">group</span><span class="o">-&gt;</span><span class="n">getOrCreateStateSet</span><span class="p">());</span>
</pre></div>
</div>
<p>Again: MapNode does all this automatically so this is only necessary if you do
not place your annotations as descendants of the MapNode.</p>
</div></blockquote>
</div>
<div class="section" id="how-do-make-the-terrain-transparent">
<h5>How do make the terrain transparent?<a class="headerlink" href="#how-do-make-the-terrain-transparent" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>By default, the globe will be opaque white when there are no image layers, or when all the image
layers have their opacities set to zero. To make the underlying globe transparent, set the
base color of the terrain to a transparent color like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">terrain</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#ffffff00&quot;</span> <span class="o">...</span>
</pre></div>
</div>
<p>In code, this option is found in the <code class="docutils literal notranslate"><span class="pre">RexTerrainEngineOptions</span></code> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;osgEarthDrivers/engine_mp/RexTerrainEngineOptions&gt;</span>
<span class="n">using</span> <span class="n">namespace</span> <span class="n">osgEarth</span><span class="p">::</span><span class="n">Drivers</span><span class="p">::</span><span class="n">RexTerrainEngine</span><span class="p">;</span>
<span class="o">...</span>
<span class="n">RexTerrainEngineOptions</span> <span class="n">options</span><span class="p">;</span>
<span class="n">options</span><span class="o">.</span><span class="n">color</span><span class="p">()</span> <span class="o">=</span> <span class="n">osg</span><span class="p">::</span><span class="n">Vec4</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="how-do-i-set-the-resolution-of-terrain-tiles">
<h5>How do I set the resolution of terrain tiles?<a class="headerlink" href="#how-do-i-set-the-resolution-of-terrain-tiles" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>Each tile is a grid of vertices. The number of vertices can vary depending on source data
and settings. By default (when you have no elevation data) it is an 17x17 grid, tessellated
into triangles.</p>
<p>You can expressly set the terrain’s tile size by using the Map options.
osgEarth will then resample all elevation data to the size you specify.
You will get best results from a tile size that is a power of 2 plus 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">map</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">options</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">terrain</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">tile_size</span><span class="o">&gt;</span><span class="mi">9</span><span class="o">&lt;/</span><span class="n">tile_size</span><span class="o">&gt;</span>
            <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<hr class="docutils" />
<div class="section" id="other-terrain-formats">
<h4>Other Terrain Formats<a class="headerlink" href="#other-terrain-formats" title="Permalink to this headline">¶</a></h4>
<div class="section" id="does-osgearth-work-with-virtualplanetbuilder">
<h5>Does osgEarth work with VirtualPlanetBuilder?<a class="headerlink" href="#does-osgearth-work-with-virtualplanetbuilder" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><blockquote>
<div><p><a class="reference external" href="http://www.openscenegraph.com/index.php/documentation/tools/virtual-planet-builder">VirtualPlanetBuilder</a> (VPB) is a command-line terrain generation tool. Before osgEarth
came along, VPB was probably the most-used open source tool for building terrains for
OSG appliations. We     mention is here because many people ask questions about loading
VPB models or transitioning from VPB to osgEarth.</p>
<p>osgEarth differs from VPB in that:</p>
<ul class="simple">
<li>VPB builds static terrain models and saves them to disk. osgEarth generates terrain on
demand as your application runs; you do not (and cannot) save a model to disk.</li>
<li>Changing a VPB terrain generally requires that you rebuild the model. osgEarth does not
require a preprocessing step since it builds the terrain at run time.</li>
<li>osgEarth and VPB both use <em>GDAL</em> to read many types of imagery and elevation data from
the local file system. osgEarth also supports network-based data sources through its
plug-in framework.</li>
</ul>
<p>osgEarth has a <em>VPB driver</em> for “scraping” elevation and imagery tiles from a VPB model.</p>
</div></blockquote>
<p>Confiugration of this driver is quite tricky and requires you to understand the details
of how VPB models are organized. You’re on your own.</p>
<blockquote>
<div><strong>Please Note</strong> that this driver only exists as a <strong>last resort</strong> for people that have a VPB
model but no longer have access to the source data from which it was built. If at all
possible you should feed your source data directly into osgEarth instead of using the VPB
driver.</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="can-osgearth-load-terrapage-or-metaflight">
<h5>Can osgEarth load TerraPage or MetaFlight?<a class="headerlink" href="#can-osgearth-load-terrapage-or-metaflight" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>osgEarth cannot load TerraPage (TXP) or MetaFlight. However, osgEarth does have a
“bring your own terrain” plugin that allows you to load an external model and use it as your
terrain. The caveat is that since osgEarth doesn’t know anything about your terrain model, you
will not be able to use some of the features of osgEarth (like being able to add or remove layers).</p>
<p>For usage formation, please refer to the <code class="docutils literal notranslate"><span class="pre">byo.earth</span></code> example in the repo.</p>
</div></blockquote>
</div>
</div>
<hr class="docutils" />
<div class="section" id="community-and-support">
<h4>Community and Support<a class="headerlink" href="#community-and-support" title="Permalink to this headline">¶</a></h4>
<div class="section" id="what-is-the-best-practice-for-using-github">
<h5>What is the best practice for using GitHub?<a class="headerlink" href="#what-is-the-best-practice-for-using-github" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>The best way to work with the osgEarth repository is to make your own clone on GitHub
and to work from that clone. Why not work directly against the main repository? You
can, but if you need to make changes, bug fixes, etc., you will need your own clone
in order to issue Pull Requests.</p>
<ol class="arabic simple">
<li>Create your own GitHub account and log in.</li>
<li>Clone the osgEarth repo.</li>
<li>Work from your clone. Sync it to the main repository periodically to get the
latest changes.</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="how-do-i-submit-changes-to-osgearth">
<h5>How do I submit changes to osgEarth?<a class="headerlink" href="#how-do-i-submit-changes-to-osgearth" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>We accept contributions and bug fixes through GitHub’s <a class="reference external" href="https://help.github.com/articles/using-pull-requests">Pull Request</a> mechanism.</p>
<p>First you need your own GitHub account and a fork of the repo (see above). Next,
follow these guidelines:</p>
<ol class="arabic simple">
<li>Create a <em>branch</em> in which to make your changes.</li>
<li>Make the change.</li>
<li>Issue a <em>pull request</em> against the main osgEarth repository.</li>
<li>We will review the <em>PR</em> for inclusion.</li>
</ol>
<p>If we decide NOT to include your submission, you can still keep it in your cloned
repository and use it yourself. Doing so maintains compliance with the osgEarth
license since your changes are still available to the public - even if they are
not merged into the master repository.</p>
</div></blockquote>
</div>
<div class="section" id="can-i-hire-someone-to-help-me-with-osgearth">
<h5>Can I hire someone to help me with osgEarth?<a class="headerlink" href="#can-i-hire-someone-to-help-me-with-osgearth" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div><p>Of course! We at Pelican Mapping are in the business of supporting users of
the osgEarth SDK and are available for contracting, training, and integration
services. The easiest way to get in touch with us is through our web site
<a class="reference external" href="http://pelicanmapping.com/?page_id=2">contact form</a>.</p>
<p>Pelican also offers a <a class="reference external" href="http://web.pelicanmapping.com/priority-support/">Priority Support</a> package that is a good fit for
companies that prefer to do most of their development in-house.</p>
</div></blockquote>
</div>
</div>
<hr class="docutils" />
<div class="section" id="licensing">
<h4>Licensing<a class="headerlink" href="#licensing" title="Permalink to this headline">¶</a></h4>
<div class="section" id="can-i-use-osgearth-in-a-commercial-product">
<h5>Can I use osgEarth in a commercial product?<a class="headerlink" href="#can-i-use-osgearth-in-a-commercial-product" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div>Yes. The license permits use in a commercial product. The only requirement is that
any changes you make to the actual osgEarth library <em>itself</em> be made available
under the same license as osgEarth. You do <em>not</em> need to make other parts of your
application public.</div></blockquote>
</div>
<div class="section" id="can-i-use-osgearth-in-an-ios-app">
<h5>Can I use osgEarth in an iOS app?<a class="headerlink" href="#can-i-use-osgearth-in-an-ios-app" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div>Yes. Apple’s policy requires only statically linked libraries. Technically, the
LGPL does not support static linking, but we grant an exception in this case.</div></blockquote>
</div>
</div>
</div>
<span id="document-releasenotes"></span><div class="section" id="release-notes">
<h3>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="version-2-10-november-2018">
<h4>Version 2.10 (November 2018)<a class="headerlink" href="#version-2-10-november-2018" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>REX terrain engine promoted to default. Old MP engine is now in legacy support mode.</li>
<li>Removed the osgEarthQt nodekit from the SDK, along with all Qt examples</li>
<li>Cleanup of the internal serialization architecture (i.e. osgEarth::Config)</li>
<li>Compatibility with OSG 3.6.x release/branch</li>
<li>GL3 and GLCORE profile support</li>
<li>VirtualProgram performance improvements</li>
<li>New LineDrawable and PointDrawable classes for cross-GL-profile support</li>
<li>Better progress/cancelation handling throughout the SDK, including feature subsystem</li>
<li>Prototype support for ECI reference frames</li>
<li>Support for “new” osgText implementation in VirtualProgram framework</li>
<li>New ClusterNode utility class for clustering proximite objects</li>
<li>Removed deprecations: MaskNode, Profiler, StateSetLOD, TileKeyDataStore, WrapperLayer, MarkerResource, MarkerSymbol, StencilVolumeNode, TritonNode, AnnotationEvents, PolyhedralLineOfSight, some CullingUtils objects</li>
</ul>
</div>
<div class="section" id="version-2-9-february-2018">
<h4>Version 2.9 (February 2018)<a class="headerlink" href="#version-2-9-february-2018" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>New “REX” terrain engine that supports random access tile loading, terrain morphing, faster add/remove</li>
<li>New Map/Layer architecture to begin standardizing “everything is a layer” approach</li>
<li>Per-layer shaders, configuration from earth file (rex only)</li>
<li>Experimental screen-space GPU lines</li>
<li>Better support for GLCORE, GL 3.3+, and VAOs</li>
<li>Transition several Extension/etc. to Layers (AnnotationLayer, MGRSGraticule, FeatureModelLayer, SimpleOceanLayer)</li>
<li>Reworked the mask generate for REX to support skirts</li>
<li>Synchronous pre-loading of first-LOD terrain data</li>
<li>GeoTransform node, Annotations self-discover terrain (don’t need to pass in MapNode anymore)</li>
<li>Experimental FlatteningLayer to flatten the terrain based on feature data</li>
<li>Combine multiple shaders in a single file/string with [break]</li>
<li>New ViewFitter class fits to view to a set of points</li>
<li>Refactored splatting into SplatLayer, GroundCoverLayer</li>
<li>New improved ephemeris calculator for sun position</li>
<li>New PagedNode class for easier paging</li>
<li>Support new OSG 3.5.8 text implementation</li>
<li>Support GEOS 3.6+</li>
<li>Added core LandCover/LandCoverLayer classes for classification data</li>
<li>Added Future/Promise construct for asynchronous operations</li>
<li>Re-written MGRS, UTM and GARS graticules</li>
<li>Lots of bug fixes</li>
</ul>
</div>
<div class="section" id="version-2-8-september-2016">
<h4>Version 2.8 (September 2016)<a class="headerlink" href="#version-2-8-september-2016" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Disabled feature tessellation tiling in BuildGeometryFilter unless max_polygon_tiling_angle is explicitly set.  Cropping code was causing issues especially around the poles.  Need to come up with a more general solution in the future.</li>
<li>Better support for osg::Fog in VirtualPrograms with FogEffect.  Implemented multiple fog modes.</li>
<li>Always applying min_range and max_range in MPGeometry to prevent uniform leakage.</li>
<li>Proper support for centroid clamping for MultiPolygons.</li>
<li>New requirement to call open() on TileSources and Layers when creating at runtime.  This lets you explicitly get the Status of a layer and report errors to users.</li>
<li>Fixes to EGM96 vertical datum grid.</li>
<li>BUILD_OSGEARTH_EXAMPLES cmake option for disabling building examples.</li>
<li>Added nearest sampling support for heightfields</li>
<li>New feature_join for adding attributes from intersecting</li>
<li>osgearth_deformation demo</li>
<li>Scatter filter support for pointsets.  Simply places models at each point in the PointSet.</li>
<li>Performance optimizations when discarding features in javascript style selectors when returning null styles</li>
<li>Feature geometry caching support</li>
<li>New min_expiry_frames and min_expiry_time options to TerrainOptions.</li>
<li>Proper createTile implementation for Rex engine.</li>
<li>RocksDB cache plugin.</li>
<li>New osgearth_server application (based on Poco networking libraries).  Serve up osgEarth tiles rendered on the GPU to your favorite web mapping tools like Leaflet, OpenLayers and Cesium!</li>
<li>Packager now supports writing to MBTiles</li>
<li>New osgearth_skyview example for drawing an “inside out” earth.  Turns out osgearth is a great photosphere viewer!</li>
<li>Experimental WinInet support to replace CURL.  New osgearth_http test app.</li>
<li>Upgraded duktape to version 1.4.0</li>
<li>Memory usage testing support (osgearth_viewer –monitor to enable)</li>
<li>New osgearth_3pv utility application.</li>
<li>Better support for pretiled datasets like TFS and Mapnik Vector Tiles in FeatureRasterSource (and agglite driver)</li>
<li>Better support for node tethering in EarthManipulator</li>
<li>Doxygen support</li>
<li>New openstreetmap vector tiles demos (openstreetmap_buildings.earth and openstreetmap_full.earth)</li>
<li>Support for Mapnik Vector Tiles datasets</li>
<li>Fixed improper inversion of y tilekey in FeatureModelGraph and updated all drivers.</li>
<li>CURLOPT_ENCODING support.  If you’ve built curl against zlib, proper HTTP headers for gzip and deflate will be added and automatically decompressed.</li>
<li>New osgearth_splat example</li>
<li>New osgEarthSplat NodeKit</li>
<li>New “template” plugin based on NLTemplate that allows you to write templatized earth files</li>
<li>Support for xi:include in earth files</li>
<li>Minimum OpenSceneGraph version is 3.4.0</li>
<li>Removed MINIZIP dependency</li>
<li>New Triton and Silverlining NodeKits</li>
<li>New feature_elevation driver that produces features from</li>
<li>New raster to feature driver for turning rasters to features</li>
<li>330 compatibiity default shader version for GLSL</li>
<li>Normal mapping integrated into MP, removed normal map extension.</li>
<li>TravisCI and Coverity support</li>
</ul>
</div>
<div class="section" id="version-2-7-july-2015">
<h4>Version 2.7 (July 2015)<a class="headerlink" href="#version-2-7-july-2015" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>New ObjectIndex system for picking and selection</li>
<li>New RTT-based picker that works for all geometry including GPU-modified geometry</li>
<li>Extensions - modular code for extending the capabilities of osgEarth</li>
<li>New procedural texture splatting extension</li>
<li>Upgraded ShaderLoader for better modularization of VirtualProgram code</li>
<li>New “elevation smoothing” property to MP terrain engine</li>
<li>New support for default MapNodeOptions</li>
<li>Logarithmic depth buffer lets you extend your near and far planes</li>
<li>Better Triton and Silverlining support</li>
<li>Overhaul of the elevation compositing engine and ElevationQuery utility</li>
<li>New Raster Feature driver lets you generate features from raster data</li>
<li>Attenuation and min/max range for image layers</li>
<li>New shader-based geodetic graticule</li>
<li>New day/night color filter</li>
<li>Viewpoint: consolidation of look-ats and tethering</li>
<li>New CoverageSymbol for rastering features into coverage data; agglite driver support</li>
<li>New feature clustering and instancing algorithms for better performance and scalability</li>
<li>Noise extension for creating a simplex noise sampler</li>
<li>New TerrainShader extension lets you inject arbitrary shader code from an earth file</li>
<li>VirtualProgram: specify all VP injection criteria with GLSL #pragmas</li>
<li>Normal mapping extension with automatic edge-normalization</li>
<li>Bump map extension for simple detail bumping</li>
<li>Performance improvements based on GlowCode profiling results</li>
</ul>
</div>
<div class="section" id="version-2-6-october-2014">
<h4>Version 2.6 (October 2014)<a class="headerlink" href="#version-2-6-october-2014" title="Permalink to this headline">¶</a></h4>
<p>Maintenance Release. Release notes TBD.</p>
</div>
<div class="section" id="version-2-5-november-2013">
<h4>Version 2.5 (November 2013)<a class="headerlink" href="#version-2-5-november-2013" title="Permalink to this headline">¶</a></h4>
<p>Terrain Engine</p>
<p>The terrain engine (“MP”) has undergone many performance updates. We focused on geometry
optimization and GL state optimization, bypassing some the OSG mechnisms and going straight
to GL to make things as fast as possible.</p>
<p>MP has a new optional “incremental update” feature. By default, when you change the
map model (add/remove layers etc.) osgEarth will rebuild the terrain in its entirely. With
incremental update enabled, it will only rebuild tiles that are visible. Tiles not currently
visible (like those at lower LODs) don’t update until they actually become visible.</p>
<p>Caching</p>
<p>Caching got a couple improvements. The cache seeder (osgearth_cache) is now multi-threaded
(as it the TMS packager utility). The filesystem cache also supports expiration policies
for cached items, including map tiles.</p>
<p>JavaScript</p>
<p>We updated osgEarth to work with the newest Google V8 JavaScript interpreter API. We also
now support JavaScriptCore as a JS interpreter for OSX/iOS devices (where V8 is not
available).</p>
<p>Terrain Effects</p>
<p>A new TerrainEffect API makes it easy to add custom shaders to the terrain. osgEarth has
several of these built in, including NormalMap, DetailTexture, LODBlending, and ContourMap.</p>
<p>New Drivers</p>
<p>There is a new Bing Maps driver. Bing requires an API key, which you can get at the Bing site.</p>
<p>We also added a new LibNOISE driver. It generates parametric noise that you can use as
terrain elevation data, or to add fractal detail to existing terrain, or to generate
noise patterns for detail texturing.</p>
<p>Other Goodies</p>
<ul class="simple">
<li>Shared Layers allow access multiple samplers from a custom shader</li>
<li>A new “AUTO_SCALE” render bin scales geometry to the screen without using an AutoTransform node.</li>
<li>PlaceNodes and LabelNodes now support localized occlusion culling.</li>
<li>The Controls utility library works on iOS/GLES now.</li>
</ul>
</div>
<div class="section" id="version-2-4-april-2013">
<h4>Version 2.4 (April 2013)<a class="headerlink" href="#version-2-4-april-2013" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>New “MP” terrain engine with better performance and support for unlimited image layers (now the default)</li>
<li>Shader Composition - reworked the framework for more flexible control of vertex shaders</li>
<li>EarthManipulator - support for mobile (multitouch) actions</li>
<li>GPU clamping of feature geometry (ClampableNode)</li>
<li>TMSBackFiller tool to generate low-res LODs from high-res data</li>
<li>OceanSurface support for masking layer</li>
<li>New RenderSymbol for draw control</li>
<li>Fade-in control for feature layers</li>
<li>OverlayDecorator - improvements in draping; eliminated jittering</li>
<li>Added feature caching in FeatureSourceIndexNode</li>
<li>ShaderGenerator - added support for more texture types</li>
<li>Draping - moved draping/clamping control into Symbology (AltitudeSymbol)</li>
<li>Lines - add units to “stroke-width”, for values like “25m”, also “stroke-min-pixels”</li>
<li>PolygonizeLines operator with GPU auto-scaling</li>
<li>New Documentation site (stored in the repo) at <a class="reference external" href="http://osgearth.readthedocs.org">http://osgearth.readthedocs.org</a></li>
<li>Decluttering - new “max_objects” property to limit number of drawables</li>
<li>New ElevationLOD node</li>
<li>SkyNode - added automatic ambient light calculation</li>
<li>New DataScanner - build ImageLayers from a recursive file search</li>
<li>Qt: new ViewWidget for use with a CompositeViewer</li>
<li>Map: batch updates using the beginUpdate/endUpdate construct</li>
<li>GLSL Color Filter: embed custom GLSL code directly in the earth file (glsl_filter.earth)</li>
<li>Agglite: Support for “stroke-width” with units and min-pixels for rasterization</li>
<li>Terrain options: force an elevation grid size with &lt;elevation_tile_size&gt;</li>
<li>Better iOS support</li>
<li>New “BYO” terrain engine lets you load an external model as your terrain</li>
<li>New “first_lod” property lets you force a minimum LOD to start at</li>
<li>Better support for tiled data layers</li>
<li>Lots of bug fixes and performance improvements</li>
<li>New documentation site stored in the osgEarth repo (docs.osgearth.org)</li>
</ul>
</div>
</div>
<span id="document-support"></span><div class="section" id="osgearth-priority-support">
<h3>osgEarth Priority Support<a class="headerlink" href="#osgearth-priority-support" title="Permalink to this headline">¶</a></h3>
<p>The osgEarth free open source SDK is a leading platform for mapping and visualization. But let’s be honest, there’s a lot of learning involved in crafting a geospatial-enabled application! Whether you are using osgEarth or other geospatial platforms, we’re here to help.</p>
<p><a class="reference external" href="http://web.pelicanmapping.com/priority-support/">Priority Support</a> is the best way to get peace of mind as you develop your own geospatial applications. Here’s what you can expect:</p>
<blockquote>
<div><ul class="simple">
<li>Private, e-mail based support tickets, tracked in our system</li>
<li>Quick turnaround times</li>
<li>Custom code examples</li>
<li>Code analysis and recommendations</li>
<li>Testing and evaluation to help you track down problems</li>
<li>Bug fixes to our open source software</li>
<li>Recommendations on best practices</li>
<li>General advice on anything OSG or geospatial!</li>
</ul>
</div></blockquote>
<p>Go to the <a class="reference external" href="http://web.pelicanmapping.com/priority-support/">Priority Support</a> page on our web site for pricing and terms.</p>
<p>How can we help you?</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pelican Mapping
      
        <span class="commit">
          Revision <code>d63d2ac1</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
          <dd><a href="/en/osgearth-2.8/">osgearth-2.8</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//readthedocs.org/projects/osgearth/downloads/pdf/latest/">pdf</a></dd>
        
          <dd><a href="//readthedocs.org/projects/osgearth/downloads/htmlzip/latest/">html</a></dd>
        
          <dd><a href="//readthedocs.org/projects/osgearth/downloads/epub/latest/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/osgearth/?fromdocs=osgearth">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/osgearth/?fromdocs=osgearth">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>